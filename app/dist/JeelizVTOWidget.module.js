/* eslint-disable */
let JeefitFallback=null;let JEELIZVTO=null;let JEELIZVTOWIDGET=null;var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(ya,Ea){return Object.prototype.hasOwnProperty.call(ya,Ea)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(ya,Ea,Ga){if(ya==Array.prototype||ya==Object.prototype)return ya;ya[Ea]=Ga.value;return ya};
$jscomp.getGlobal=function(ya){ya=["object"==typeof globalThis&&globalThis,ya,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var Ea=0;Ea<ya.length;++Ea){var Ga=ya[Ea];if(Ga&&Ga.Math==Math)return Ga}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(ya,Ea){var Ga=$jscomp.propertyToPolyfillSymbol[Ea];if(null==Ga)return ya[Ea];Ga=ya[Ga];return void 0!==Ga?Ga:ya[Ea]};$jscomp.polyfill=function(ya,Ea,Ga,$a){Ea&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(ya,Ea,Ga,$a):$jscomp.polyfillUnisolated(ya,Ea,Ga,$a))};
$jscomp.polyfillUnisolated=function(ya,Ea,Ga,$a){Ga=$jscomp.global;ya=ya.split(".");for($a=0;$a<ya.length-1;$a++){var Ha=ya[$a];if(!(Ha in Ga))return;Ga=Ga[Ha]}ya=ya[ya.length-1];$a=Ga[ya];Ea=Ea($a);Ea!=$a&&null!=Ea&&$jscomp.defineProperty(Ga,ya,{configurable:!0,writable:!0,value:Ea})};
$jscomp.polyfillIsolated=function(ya,Ea,Ga,$a){var Ha=ya.split(".");ya=1===Ha.length;$a=Ha[0];$a=!ya&&$a in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var hc=0;hc<Ha.length-1;hc++){var xa=Ha[hc];if(!(xa in $a))return;$a=$a[xa]}Ha=Ha[Ha.length-1];Ga=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Ga?$a[Ha]:null;Ea=Ea(Ga);null!=Ea&&(ya?$jscomp.defineProperty($jscomp.polyfills,Ha,{configurable:!0,writable:!0,value:Ea}):Ea!==Ga&&($jscomp.propertyToPolyfillSymbol[Ha]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(Ha):
$jscomp.POLYFILL_PREFIX+Ha,Ha=$jscomp.propertyToPolyfillSymbol[Ha],$jscomp.defineProperty($a,Ha,{configurable:!0,writable:!0,value:Ea})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(ya,Ea){for(var Ga=1;Ga<arguments.length;Ga++){var $a=arguments[Ga];if($a)for(var Ha in $a)$jscomp.owns($a,Ha)&&(ya[Ha]=$a[Ha])}return ya};$jscomp.polyfill("Object.assign",function(ya){return ya||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(ya){var Ea=0;return function(){return Ea<ya.length?{done:!1,value:ya[Ea++]}:{done:!0}}};$jscomp.arrayIterator=function(ya){return{next:$jscomp.arrayIteratorImpl(ya)}};$jscomp.makeIterator=function(ya){var Ea="undefined"!=typeof Symbol&&Symbol.iterator&&ya[Symbol.iterator];return Ea?Ea.call(ya):$jscomp.arrayIterator(ya)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(ya){function Ea(){this.batch_=null}function Ga(xa){return xa instanceof Ha?xa:new Ha(function(Sa,db){Sa(xa)})}if(ya&&!$jscomp.FORCE_POLYFILL_PROMISE)return ya;Ea.prototype.asyncExecute=function(xa){if(null==this.batch_){this.batch_=[];var Sa=this;this.asyncExecuteFunction(function(){Sa.executeBatch_()})}this.batch_.push(xa)};var $a=$jscomp.global.setTimeout;Ea.prototype.asyncExecuteFunction=function(xa){$a(xa,0)};Ea.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var xa=this.batch_;this.batch_=[];for(var Sa=0;Sa<xa.length;++Sa){var db=xa[Sa];xa[Sa]=null;try{db()}catch(ub){this.asyncThrow_(ub)}}}this.batch_=null};Ea.prototype.asyncThrow_=function(xa){this.asyncExecuteFunction(function(){throw xa;})};var Ha=function(xa){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Sa=this.createResolveAndReject_();try{xa(Sa.resolve,Sa.reject)}catch(db){Sa.reject(db)}};Ha.prototype.createResolveAndReject_=function(){function xa(ub){return function(Ob){db||
(db=!0,ub.call(Sa,Ob))}}var Sa=this,db=!1;return{resolve:xa(this.resolveTo_),reject:xa(this.reject_)}};Ha.prototype.resolveTo_=function(xa){if(xa===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(xa instanceof Ha)this.settleSameAsPromise_(xa);else{a:switch(typeof xa){case "object":var Sa=null!=xa;break a;case "function":Sa=!0;break a;default:Sa=!1}Sa?this.resolveToNonPromiseObj_(xa):this.fulfill_(xa)}};Ha.prototype.resolveToNonPromiseObj_=function(xa){var Sa=void 0;
try{Sa=xa.then}catch(db){this.reject_(db);return}"function"==typeof Sa?this.settleSameAsThenable_(Sa,xa):this.fulfill_(xa)};Ha.prototype.reject_=function(xa){this.settle_(2,xa)};Ha.prototype.fulfill_=function(xa){this.settle_(1,xa)};Ha.prototype.settle_=function(xa,Sa){if(0!=this.state_)throw Error("Cannot settle("+xa+", "+Sa+"): Promise already settled in state"+this.state_);this.state_=xa;this.result_=Sa;this.executeOnSettledCallbacks_()};Ha.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var xa=0;xa<this.onSettledCallbacks_.length;++xa)hc.asyncExecute(this.onSettledCallbacks_[xa]);this.onSettledCallbacks_=null}};var hc=new Ea;Ha.prototype.settleSameAsPromise_=function(xa){var Sa=this.createResolveAndReject_();xa.callWhenSettled_(Sa.resolve,Sa.reject)};Ha.prototype.settleSameAsThenable_=function(xa,Sa){var db=this.createResolveAndReject_();try{xa.call(Sa,db.resolve,db.reject)}catch(ub){db.reject(ub)}};Ha.prototype.then=function(xa,Sa){function db(Qb,Db){return"function"==
typeof Qb?function(rc){try{ub(Qb(rc))}catch(vc){Ob(vc)}}:Db}var ub,Ob,Cc=new Ha(function(Qb,Db){ub=Qb;Ob=Db});this.callWhenSettled_(db(xa,ub),db(Sa,Ob));return Cc};Ha.prototype.catch=function(xa){return this.then(void 0,xa)};Ha.prototype.callWhenSettled_=function(xa,Sa){function db(){switch(ub.state_){case 1:xa(ub.result_);break;case 2:Sa(ub.result_);break;default:throw Error("Unexpected state: "+ub.state_);}}var ub=this;null==this.onSettledCallbacks_?hc.asyncExecute(db):this.onSettledCallbacks_.push(db)};
Ha.resolve=Ga;Ha.reject=function(xa){return new Ha(function(Sa,db){db(xa)})};Ha.race=function(xa){return new Ha(function(Sa,db){for(var ub=$jscomp.makeIterator(xa),Ob=ub.next();!Ob.done;Ob=ub.next())Ga(Ob.value).callWhenSettled_(Sa,db)})};Ha.all=function(xa){var Sa=$jscomp.makeIterator(xa),db=Sa.next();return db.done?Ga([]):new Ha(function(ub,Ob){function Cc(rc){return function(vc){Qb[rc]=vc;Db--;0==Db&&ub(Qb)}}var Qb=[],Db=0;do Qb.push(void 0),Db++,Ga(db.value).callWhenSettled_(Cc(Qb.length-1),Ob),
db=Sa.next();while(!db.done)})};return Ha},"es6","es3");$jscomp.polyfill("Math.log2",function(ya){return ya?ya:function(Ea){return Math.log(Ea)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(ya){return ya?ya:function(Ea){return this.then(function(Ga){return Promise.resolve(Ea()).then(function(){return Ga})},function(Ga){return Promise.resolve(Ea()).then(function(){throw Ga;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(ya){return ya?ya:function(Ea){Ea=Number(Ea);return 0===Ea||isNaN(Ea)?Ea:0<Ea?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function ya(){Oa.mode=Eb.realtime;Oa.canRT=!0;Oa.isRT=!0;oa.adjust=Ga("JeelizVTOWidgetAdjust");oa.adjust&&(oa.adjustNotice=Ga("JeelizVTOWidgetAdjustNotice"),oa.adjustExit=Ga("JeelizVTOWidgetAdjustExit"),oa.changeModelContainer=Ga("JeelizVTOWidgetChangeModelContainer"),oa.buttonResizeCanvas=Ga("buttonResizeCanvas"),db(oa.adjust,vc),db(oa.adjustExit,Uc),[oa.adjust,oa.changeModelContainer,oa.buttonResizeCanvas].forEach($a));Vc();wc.enabled&&nb.do_instantDetection(wc.interval,
wc.callback);nc&&(nc(!0),nc=null)}function Ea(){var Q=document.createElement("style");Q.setAttribute("type","text/css");Q.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var ia=document.getElementsByTagName("head");1<=ia.length?ia[0].appendChild(Q):document.body.appendChild(Q)}function Ga(Q){return document.getElementById(Q)}function $a(Q){Q&&(Q.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(Q).display&&Q.classList.add("_jeelizVTOForceShow"))}
function Ha(Q){Q&&(Q.classList.add("_jeelizVTOForceHide"),Q.classList.remove("_jeelizVTOForceShow"))}function hc(Q,ia){if(Q)for(var Fa in ia)Q.style[Fa]=ia[Fa]}function xa(Q){if(Q)return Q.clientWidth}function Sa(Q){if(Q)return Q.clientHeight}function db(Q,ia){Q&&Q.addEventListener("click",ia,!1)}function ub(Q,ia){Q&&Q.addEventListener("change",ia,!1)}function Ob(Q){return new Promise(function(ia,Fa){var ta=new XMLHttpRequest;ta.open("GET",Q,!0);ta.onreadystatechange=function(){if(4===ta.readyState)if(200===
ta.status||0===ta.status)try{var ab=JSON.parse(ta.responseText);ia(ab)}catch(Pa){Fa("INVALID JSON")}else Fa("HTTP ERROR "+ta.status)};ta.send()})}function Cc(Q){Oa.canRT=!1;Oa.isRT=!1;if(oc.disableFallback)Db(Q||"FALLBACK_UNAVAILABLE");else if(oa.uploadNotice=Ga("JeelizVTOWidgetUploadNotice"),xb.toggle_loading(!1),oa.uploadNotice){$a(oa.uploadNotice);var ia=Ga("JeelizVTOWidgetFileInputNotice");Q=Ga("JeelizVTOWidgetFileInputButtonNotice");ia&&Q?(db(Q,function(Fa){ia&&ia.click()}),ub(ia,function(Fa){xb.toggle_loading(!0);
Wc.read(ia,function(ta){JeefitFallback.switch_toFallbackMode(function(){console.log("INFO in JeelizVTOWidget - switch_toFallbackMode(): success callback launched");JeefitFallback.set_serverURL(oc.fallbackURL);Ha(oa.uploadNotice);Vc();$a(oa.inputFileButton);Mc(ta,function(){Oa.sku&&xb.load_fallback(Oa.sku,!1)});nc&&(nc(!1),nc=null)},function(){Db("FATAL")})},function(ta){xb.toggle_loading(!1);Db(ta)})})):Db("NOFILEINPUTNOTICE")}}function Qb(){Db("INVALID_SKU")}function Db(Q){Nc.error?Nc.error(Q):console.log("ERROR:",
Q)}function rc(){Oc=xa(oa.container);Pc=Sa(oa.container);Fc=Math.round(1*Oc);Gc=Math.round(1*Pc);hc(oa.cv,{width:Oc.toString()+"px",height:Pc.toString()+"px"});oa.cv.width=Fc;oa.cv.height=Gc;nb&&(Oa.mode===Eb.notLoaded?nb.set_size(Fc,Gc):nb.resize(Fc,Gc))}function vc(){[oa.adjust,oa.inputFileButton,oa.backToRTButton,oa.changeModelContainer,oa.buttonResizeCanvas].forEach(Ha);Oa.mode=Eb.adjust;[oa.adjustNotice,oa.adjustExit].forEach($a);oa.cv.style.cursor="move";nb.switch_modeInteractor("movePinch");
Hc("ADJUST_START")}function Uc(){[oa.adjustNotice,oa.adjustExit].forEach(Ha);[oa.adjust,oa.inputFileButton,oa.changeModelContainer,oa.buttonResizeCanvas].forEach($a);Oa.canRT&&!Oa.isRT&&$a(oa.backToRTButton);oa.cv.style.cursor="auto";Oa.mode=Oa.isRT?Oa.realtime:Oa.fallback;nb.switch_modeInteractor("idle");Hc("ADJUST_END")}function Vc(){oa.inputFile=Ga("JeelizVTOWidgetFileInput");oa.inputFileButton=Ga("JeelizVTOWidgetFileInputButton");oa.inputFile&&oa.inputFileButton&&(db(oa.inputFileButton,function(Q){(Q=
oa.inputFile)&&Q.click()}),ub(oa.inputFile,function(Q){xb.toggle_loading(!0);Wc.read(oa.inputFile,function(ia){Oa.isRT?hd(ia,function(){Oa.sku&&xb.load_fallback(Oa.sku,!1)}):Mc(ia,function(){Oa.sku&&xb.load_fallback(Oa.sku,!1)})},function(ia){xb.toggle_loading(!1);Db(ia)})}),$a(oa.inputFileButton))}function Mc(Q,ia){JeefitFallback.reset_adjust();JeefitFallback.detect(Q,!1,function(){console.log("INFO in JeelizVTOWidget - detect_fallback(): detection done successfully");ia&&ia()})}function hd(Q,ia){if(!Oa.isRT)return!1;
oc.disableFallback?Db("FALLBACK_UNAVAILABLE"):JeefitFallback.switch_toFallbackMode(function(){console.log("INFO in JeelizVTOWidget - switch_toFallbackMode(): success callback launched");Oa.isRT=!1;JeefitFallback.set_serverURL(oc.fallbackURL);Mc(Q,function(){Oa.canRT&&oa.backToRTButton&&$a(oa.backToRTButton);ia()})},function(){Db("FALLBACK_UNAVAILABLE")})}function id(){oa.backToRTButton=Ga("JeelizVTOWidgetBackToRealtimeButton");db(oa.backToRTButton,function(){Ha(oa.backToRTButton);JeefitFallback.switch_toFullMode(function(){Oa.isRT=
!0;Oa.mode=Eb.realtime})})}function jd(){if(!oa.trackIframe){var Q=oc.appstaticURL+"jeewidget/";oa.trackIframe=document.createElement("iframe");oa.trackIframe.width="10";oa.trackIframe.height="10";oa.trackIframe.src=Q+"trackIframe.html";hc(oa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});oa.container.appendChild(oa.trackIframe)}}function Xc(Q){if(oa.trackIframe){var ia=location.href.split("?").shift().split("://").pop();ia=ia.split("/").shift();ia=ia.split("www.").pop();try{oa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",
domain:ia,sku:Q},"*")}catch(Fa){}}}function Yc(Q,ia,Fa){nb.load_model(ia.mod+".json",ia.mats,function(){Oa.mode=Eb.realtime;Fa&&Fa();xb.toggle_loading(!1);Xc(Q)},Q)}function Hc(Q){(Q=Zc[Q])&&Q()}var nb=function(){function Q(a,c){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||c(e.responseText)};e.send()}function ia(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===c||-1===c?
-1:c-1;for(var e in a)a[e]=ia(a[e],c);return a}function Fa(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function ta(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";
case "copy":return"";default:return!1}}function ab(a,c){var e=c%8;return a[(c-e)/8]>>7-e&1}function Pa(a,c,e){var d=1,k=0;for(e=c+e-1;e>=c;--e)k+=d*ab(a,e),d*=2;return k}function eb(a){a="undefined"===typeof btoa?Buffer.from(a.data,"base64").toString("latin1"):atob(a.data);for(var c=a.length,e=new Uint8Array(c),d=0;d<c;++d)e[d]=a.charCodeAt(d);return e}function Da(a){var c=JSON.parse(a);a=c.nb;var e=c.n;c=eb(c);for(var d=new Uint32Array(e),k=0;k<e;++k)d[k]=Pa(c,k*a,a);return d}function Xa(a){var c=
JSON.parse(a);a=c.ne;var e=c.nf,d=c.n;c=eb(c);for(var k=new Float32Array(d),n=new Float32Array(e),x=a+e+1,p=0;p<d;++p){var t=x*p,v=0===ab(c,t)?1:-1,D=Pa(c,t+1,a);t=t+1+a;for(var K=n.length,l=0,w=t;w<t+K;++w)n[l]=ab(c,w),++l;for(K=t=0;K<e;++K)t+=n[K]*Math.pow(2,-K-1);k[p]=0===t&&0===D?0:v*(1+t)*Math.pow(2,1+D-Math.pow(2,a-1))}return k}function hb(a){var c=null,e=null,d=null,k=0;this.m=function(n){this.En(n.ud);d.Hk({Pf:n.Pf,Mf:n.Mf})};this.Cl=function(n){return c[n]};this.En=function(n){var x=null;
k=n.length;c=n.map(function(p,t){p=Object.assign({},p,{index:t,parent:this,Ed:x,im:t===k-1});return x=0===t?Fb.instance(p):fb.instance(p)});e=c[0];d=c[k-1];c.forEach(function(p,t){0!==t&&p.Um()})};this.Aa=function(n){var x=n;c.forEach(function(p){x=p.Aa(x,!1)});return x};this.Bl=function(){return e.L()};this.Xe=function(){return d.Fl()};this.th=function(){return d.th()};this.v=function(){c&&(c.forEach(function(n){n.v()}),d=e=c=null,k=0)};"undefined"!==typeof a&&this.m(a)}function Qa(a,c){a[c]=!0;
a.setAttribute(c,"true")}function Ab(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function ic(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Tb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Ub(a){if(!a)return a;var c=null;if(a.video){var e=function(d){return d&&"object"===typeof d?Object.assign({},
d):d};c={};"undefined"!==typeof a.video.width&&(c.width=e(a.video.width));"undefined"!==typeof a.video.height&&(c.height=e(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=e(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&Lb(c,a.deviceId);return c}function Lb(a,c){c&&(a.video=a.video||{},a.video.deviceId={exact:c},a.video.facingMode&&delete a.video.facingMode)}function Vb(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a}
function R(a){function c(l){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(w,r){return Math.abs(w-l)-Math.abs(r-l)})}function e(l){var w=Ub(a);l=l(w);k.push(l);d(l)}function d(l){if(l.video&&l.video.facingMode&&l.video.facingMode.exact){var w=l.video.facingMode.exact;l=Ub(l);delete l.video.facingMode.exact;l.video.facingMode.ideal=w;k.push(l)}}var k=[];if(!a||!a.video)return k;d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var n=
c(a.video.width.ideal).slice(0,3),x=c(a.video.height.ideal).slice(0,3),p={},t=0;for(p.jb=void 0;t<n.length;p={jb:p.jb},++t){p.jb=n[t];var v={},D=0;for(v.ib=void 0;D<x.length;v={ib:v.ib},++D)if(v.ib=x[D],p.jb!==a.video.width.ideal||v.ib!==a.video.height.ideal){var K=Math.max(p.jb,v.ib)/Math.min(p.jb,v.ib);K<4/3-.1||K>16/9+.1||e(function(l,w){return function(r){r.video.width.ideal=l.jb;r.video.height.ideal=w.ib;return r}}(p,v))}}}e(function(l){return Vb(l)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&e(function(l){delete l.video.width.ideal;delete l.video.height.ideal;return l}),e(function(l){delete l.video.width;delete l.video.height;return l}));a.video.facingMode&&(e(function(l){delete l.video.facingMode;return l}),a.video.width&&a.video.height&&e(function(l){Vb(l);delete l.video.facingMode;return l}));k.push({audio:a.audio,video:!0});return k}function X(a){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(d){c=window.innerHeight>window.innerWidth}if(c&&
a&&a.video){c=a.video.width;var e=a.video.height;c&&e&&c.ideal&&e.ideal&&c.ideal>e.ideal&&(a.video.height=c,a.video.width=e)}}function ca(a){a.volume=0;Qa(a,"muted");if(Tb()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;Qa(a,"muted")},5)}}function va(a){var c=Va.element,e=Va.Vg;return null===
c?Promise.resolve():new Promise(function(d,k){if(c.srcObject&&c.srcObject.getVideoTracks){var n=c.srcObject.getVideoTracks();1!==n.length?k("INVALID_TRACKNUMBER"):(n=n[0],a?ja(c,d,k,e):(n.stop(),d()))}else k("BAD_IMPLEMENTATION")})}function ua(a,c,e,d){function k(x){n||(n=!0,e(x))}var n=!1;navigator.mediaDevices.getUserMedia(d).then(function(x){function p(){setTimeout(function(){if(a.currentTime){var v=a.videoWidth,D=a.videoHeight;if(0===v||0===D)k("VIDEO_NULLSIZE");else{v&&(a.style.width=v.toString()+
"px");D&&(a.style.height=D.toString()+"px");v={Dk:null,gg:null,Fm:null};try{var K=x.getVideoTracks()[0];K&&(v.Fm=K,v.Dk=K.getCapabilities(),v.gg=K.getSettings())}catch(l){}Tb()||Ab()?a.parentNode&&null!==a.parentNode?(n||c(a,x,v),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),ca(a),n||c(a,x,v),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";ca(a);setTimeout(function(){a.play()},100)},80)):n||c(a,
x,v)}}else k("VIDEO_NOTSTARTED")},700)}function t(){a.removeEventListener("loadeddata",t,!1);var v=a.play();ca(a);"undefined"===typeof v?p():v.then(function(){p()}).catch(function(){k("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=x:(a.src=window.URL.createObjectURL(x),a.videoStream=x);ca(a);a.addEventListener("loadeddata",t,!1)}).catch(function(x){k(x)})}function ja(a,c,e,d){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(d&&d.video){if(Ab()){var k=
ic();0!==k[0]&&(12>k[0]||12===k[0]&&2>k[1])&&X(d)}d.video.width&&d.video.width.ideal&&(a.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}Qa(a,"autoplay");Qa(a,"playsinline");d&&d.audio?a.volume=0:Qa(a,"muted");ua(a,c,function(){function n(p){if(0===p.length)e("INVALID_FALLBACKCONSTRAINTS");else{var t=p.shift();ua(a,c,function(){n(p)},t)}}var x=R(d);n(x)},d)}else e&&e("MEDIASTREAMAPI_NOTFOUND");else e&&e("VIDEO_NOTPROVIDED")}function na(a){navigator.mediaDevices&&
navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Ca(){function a(){var M=Ic.Pe;xc=M*I.width;yc=M*I.height}function c(){++L;2===L&&(t(),Aa.Lh(),Aa.ij(),Aa.rn(),V.Nc.forEach(function(M){M()}),V.Nc.splice(0),U.model&&!V.isBusy&&
Aa.gi(U.model))}function e(){dc.reset();ec.stop();n(0)}function d(M){Gb&&(Ia.fn(Gb),Gb.remove());Ia.Oj(M);Gb=M}function k(M){J=M;ec.update({la:J})}function n(M){fa=-1;T?fa=la:qa.isEnabled?fa=qa.pi:P?(p(),fa=A===W.X?dc.U():1):(fa=I.Lc[0],p());ra.ma();for(var ea=0;ea<fa;++ea)da.set("s54"),y.qd.R(),y.yb.g(0),g.raw.g(1),aa.l(!1,!1),y.qd.g(0),q.Aa(y.qd);T?(pa(),T=!1,b.flush(),ec.Uf(n)):(Ia.animate(M),qa.isEnabled||(P&&(dc.nj(),ea=dc.uh(1),Y=I.le[1]+ea*(I.le[0]-I.le[1]),I.Ub&&A===W.X&&(u.jj=I.ei+(I.fi-
I.ei)*ea,u.Nd=I.di+(I.wm-I.di)*ea,u.Nd=Math.min(u.Nd,.5))),G=M,A!==W.Ca&&ec.Uf(n)))}function x(){G=Date.now();P=!0}function p(){var M=Va.element.currentTime-pb;0>M&&(pb=Va.element.currentTime);1E3*M<I.qo||(Va.ja.refresh(),pb+=M,da.set("s52"),ra.ma(),y.yb.R(),Va.ja.g(0),aa.l(!1,!0),null!==y.zb&&(da.set("s53"),y.Kc.o(),y.yb.g(0),y.zb.g(1),aa.l(!1,!1)))}function t(){y.zj=Z.instance({isPot:!0,xm:!0,isFloat:!1,url:I.aa+I.xa+I.ro});var M={isPot:!1,xm:!0,isFloat:!1,width:xc,height:yc};y.yb=Z.instance(M);
y.Kc=Z.instance(M);f.kj.push(y.yb,y.Kc);y.qd=Z.instance({isPot:!0,isFloat:!1,width:q.Bl()});I.wd&&(Ja=Z.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(I.Df||-1!==I.Cf.indexOf("//")?"":I.aa+I.xa)+I.Cf}))}function v(){function M(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var ea={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};g.raw=Z.instance(M());g.Ic=Z.instance(M());g.zc=Zb.instance(M());g.Je=Z.instance(ea);
ea={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};g.yg=Z.instance(ea);g.Zd=Z.instance(ea);u.Cd=Z.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function D(M){da.set("s60");g.yg.R();g.raw.g(1);g.Zd.g(2);var ea=I.re[0]+dc.uh(.5)*(I.re[1]-I.re[0]);da.G("u57",ea);da.G("u58",dc.vl()/fa);aa.l(!1,!1);da.set("s61");g.Zd.o();g.yg.g(0);aa.l(!1,!1);M.g(0);g.raw.o();b.viewport(0,0,1,1);da.set("s55");da.eg("u42",$c.get());g.zc.g(1);aa.l(!1,
!1);da.set("s56");b.viewport(1,0,2,1);aa.l(!1,!1);g.Je.R();da.set("s57");da.S("u50",I.me[0]*Y,I.me[1]);g.raw.g(0);g.zc.g(1);aa.l(!1,!1);da.set("s58");g.zc.xn(1);g.Je.g(0);g.Zd.g(2);aa.l(!1,!1);da.set("s59");g.zc.g(0);g.Ic.o();aa.l(!1,!1);G-u.bi>u.jj&&I.Ub&&A===W.X&&(u.bi=G,u.Cd.R(),da.set("s62"),M.g(0),aa.l(!1,!1),La.kb.wj(Va.ja,u.Cd,u.Nd))}function K(){var M=I.aa,ea=I.fe.split("://").shift();if("http"===ea||"https"===ea)M="";M+=I.fe;"json"!==M.split(".").pop()&&(M+=I.neuralNetworkPath);Q(M,function(sa){sa=
JSON.parse(sa);q=new hb({ud:sa.layers,Pf:"gpuRawAvg",Mf:D});c()})}var l=[-1,-1],w=null,r=[.5,0,0,.5],f={eb:null,Qb:!1,Da:!1,kj:[]},h=[0,I.Ga[1],I.Ga[2]],J=I.la,B=null,q=null;a();var m=[0,0,0],F=1,O=0,y={yb:null,Kc:null,qd:null,zj:null,zb:null},g={raw:null,Ic:null,zc:null,Je:null,yg:null,Zd:null},G=0,u={fb:null,gb:null,If:null,bi:0,jj:I.fi,Nd:.1,Cd:null},L=0,H=!1,P=!0,Y=1,fa=-1,W={Ca:-1,X:0,Ia:1,ec:2,fc:3},A=W.X,N=null,z=W.X,C=!1,T=!1,la=1,pa=!1,qa={isEnabled:!1,He:null,Ya:null,pi:0},Ja=null,qb=-1,
bb=!1,za=!1,wa=!1,Wa=[0,0,0],ba=1,ma,Ka,gb,Ba={Ga:[0,0,0],ub:1,Bc:0,za:0,ra:0,oa:I.oa},Rb=[0,0,0],Ya={scale:1,offsetX:0,offsetY:0},pb=0,Aa={Kh:function(){a();l[0]=1;l[1]=xc/yc;$c.m({Bd:I.scanOverlapFactors,oi:I.scanNScaleLevels,wa:xc,hf:yc,Mi:I.scanScale0Factor,Sa:I.Sa,Ni:!0});qb=I.width>I.height?[I.width/I.height,1]:[1,I.height/I.width];f.Da=!0},m:function(){da.ke([{id:"s52",name:"_",s:"attribute vec2 a0;uniform mat2 u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u37*a0;}",
H:["a0"],N:[2],h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u37"],precision:"lowp"},{id:"s54",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",s:"attribute vec2 a0;uniform sampler2D u38;uniform vec2 u39;uniform float u40;const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u38,g);vec2 k=a.gb,b=a.a*u39;vec4 c=texture2D(u38,h);float q=c.a,l=c.y;vec2 m=vec2(mix(1.,1./cos(l),u40),1.);b*=m;vec2 n=a0*.5;float d=texture2D(u38,i).r,e=cos(d),f=sin(d);vec2 o=mat2(e,f,-f,e)*n;vv0=k+o*b,gl_Position=vec4(a0,0.,1.);}",
H:["a0"],N:[2],i:["u1","u38","u39","u40"],precision:"lowp"},{id:"s55",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u41,u38;uniform vec3 u42,u43;uniform float u44,u45;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5);void main(){vec4 b=texture2D(u41,vec2(.625,.625)),c=texture2D(u41,vec2(.875,.625));float d=dot(b-c,e);bool g=d>u45;vec4 a=texture2D(u38,f);g?a.r=2.:a.r>u44?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u42);else{float h=dot(e,texture2D(u41,vec2(.875,.875))),i=dot(e,texture2D(u41,vec2(.125,.625))),j=dot(e,texture2D(u41,vec2(.375,.625)));a.r*=step(1.9,a.r),a.gba+=vec3(h,i,j)*u43*a.a;}gl_FragColor=a;}",
i:"u41 u38 u42 u44 u43 u45".split(" ")},{id:"s56",name:"_",h:"uniform sampler2D u41,u38;uniform vec3 u46,u47;uniform vec2 u48;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u38,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u41,vec2(0.,0.)),e),a=smoothstep(u48.x,u48.y,m);vec4 n=texture2D(u38,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u41,vec2(0.,.75))),q=dot(e,texture2D(u41,vec2(.25,.75))),r=dot(e,texture2D(u41,vec2(.5,.75)));vec3 s=vec3(p,q,r),b=u47+s*u46;float c=texture2D(u38,i).r,d=b.z*.07;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:["u41","u38","u48","u46","u47"]},{id:"s57",name:"_",h:"uniform sampler2D u38,u49;uniform vec2 u50;uniform float u51,u52;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(1.,0.,0.,0.),h=vec4(0.,0.,0.,1.);const vec2 i=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u38,vv0),d=texture2D(u49,vv0),j=texture2D(u38,i);float k=pow(j.a,u52),l=(1.-k)*(u50.y-u50.x)+u50.x,a=step(.33,vv0.x)*step(vv0.x,.67);vec4 m=mix(g,h,a),b=max(l*f,m);b*=mix(f,u51*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
i:["u38","u49","u50","u51","u52"],precision:"highp"},{id:"s58",name:"_",h:"uniform sampler2D u49,u54,u55;const vec4 i=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),j=step(.66,vv0.x);vec4 d=texture2D(u49,vv0),h=texture2D(u54,vv0),a=d+h;float b=a.a;b*=texture2D(u55,f).a,b*=texture2D(u55,g).a,a.a=mix(a.a,b,c),gl_FragColor=a;}",i:["u49","u54","u55"],precision:"highp"},{id:"s59",name:"_",h:"uniform sampler2D u38;uniform float u56;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u38,vv0);float b=step(vv0.x,.33),c=texture2D(u38,f).g;a.a+=a.a*b*u56*abs(sin(c)),gl_FragColor=a;}",
i:["u38","u56"],precision:"highp"},{id:"s60",name:"_",h:"uniform sampler2D u38,u55,u41;uniform vec3 u46,u47;uniform float u57,u58;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,.2);varying vec2 vv0;void main(){vec4 c=texture2D(u38,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u55,vv0);float k=c.a;vec2 l=mix(vec2(.75,.75),vec2(0.,.75),a),m=mix(vec2(0.,.5),vec2(.25,.75),a),n=mix(vec2(.25,.5),vec2(.5,.75),a);float o=dot(e,texture2D(u41,l)),p=dot(e,texture2D(u41,m)),q=dot(e,texture2D(u41,n));vec3 r=mix(i,u46,a),b=r*vec3(o,p,q),s=c.rgb;b=mix(b,u47+b-s,a),b*=k/u58;vec4 t=mix(vec4(b,0.),j,vec4(u57*g,0.));gl_FragColor=t;}",
i:"u38 u55 u41 u57 u58 u46 u47".split(" "),precision:"highp"},{id:"s61",name:"_",h:"uniform sampler2D u55;const vec4 j=vec4(.25,.25,.25,.25);const vec2 e=vec2(.02,.05),f=vec2(5e-4,1e-3);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(e.x,f.x,a),d=mix(e.y,f.y,a);vec3 b=texture2D(u55,vv0).rgb;float h=length(b),i=1.-smoothstep(c,d,h);gl_FragColor=vec4(b,i);}",i:["u55"],precision:"highp"},{id:"s62",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u41;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u41,vec2(.25,.25)),e),b=dot(texture2D(u41,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u41,vec2(.75,.25)),e),d=4.18*dot(texture2D(u41,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u41"]},{id:"s53",name:"_",h:"uniform sampler2D u1,u60;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u60);}",
i:["u1","u60"]}]);v();K();ec.m({Th:!1,la:J});dc.m({Lf:0,n:I.Lc[1]-I.Lc[0]+1,ci:I.Lc[0]});V.set_videoRotation=function(M){yb.rotate=M;V.ready&&(Hb.fg(Va.element.videoWidth,Va.element.videoHeight),Hb.mg())};V.set_viewRotation=function(){};V.set_LUT=function(M){M?Z.instance({url:M,isFloat:!1,isFlipY:!1,O:function(ea){y.zb=ea;Aa.Hc()}}):(y.zb=null,Aa.Hc())};V.resize=function(M,ea){function sa(){ec.stop();f.eb&&(clearTimeout(f.eb),f.eb=null);if(!f.Qb)if(I.width===Ra&&I.height===jb)e();else if(A!==W.X&&
A!==W.Ia)f.eb=setTimeout(sa,I.Ki);else{var Ib="undefined"===typeof Nb?!1:Nb.get_mode(),Bb=A;A=W.Ca;T=f.Qb=!0;pa=function(){T=!1;f.Qb=!1;x();k(I.la);B&&clearTimeout(B);B=!1;A=Bb};I.width=Ra;I.height=jb;Aa.Kh();Aa.Lh();f.kj.forEach(function(cb){cb.resize(Ra,jb)});ha.resize(xc,yc);Aa.Hc();Hb.fg(Va.element.videoWidth?Va.element.videoWidth:Va.element.width,Va.element.videoHeight?Va.element.videoHeight:Va.element.height);Hb.mg();Hb.ij();e();A===W.Ia&&(A=W.X,V.switch_viewer3D(!0,!1));Ib&&Nb.switch_mode(Ib)}}
if(V.ready){f.eb&&(clearTimeout(f.eb),f.eb=null);ec.stop();var Ra=M*Ic.Pe,jb=ea*Ic.Pe;f.eb=setTimeout(sa,I.Ki)}}},v:function(){ec.v();return new Promise(function(M){V.switch_sleep(!0,!0).finally(function(){q&&q.v();ha.v();sb.v();b&&(b=null);q=null;I.Df=!1;Gb=null;P=!0;Y=1;fa=-1;A=W.X;N=null;z=W.X;Object.assign(Va,ad);Object.assign(I,bd);M()}).catch(function(){})})},Lh:function(){da.j("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u38",value:1},{type:"2f",name:"u39",value:l},{type:"1f",name:"u40",
value:I.Pk}]);da.j("s55",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u38",value:1},{type:"1f",name:"u44",value:I.$n},{type:"1f",name:"u45",value:I.Qk},{type:"3f",name:"u43",value:[I.Sa[0]*l[0],I.Sa[1]*l[1],I.Sa[2]]}]);da.j("s56",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u38",value:1},{type:"2f",name:"u48",value:I.Xm},{type:"3f",name:"u46",value:[-I.Ba[0],-I.Ba[1],I.Ba[2]]},{type:"3f",name:"u47",value:I.mj}]);da.j("s57",[{type:"1i",name:"u38",value:0},{type:"1i",name:"u49",value:1},{type:"2f",
name:"u50",value:I.me},{type:"1f",name:"u51",value:I.ln},{type:"1f",name:"u52",value:I.Wm}]);da.j("s58",[{type:"1i",name:"u49",value:1},{type:"1i",name:"u54",value:0},{type:"1i",name:"u55",value:2}]);da.j("s59",[{type:"1i",name:"u38",value:0},{type:"1f",name:"u56",value:I.nn}]);da.j("s60",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u38",value:1},{type:"1i",name:"u55",value:2},{type:"3f",name:"u46",value:[-I.Ba[0],-I.Ba[1],I.Ba[2]]},{type:"3f",name:"u47",value:I.mj}]);da.j("s61",[{type:"1i",name:"u55",
value:0}]);da.j("s62",[{type:"1i",name:"u41",value:0}]);da.j("s53",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u60",value:1}])},Hc:function(){Ia.Ti(g.Ic,null===y.zb?y.yb:y.Kc,u.Cd,y.zj)},El:function(){return Ya},Zi:function(M){Ya=M},Vd:function(){Rb[0]=m[0]-Ya.offsetX;Rb[1]=m[1]+Ya.offsetY;Rb[2]=m[2];Ia.un(h,Ba.Ga,Rb)},Wd:function(){Ia.vn(F*I.ub,Ba.ub,Ya.scale)},uj:function(){Ia.wn(O+Ba.Bc)},fo:function(){Ia.sn(I.za+Ba.za,I.ra+Ba.ra)},io:function(){Ia.tn((0===Ba.oa[0]&&0===Ba.oa[1]?I:Ba).oa)},
Xd:function(){Aa.Vd();Aa.Wd();Aa.uj();Aa.fo();Aa.io()},mn:function(){ec.stop();N&&(clearInterval(N),N=null);qa.isEnabled=!0;qa.pi=0;bb=Ia.Dl();za=Gb.Ah();wa=Gb.yh();ba=Ba.ub;Wa=Ba.Ga;ma=Ba.oa;Ka=Ba.za;gb=Ba.ra;T=!1;Ia.Od(!1)},kn:function(M){var ea=null,sa=0;ea=function(){2===++sa&&(qa.isEnabled=!1,Ba.ub=ba,Ba.Ga=Wa,Ba.oa=ma,Ba.za=Ka,Ba.ra=gb,Aa.Xd(),Ia.sa(bb),e(),M&&M())};A===W.ec?A=W.Ia:A===W.fc&&(A=W.X);Ia.$a(A===W.X?0:1);Gb.replace(za,ea);Gb.$f(wa,ea);Aa.Hc();Ia.Od(!0)},ij:function(){var M=Math.tan(Va.Kb/
2);Ia.Si({Re:I.Re/M,on:M,Vm:Va.Bi,Fa:I.Fa,Kf:I.Kf,Cj:l,Kj:I.uo,sc:I.sc,gf:I.gf,ef:I.ef,ff:I.ff,oa:I.oa,oe:I.oe,Ce:I.Ce,Tf:I.Tf,bc:I.bc,Qn:I.dj,Rn:I.ej,Md:I.Md,cc:I.cc,Wc:I.Wc,Ge:I.Ge,Fe:I.Fe,Ee:I.Ee,te:I.te,se:I.aa+I.xa+I.se,za:I.za,ra:I.ra,cf:I.cf,Dg:I.Dg,Cg:I.Cg,be:I.be,Ao:I.zo,ae:Va.ae,wd:I.wd,zm:Ja,vd:I.vd,xd:I.xd,Bf:I.Bf,ym:qb,ng:I.ng})},Ek:function(){var M=yb.ee,ea=yb.de,sa=1/Math.tan(Va.Kb/2),Ra=sb.T()/sb.L();Va.Bi=[sa,0,0,0,0,sa/Ra,0,0,0,0,-(ea+M)/(ea-M),-1,0,0,-2*M*ea/(ea-M),0];Va.ae=1/Math.tan(I.xo*
Math.PI/360)/sa},fg:function(M,ea){w=[.5,.5];M=ea/M;ea=sb.T()/sb.L();90===Math.abs(yb.rotate)&&(M=1/M);M>ea?w[1]*=ea/M:w[0]*=M/ea;r[0]=0;r[1]=0;r[2]=0;r[3]=0;switch(yb.rotate){case 0:r[0]=w[0];r[3]=w[1];break;case 180:r[0]=-w[0];r[3]=-w[1];break;case 90:r[1]=w[0];r[2]=-w[1];break;case -90:r[1]=-w[0],r[2]=w[1]}Va.Kb=2*Math.atan(2*w[0]*Math.tan((1<M?yb.Ej:yb.FOVdesktop)*Math.PI/180/2));Aa.Ek()},mg:function(){da.j("s52",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u37",value:r}])},lf:function(M,
ea){f.Da||Aa.Kh();Aa.$l(M,ea);Aa.m();if(!Aa.Xl())return V.mb&&V.mb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;Aa.Ih();return!0},$l:function(M,ea){V.Bb=document.createElement("canvas");V.Ab=document.createElement("canvas");V.Ab.width=I.width;V.Ab.height=I.height;V.Lj=V.Ab.getContext("2d");V.replace_video=function(sa){Va.element=sa;Va.tg.ha=Va.element;return!0};V.lc=V.Bb.getContext("2d");V.capture_background=function(sa,Ra){sa="undefined"===typeof sa?M:sa;Ra="undefined"===typeof Ra?ea:Ra;V.Bb.width=
sa;V.Bb.height=Ra;var jb=sa/Ra,Ib=0,Bb=0;if(M/ea>jb){var cb=ea*jb;jb=ea;Ib=Math.round((M-cb)/2)}else cb=M,jb=M/jb,Bb=Math.round((ea-jb)/2);V.lc.save();V.lc.translate(sa,0);V.lc.scale(-1,1);V.lc.drawImage(Va.element,Ib,Bb,cb,jb,0,0,sa,Ra);V.lc.restore();sa=document.createElement("canvas");sa.width=V.Bb.width;sa.height=V.Bb.height;sa.getContext("2d").drawImage(V.Bb,0,0);return sa}},Ih:function(){window.CanvasListeners&&(Nb.init({ua:sb.qb()}),V.init_listeners=Aa.Ih,V.add_listener=Nb.add_listener,V.remove_listener=
Nb.remove_listener,V.animate_swipe=Nb.animate_swipe,V.switch_modeInteractor=Nb.switch_mode,V.get_modeInteractor=Nb.get_mode,Nb.add_listener("move",function(M,ea){A===W.X&&(I.Am&&(Ya.offsetX-=ea[0]*I.ii,Ya.offsetX=Math.min(Math.max(Ya.offsetX,-I.yd),I.yd)),Ya.offsetY-=ea[1]*I.ii,Ya.offsetY=Math.min(Math.max(Ya.offsetY,-I.yd),I.yd),Aa.Vd())},!0).add_listener("pinch",function(M,ea){A===W.X&&(Ya.scale+=ea*I.Bm,Ya.scale=Math.min(Math.max(Ya.scale,I.ji[0]),I.ji[1]),Aa.Wd())},!0))},Xl:function(){return ha.m({rd:!1,
Ck:!1,expand:!1,ua:sb.qb(),Ob:sb,onload:function(){u.gb=Dc.instance({Eb:I.aa+I.xa+Cb.so,nc:I.aa+I.xa+Cb.to,mc:Cb.Aj,oc:Cb.Bj});I.Ub?(u.fb=Dc.instance({}),La.kb.sa(u.fb)):u.fb=u.gb;Ia.sa(u.fb);u.If=I.Ub?kd.instance({vm:u.fb,tm:u.gb}):u.gb;c()}})},rn:function(){V.load_model=function(M,ea,sa){if(V.isBusy)return!1;V.isBusy=!0;if(U.model)V.set_model(M,function(){V.set_materials(ea,function(){V.isBusy=!1;sa&&sa()})},function(){V.isBusy=!1});else{var Ra=I.aa+I.xa+I.Ff+"/",jb=ea.map(function(Ib){return Ra+
Ib});U.model={url:I.aa+I.xa+I.Jf+"/"+M,yc:jb,Db:!1,Cb:!1};Aa.gi(U.model,function(){V.isBusy=!1;sa&&sa()})}return!0};V.set_offset=function(M){m=M;Aa.Vd()};V.set_scale=function(M){F=M;Aa.Wd()};V.set_rx=function(M){O=M;Aa.uj()};V.switch_shadow=Ia.lg;V.switch_bgBlur=Ia.kg;V.set_zoom=Ia.Zf;V.is_viewer3D=function(){return A===W.Ia};V.switch_viewer3D=function(M,ea){if(A===W.ec||A===W.fc||A===W.X&&!M||A===W.Ia&&M||T)return!1;if(A===W.Ca)return z!==W.Ia||M?z===W.X&&M?(z=W.Ia,Ia.sa(u.gb),Ia.$a(1),ea&&ea(),
!0):!1:(z=W.X,Ia.sa(u.fb),Ia.$a(0),ea&&ea(),!0);var sa=0,Ra=-1,jb=0;A===W.X?(A=W.ec,Ra=I.yo):A===W.Ia&&(A=W.fc,Ra=I.Bo);var Ib=Date.now();N=setInterval(function(){var Bb=Date.now();sa+=(Bb-Ib)/Ra;1<=sa&&(sa=1,A===W.ec?(A=W.Ia,Ia.sa(u.gb)):(A=W.X,Ia.sa(u.fb)),ea&&ea(),clearInterval(N),N=null);var cb=A===W.fc||A===W.X?1-I.wo(sa):I.vo(sa);Ia.$a(cb);A!==W.fc&&A!==W.ec||0!==jb++%2||(Ia.sa(u.If),u.If.Ln(cb));Ib=Bb},.016);return!0};V.capture_image=function(M,ea,sa,Ra){la=M;T=!0;"undefined"===typeof isAllocate&&
(sa=!1);(Ra="undefined"===typeof Ra?!1:Ra)&&Ia.Od(!1);p();pa=function(){Ia.Gi(0);b.flush();var jb=sb.vh(sa);ea(jb);Ra&&Ia.Od(!0)}};V.capture_detection=function(M,ea){la=M;T=!0;var sa=null===y.zb?y.yb:y.Kc;pa=function(){var Ra=cd.instance({De:g.Ic.clone(),mi:Gb.Ah(),li:Gb.yh(),background:sa.clone(),Ya:La.kb.Ql().clone(),Ef:Ya});ea(Ra)}};V.process_offlineRendering=function(M,ea,sa,Ra,jb){function Ib(){if(2===++Bb){qa.Ya||(qa.Ya=Dc.instance({}));M.xh()&&(qa.Ya.Yi(M.xh()),I.ap?Ia.sa(u.gb):Ia.sa(qa.Ya));
qa.He.set();e();qa.He=!1;Aa.kn(Ra?function(){sb.qb().parentNode.removeChild(V.Ab)}:!1);var cb=sb.vh(!1);setTimeout(function(){jb(cb)},1)}}Aa.mn();Ra&&(V.Lj.drawImage(sb.qb(),0,0),sb.qb().parentNode.insertBefore(V.Ab,sb.qb()),V.Ab.setAttribute("class","jeefitMask"));qa.He=M;var Bb=0;V.set_model(ea,function(){Ib();V.set_materials(sa,function(){setTimeout(Ib,1)})})};V.serialize_detection=function(M){return M.Cc()};V.unserialize_detection=function(M,ea,sa){return cd.Jc(M,ea,sa)};V.do_instantDetection=
function(M,ea){dd.m(g.Ic);dd.start(M,ea)};V.relieve_DOM=function(M,ea){if(f.Qb)return!1;k(ea||160);P=!1;B&&clearTimeout(B);B=setTimeout(function(){k(I.la);B=!1;x()},M);return!0};V.switch_slow=function(M,ea){if(f.Qb)return!1;"undefined"===typeof ea&&(ea=I.Rj);B&&(k(I.la),x(),clearTimeout(B),B=!1);M?P=!1:x();k(M?ea:I.la);return!0};V.switch_deepSleep=function(M){if(C===M)return!1;C=!1;V.switch_sleep(M);C=M;return!0};V.switch_sleep=function(M,ea){function sa(){V.isBusy=!1;M?(z=A,A=W.Ca):(A=z,e())}if(f.Qb||
C||V.isBusy)return ea?Promise.reject():null;if(M&&A===W.Ca||!M&&A!==W.Ca)return ea?Promise.resolve(!1):!1;N&&(clearInterval(N),N=null);A===W.fc?(A=W.X,Ia.sa(u.fb),Ia.$a(0)):A===W.ec&&(A=W.Ia,Ia.sa(u.gb),Ia.$a(1));ec.stop();var Ra=null;V.isBusy=!0;ea?Ra=va(!M).then(sa):sa();return ea?Ra:!0};V.set_modelStandalone=function(M,ea){Ia.Pd(!1);Qc.instance({url:M.model,yc:M.materials,Db:!1,Cb:!1,O:function(sa){Ba.Ga=[0,0,0];Ba.ub=1;Ba.Bc=0;Ba.za=I.za;Ba.ra=I.ra;Ba.oa=I.oa;V.ready&&Aa.Xd();ea&&ea();d(sa);Aa.ig();
Ia.Pd(!0)}})};V.start_rendering=Aa.ig;V.update_material=function(M,ea){Gb&&Gb.jo(M,ea)};V.set_model=function(M,ea,sa){Gb&&Gb.replace("http"===M.substring(0,4).toLowerCase()?M:I.aa+I.xa+I.Jf+"/"+M,function(){ea&&ea(Gb.Gk())},sa)};V.set_tweaker=function(M,ea){function sa(Ra){V.Jg(Ra);ea&&ea()}"string"===typeof M?Q(I.aa+I.xa+I.ao+"/"+M,sa):sa(M)};V.Jg=function(M){M&&(M.preOffset&&(Ba.Ga=M.preOffset),M.preScale&&(Ba.ub=M.preScale),M.rx&&(Ba.Bc=M.rx),M.beginBendZ&&(Ba.za=M.beginBendZ),M.bendStrength&&
(Ba.ra=M.bendStrength),M.maskBranchStartEnd&&(Ba.oa=M.maskBranchStartEnd),V.ready&&Aa.Xd())};V.set_materials=function(M,ea){if(Gb){var sa=I.aa+I.xa+I.Ff+"/";M=M.map(function(Ra){var jb=Ra;"string"===typeof Ra&&(jb=sa+Ra,jb=jb.replace(/([^:])\/\//,"$1/"));return jb});Gb.$f(M,ea)}}},ig:function(){H||(Aa.Hc(),I.Ub&&(ra.reset(),La.kb.vk(Va.ja),La.kb.uk()),V.ready=!0,G=0,e(),L=0,H=!0,ha.xg(Ic.ml),Aa.Xd(),Ia.Wn(),V.Oc.forEach(function(M){M()}),V.Oc.splice(0))},gi:function(M,ea){M=Qc.instance({O:function(){Aa.ig();
ea&&ea()},url:M.url,yc:M.yc,Db:M.Db,Cb:M.Cb});d(M)},Zn:function(){if(I.Ub){var M=Object.assign({},Cb,{Xb:I.aa+I.xa+Cb.Xb});La.kb.ag(M)}}};return Aa}function Ua(a){return 3===arguments.length?this.ob(arguments):this.set(a)}function rb(a,c){c=Math.floor(c);a.r=(c>>16&255)/255;a.Y=(c>>8&255)/255;a.b=(c&255)/255}function ob(a,c){function e(p){void 0!==p&&1>parseFloat(p)&&console.warn("JETHREE.Color: Alpha component of "+c+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(c)){var k=
d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(255,parseInt(d[1],10))/255;a.Y=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;e(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(100,parseInt(d[1],10))/100;a.Y=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;e(d[5]);return}break;case "hsl":case "hsla":if(d=
/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){k=parseFloat(d[1])/360;var n=parseInt(d[2],10)/100,x=parseInt(d[3],10)/100;e(d[5]);a.qn(k,n,x);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(c)){d=d[1];k=d.length;if(3===k){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.Y=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===k){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.Y=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=
parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}c&&0<c.length&&(d=ld[c],void 0!==d?rb(a,d):console.warn("JETHREE.Color: Unknown color "+c))}function ib(a,c,e,d){this.B=a||0;this.C=c||0;this.D=e||0;this.M=void 0!==d?d:1}function tb(a,c,e){var d=c.B,k=c.C,n=c.D;c=c.M;var x=e.B,p=e.C,t=e.D;e=e.M;a.B=d*e+c*x+k*t-n*p;a.C=k*e+c*p+n*x-d*t;a.D=n*e+c*t+d*p-k*x;a.M=c*e-d*x-k*p-n*t;return a}function zb(a,c){this.x=a||0;this.y=c||0}function Ta(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0}function kb(a,c){var e=
a.x,d=a.y,k=a.z;a.x=d*c.z-k*c.y;a.y=k*c.x-e*c.z;a.z=e*c.y-d*c.x}function vb(a,c,e,d){this.B=a||0;this.C=c||0;this.D=e||0;this.Ta=d||vb.Dj}function Wb(a,c){this.min=void 0!==a?a:new Ta(Infinity,Infinity,Infinity);this.max=void 0!==c?c:new Ta(-Infinity,-Infinity,-Infinity)}function $b(a){return(new Ta).Pc(a.min,a.max).Ea(.5)}function pc(a,c){a.min.min(c);a.max.max(c)}function Xb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}
function Mb(a,c,e){var d=c.elements,k=e.elements;e=a.elements;c=d[0];var n=d[4],x=d[8],p=d[12],t=d[1],v=d[5],D=d[9],K=d[13],l=d[2],w=d[6],r=d[10],f=d[14],h=d[3],J=d[7],B=d[11];d=d[15];var q=k[0],m=k[4],F=k[8],O=k[12],y=k[1],g=k[5],G=k[9],u=k[13],L=k[2],H=k[6],P=k[10],Y=k[14],fa=k[3],W=k[7],A=k[11];k=k[15];e[0]=c*q+n*y+x*L+p*fa;e[4]=c*m+n*g+x*H+p*W;e[8]=c*F+n*G+x*P+p*A;e[12]=c*O+n*u+x*Y+p*k;e[1]=t*q+v*y+D*L+K*fa;e[5]=t*m+v*g+D*H+K*W;e[9]=t*F+v*G+D*P+K*A;e[13]=t*O+v*u+D*Y+K*k;e[2]=l*q+w*y+r*L+f*fa;
e[6]=l*m+w*g+r*H+f*W;e[10]=l*F+w*G+r*P+f*A;e[14]=l*O+w*u+r*Y+f*k;e[3]=h*q+J*y+B*L+d*fa;e[7]=h*m+J*g+B*H+d*W;e[11]=h*F+J*G+B*P+d*A;e[15]=h*O+J*u+B*Y+d*k;return a}function ac(a,c,e,d,k,n){this.a=a;this.b=c;this.c=e;this.Pa=d instanceof Ta?d:new Ta;this.$d=Array.isArray(d)?d:[];this.color=k instanceof Ua?k:new Ua;this.Ag=Array.isArray(k)?k:[];this.Vb=void 0!==n?n:0}function jc(a,c,e){var d=new XMLHttpRequest;d.open("GET",a,!0);var k=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||
k||(k=!0,e&&e(404));if(4===d.readyState&&200===d.status){var n=null;try{n=JSON.parse(d.responseText)}catch(x){e&&e(-1)}c&&n&&c(n)}};d.onerror=function(){e&&e(0)};d.send()}function fc(a,c,e){"object"===typeof a?c(a):jc(a,c,e)}function zc(a,c){for(var e=new Ta,d=new Ta,k=0,n=c.length;k<n;k++){var x=c[k],p=a[x.a],t=a[x.b];e.cb(a[x.c],t);d.cb(p,t);kb(e,d);0!==e.uf()&&(e.normalize(),x.Pa.J(e))}}function kc(a,c){for(var e=Array(a.length),d=0,k=a.length;d<k;++d)e[d]=new Ta;d=new Ta;k=new Ta;for(var n=0,
x=c.length;n<x;++n){var p=c[n],t=a[p.a],v=a[p.b];d.cb(a[p.c],v);k.cb(t,v);kb(d,k);e[p.a].add(d);e[p.b].add(d);e[p.c].add(d)}d=0;for(a=a.length;d<a;++d)e[d].normalize();a=0;for(d=c.length;a<d;++a)k=c[a],n=k.$d,3===n.length?(n[0].J(e[k.a]),n[1].J(e[k.b]),n[2].J(e[k.c])):(n[0]=e[k.a].clone(),n[1]=e[k.b].clone(),n[2]=e[k.c].clone());return e}function sc(a,c,e,d){function k(O){m.J(c[O]);F.J(m);var y=p[O];B.J(y);B.sub(m.Ea(m.Yc(y))).normalize();var g=F.x,G=F.y,u=F.z,L=y.x,H=y.y;y=y.z;q.x=G*y-u*H;q.y=u*
L-g*y;q.z=g*H-G*L;g=0>q.Yc(t[O])?-1:1;x[4*O]=B.x;x[4*O+1]=B.y;x[4*O+2]=B.z;x[4*O+3]=g}for(var n=a.length,x=new Float32Array(4*n),p=Array(n),t=Array(n),v=0;v<n;v++)p[v]=new Ta,t[v]=new Ta;var D=new Ta,K=new Ta,l=new Ta,w=new zb,r=new zb,f=new zb,h=new Ta,J=new Ta;d.forEach(function(O){var y=O.a,g=O.b;O=O.c;D.J(a[y]);K.J(a[g]);l.J(a[O]);w.J(e[y]);r.J(e[g]);f.J(e[O]);var G=K.x-D.x,u=l.x-D.x,L=K.y-D.y,H=l.y-D.y,P=K.z-D.z,Y=l.z-D.z,fa=r.x-w.x,W=f.x-w.x,A=r.y-w.y,N=f.y-w.y,z=1/(fa*N-W*A);h.set((N*G-A*u)*
z,(N*L-A*H)*z,(N*P-A*Y)*z);J.set((fa*u-W*G)*z,(fa*H-W*L)*z,(fa*Y-W*P)*z);p[y].add(h);p[g].add(h);p[O].add(h);t[y].add(J);t[g].add(J);t[O].add(J)});var B=new Ta,q=new Ta,m=new Ta,F=new Ta;d.forEach(function(O){k(O.a);k(O.b);k(O.c)});return x}function qc(a,c,e,d){return Math.sqrt((a-e)*(a-e)+(c-d)*(c-d))}var U={Zg:!0,Zo:!1,$o:!1,Ok:!1,Yg:!1,Yo:!1,Oa:!1,Ym:!1,rd:!1,Fp:!1,aa:"",Em:"",kk:700,jk:200,$g:!1,mo:!1,no:!1,lo:!1,Sj:3,Ib:!1,Kg:!0,Eb:"images/backgrounds/interior2.jpg",nc:"images/backgrounds/interior_light.jpg",
mk:[256,256,512,512],mc:2.1,oc:8,lk:[64,128,256,256],cm:[60,96,160,250],bm:[8,12,18,40],Wb:2.2,Dd:1,ve:300,Og:500,we:50,wk:0,xk:0,Po:45,Ro:1,Qo:1E3,Pg:20,Co:10,Do:10,Eo:5,Sm:.1,vi:20,yi:100,zi:100,Rm:-Math.PI/3,Qm:Math.PI/3,xi:0,lj:0,il:[40,32,16,16],Qj:[0,.87,.92,.9],Nm:2,Im:100,ba:!1,Tj:16,Uj:.4,Wj:[.72,.73,.72,.74],fk:1.2,ck:[.5,.5,.5,1],hk:140,gk:280,ik:1.2,Xj:20,Yj:40,ek:[6,9,9,12],bk:[.03,.02,.02,.018],ak:[.35,.35,.4,.5],Zj:[.2,.2,.2,.2],Vj:[.1,.15,.15,.15],dk:[200,200,150,120],$j:[1,2,3,5],
Sn:1.1,Yp:[.25,.5,1,2],Zp:256,Xp:256,Wp:200,Tn:[40,80,200,500],Un:[35,45,80,120],Ik:!0,Jk:"CCW"},lc={},da=function(){function a(y,g,G){g=y.createShader(g);y.shaderSource(g,G);y.compileShader(g);return y.getShaderParameter(g,y.COMPILE_STATUS)?g:!1}function c(y,g,G){g=a(y,y.VERTEX_SHADER,g);G=a(y,y.FRAGMENT_SHADER,G);y===b&&x.push(g,G);var u=y.createProgram();y.attachShader(u,g);y.attachShader(u,G);y.linkProgram(u);return u}function e(y,g){g.da=g.da?!0:!1;if(!g.da){void 0===g.s&&(g.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===g.H&&(g.H=["a0"]);void 0===g.N&&(g.N=[2]);if(void 0===g.precision||"highp"===g.precision)g.precision=K;g.id=v++;void 0!==g.Oi&&(g.Oi.forEach(function(u,L){g.h=g.h.replace(u,g.Ha[L])}),g.Oi.splice(0));g.Bg=0;g.N.forEach(function(u){g.Bg+=4*u});g.pa=c(y,g.s,"precision "+g.precision+" float;\n"+g.h);g.A={};g.i.forEach(function(u){g.A[u]=y.getUniformLocation(g.pa,u)});g.attributes={};g.ya=[];g.H.forEach(function(u){var L=y.getAttribLocation(g.pa,u);g.attributes[u]=L;g.ya.push(L)});if(g.u){y.useProgram(g.pa);
t=g;p=g.id;for(var G in g.u)y.uniform1i(g.A[G],g.u[G])}g.Da=!0}}function d(y){Jb.bj(O);p!==y.id&&(O.I(),p=y.id,t=y,b.useProgram(y.pa),y.ya.forEach(function(g){0!==g&&b.enableVertexAttribArray(g)}))}function k(y,g,G){e(y,g,G);y.useProgram(g.pa);y.enableVertexAttribArray(0);p=-1;return t=g}function n(){return{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}}}var x=[],p=-1,t=null,v=0,D=!1,K="highp",l=["u1"],w=["u0"],r={u1:0},f={u0:0},h={u1:0,u2:1},
J={u3:0},B={s0:n(),s1:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:l,u:r,precision:"lowp"},s2:{h:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],u:h},s3:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:l,u:r},s4:{h:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
i:["u1","u2"],u:h},s5:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:l,u:r},s6:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:l,u:r},s7:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",i:["u0","u4"],u:f},s8:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
i:["u0","u4"],u:f},s9:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:l,u:r},s10:{h:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",i:["u1","u5","u6"],u:{u1:0,u5:1}},s11:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",
i:["u1","u7"],u:r},s12:{h:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
i:["u1","u8"],u:r},s13:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:w,u:f,da:!0},s14:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:w,u:f},s15:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:w,u:f},
s16:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:w,u:f},s17:{h:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u6","u9"],u:{u0:0,u6:1,u9:2},da:!0},s18:{h:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
i:w,u:f},s19:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",i:w,u:f,da:!0},s20:{h:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u10","u11"],u:{u0:0,u10:1},da:!0},s21:{h:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u12"],u:r},s22:{h:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",i:["u13","u14","u15"],u:{u14:0,u13:1,u15:2},da:!0},s23:{h:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",i:["u14","u13","u16"],u:{u14:0,u13:1}},s24:{h:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u13 u14 u16 u20 u17 u18 u19".split(" "),u:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6},da:!0},s25:{h:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",i:"u13 u14 u16 u22 u23 u24 u21".split(" "),
u:{u14:0,u13:1,u21:2}},s26:{h:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",i:["u13","u14"],u:{u14:0,u13:1},da:!0},s27:{h:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",i:["u1","u21","u25"],u:{u1:0,u21:1}},s28:{h:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:l,u:r,precision:"lowp"},s29:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u26"],u:r,precision:"lowp"},s30:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u26"],u:r,precision:"lowp"},s31:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u27"],u:h,da:!0},s32:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u27"],u:h,da:!0},s33:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u7"],u:J},s34:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u7"],u:J,da:!0},
s35:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],u:r,precision:"lowp",da:!0},s36:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",i:["u7","u1"],u:r,precision:"lowp",
da:!0},s37:{h:"uniform sampler2D u1,u10,u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u10,vv0),b=texture2D(u28,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u10","u28"],u:{u1:0,u10:1,u28:2},da:!0}},q={s38:{h:"uniform float u16,u29;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u29*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u16","u13","u14","u21","u29"],Ha:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{h:"uniform float u16,u29,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u29*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u16 u24 u13 u14 u21 u29".split(" "),Ha:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},m=null,F=null,O={Tb:function(){return D},m:function(){if(!D){m=ia(B,2);F=ia(q,2);K="highp";for(var y in m)e(b,m[y],y);da.set("s0");b.enableVertexAttribArray(0);D=!0}},ke:function(y){y.forEach(function(g){O.qa(g)})},qa:function(y){m[y.id]=y;e(b,y,y.id)},Jh:function(y,g,G){g||(g=y);m[g]=Object.create(F[y]);m[g].hm=!0;F[y].Ha&&F[y].Ha.forEach(function(u,L){m[g].h=m[g].h.replace(new RegExp(u,"g"),G[L])});e(b,m[g],
g)},set:function(y){var g=m[y];g.da&&(g.da=!1,e(b,g,y));d(g)},vb:function(y){return k(y,n(),"s40")},Id:function(y){return k(y,{h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"},"s41")},ll:function(y){return"undefined"===typeof m[y]?!1:m[y].Da},I:function(){-1!==p&&(p=-1,t.ya.forEach(function(y){0!==y&&b.disableVertexAttribArray(y)}))},Kd:function(){var y=0;t.ya.forEach(function(g,G){G=t.N[G];b.vertexAttribPointer(g,G,b.FLOAT,!1,t.Bg,y);y+=4*G})},ep:function(){b.enableVertexAttribArray(0)},
Fc:function(){O.$b(b)},$b:function(y){y.vertexAttribPointer(t.ya[0],2,y.FLOAT,!1,8,0)},Jd:function(y,g){b.uniform1i(t.A[y],g)},G:function(y,g){b.uniform1f(t.A[y],g)},S:function(y,g,G){b.uniform2f(t.A[y],g,G)},cj:function(y,g){b.uniform2fv(t.A[y],g)},eg:function(y,g){b.uniform3fv(t.A[y],g)},dg:function(y,g,G,u){b.uniform3f(t.A[y],g,G,u)},Vp:function(y,g,G,u,L){b.uniform4f(t.A[y],g,G,u,L)},va:function(y,g){b.uniform4fv(t.A[y],g)},Nn:function(y,g){b.uniformMatrix2fv(t.A[y],!1,g)},On:function(y,g){b.uniformMatrix3fv(t.A[y],
!1,g)},Ec:function(y,g){b.uniformMatrix4fv(t.A[y],!1,g)},j:function(y,g){O.set(y);g.forEach(function(G){switch(G.type){case "4f":b.uniform4fv(t.A[G.name],G.value);break;case "3f":b.uniform3fv(t.A[G.name],G.value);break;case "2f":b.uniform2fv(t.A[G.name],G.value);break;case "1f":b.uniform1f(t.A[G.name],G.value);break;case "1i":b.uniform1i(t.A[G.name],G.value);break;case "mat2":b.uniformMatrix2fv(t.A[G.name],!1,G.value);break;case "mat3":b.uniformMatrix3fv(t.A[G.name],!1,G.value);break;case "mat4":b.uniformMatrix4fv(t.A[G.name],
!1,G.value)}})},pp:function(){return"lowp"},v:function(){b.disableVertexAttribArray(0);O.I();for(var y in m){var g=m[y];g.Da&&(g.Da=!1,b.deleteProgram(g.pa));g.hm&&delete m[y]}x.forEach(function(G){b.deleteShader(G)});x.splice(0);v=0;D=!1;t=null;p=-1}};return O}(),b=null,sb=function(){function a(l){console.log("ERROR in ContextFF: ",l);return!1}function c(l){function w(){Na.v();S.reset();f.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var r=document.createElement("canvas");r.setAttribute("width",5);r.setAttribute("height",5);var f=null;try{f=r.getContext("webgl2",l)}catch(h){return!1}if(!f)return!1;e(f);S.ih(f);l=S.Ie(f);if(!l.Va&&!l.Wa)return w(),!1;l=Na.Qg(f,l);w();return l?!0:!1}function e(l){l.clearColor(0,0,0,0);l.disable(l.DEPTH_TEST);l.disable(l.BLEND);l.disable(l.DITHER);l.disable(l.STENCIL_TEST);l.disable(l.CULL_FACE);l.GENERATE_MIPMAP_HINT&&l.hint(l.GENERATE_MIPMAP_HINT,l.FASTEST);l.disable(l.SAMPLE_ALPHA_TO_COVERAGE);
l.disable(l.SAMPLE_COVERAGE);l.depthFunc(l.LEQUAL);l.clearDepth(1)}var d=null,k=null,n=null,x=null,p=!0,t=null,v=null,D=[],K={L:function(){return d.width},T:function(){return d.height},qb:function(){return d},ol:function(){return b},ia:function(){return p},flush:function(){b.flush()},ul:function(){t||(t=new Uint8Array(d.width*d.height*4));b.readPixels(0,0,d.width,d.height,b.RGBA,b.UNSIGNED_BYTE,t);return t},lp:function(){return d.toDataURL("image/jpeg")},mp:function(){ra.$();k||(k=document.createElement("canvas"),
n=k.getContext("2d"));k.width=d.width;k.height=d.height;for(var l=K.ul(),w=n.createImageData(k.width,k.height),r=k.width,f=k.height,h=w.data,J=0;J<f;++J)for(var B=f-J-1,q=0;q<r;++q){var m=4*(J*r+q),F=4*(B*r+q);h[m]=l[F];h[m+1]=l[F+1];h[m+2]=l[F+2];h[m+3]=l[F+3]}n.putImageData(w,0,0);return k.toDataURL("image/png")},vh:function(l){!k&&l&&(k=document.createElement("canvas"),n=k.getContext("2d"));var w=l?k:document.createElement("canvas");w.width=d.width;w.height=d.height;(l?n:w.getContext("2d")).drawImage(d,
0,0);return w},m:function(l){l.Xg&&!l.ua?d=document.getElementById(l.Xg):l.ua&&(d=l.ua);d||(d=document.createElement("canvas"));d.width=l&&void 0!==l.width?l.width:512;d.height=l&&void 0!==l.height?l.height:512;"undefined"===typeof l&&(l={});void 0===l.premultipliedAlpha&&(l.premultipliedAlpha=!1);void 0===l.Qh&&(l.Qh=!0);void 0===l.antialias&&(l.antialias=!1);if(b)p=b instanceof WebGL2RenderingContext;else{p=!0;var w={antialias:l.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:l.premultipliedAlpha,
stencil:!1,depth:l.Qh};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(w.antialias=!1);var r=c(w);!r&&w.antialias&&(w.antialias=!1,r=c(w));r&&(b=d.getContext("webgl2",w));b?p=!0:((b=d.getContext("webgl",w))||(b=d.getContext("experimental-webgl",w)),p=!1)}if(!b)return a("WebGL1 and 2 are not enabled");(x=b.getExtension("WEBGL_lose_context"))&&l.ti&&(v=l.ti,d.addEventListener("webglcontextlost",v,!1));if(!S.m())return a("Not enough GL capabilities");e(b);da.m();
aa.m();if(!Na.Qg(b,S.rl()))return a("Cannot filter float textures");D.forEach(function(f){f(b)});D.splice(0);return!0},Oo:function(){return new Promise(function(l){b?l(b):D.push(l)})},v:function(){b&&(S.v(),da.v(),Na.v());x&&v&&(d.removeEventListener("webglcontextlost",v,!1),x=v=null);b=t=n=k=d=null;D.splice(0)}};return K}(),Jb=function(){function a(){null===c&&("undefined"!==typeof da?c=da:"undefined"!==typeof E&&(c=E))}var c=null;a();return{reset:function(){c=null},bj:function(e){c!==e&&(c&&c.I(),
c=e)},Tb:function(){return c.Tb()},Fc:function(){return c.Fc()},$b:function(e){return c.$b(e)},Kd:function(){return c.Kd()},I:function(){return c.I()},set:function(e){return c.set(e)},vb:function(e){a();return c.vb(e)},Id:function(e){a();return c.Id(e)}}}(),Z=function(){function a(u){b.bindTexture(b.TEXTURE_2D,u)}function c(u){var L=new Uint16Array(u.length);u.forEach(function(H,P){O[0]=H;var Y=y[0];var fa=Y>>16&32768;H=Y>>12&2047;var W=Y>>23&255;Y=103>W?fa:142<W?fa|31744|((255==W?0:1)&&Y&8388607):
113>W?(H|=2048,fa|(H>>114-W)+(H>>113-W&1)):(fa|W-112<<10|H>>1)+(H&1);L[P]=Y});return L}function e(){if(null!==g.jf)return g.jf;var u=d(c([.5,.5,.5,.5]));return null===u?!0:g.jf=u}function d(u){if(!Jb.Tb()||!w)return null;var L=null,H=Math.sqrt(u.length/4);try{var P=b.getError();if("FUCKING_BIG_ERROR"===P)return!1;L=G.instance({isFloat:!1,P:!0,array:u,width:H});P=b.getError();if(P!==b.NO_ERROR)return!1}catch(fa){return!1}ra.$();b.viewport(0,0,H,H);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);
Jb.set("s0");L.Fb(0);aa.l(!0,!0);u=4*H*H;P=new Uint8Array(u);b.readPixels(0,0,H,H,b.RGBA,b.UNSIGNED_BYTE,P);H=!0;for(var Y=0;Y<u;++Y)H=H&&3>Math.abs(P[Y]-127);L.remove();ra.ma();return H}var k=0,n=null,x=0,p=null,t=null,v=null,D=null,K=null,l=null,w=!1,r=[],f={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ha:null,Ch:null,fm:!1,P:!1,O:null,F:4,Gf:0},h=!1,J=null,B=null,
q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],m=!1,F=!1,O=new Float32Array(1),y=new Int32Array(O.buffer),g={jf:null,kf:null},G={m:function(){w||(K=[b.RGBA,null,b.RGBA,b.RGBA],l=[b.RGBA,null,b.RGBA,b.RGBA],n=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],m="undefined"!==typeof ha,F="undefined"!==typeof S,p=[-1,-1,-1,-1,-1,-1,-1,-1],D=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],w=!0)},Yl:function(){if(!t){for(var u=new Float32Array(16384),L=0;16384>L;++L)u[L]=2*Math.random()-
1;t={random:G.instance({isFloat:!0,isPot:!0,array:u,width:64}),pj:G.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}G.ho()},Bh:function(){return t.pj},ho:function(){D[1]=S.Ve(b)},In:function(){l=K=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Hi:function(u){da.set("s1");ra.$();var L=u.L(),H=u.T();b.viewport(0,0,L,H);u.g(0);aa.l(!1,!1)},Hp:function(u,L){G.Hi(u);b.readPixels(0,0,u.L(),u.T(),b.RGBA,b.UNSIGNED_BYTE,L)},Ip:function(u,L){G.Hi(u);return S.Sf(0,0,u.L(),u.T(),L)},ph:function(u,L,
H,P,Y,fa,W){u.activeTexture(u.TEXTURE0);var A=u.createTexture();u.bindTexture(u.TEXTURE_2D,A);Y=Y instanceof Float32Array?Y:new Float32Array(Y);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,fa);u.texImage2D(u.TEXTURE_2D,0,u.RGBA,H,P,0,u.RGBA,u.FLOAT,Y);u.bindTexture(u.TEXTURE_2D,
null);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);W&&(ra.ma(),da.vb(u));u.viewport(0,0,H,P);u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,L,0);u.bindTexture(u.TEXTURE_2D,A);W?aa.l(!0,!0):aa.Jb(u);u.deleteTexture(A);w&&(p[0]=-1,v=null,k=0)},je:function(u){u!==k&&(b.activeTexture(n[u]),k=u)},instance:function(u){function L(){za=void 0!==A.ha.videoWidth?A.ha.videoWidth:A.ha.width;wa=void 0!==A.ha.videoHeight?A.ha.videoHeight:A.ha.height}function H(ka){var Ma=b.getError();if("FUCKING_BIG_ERROR"===
Ma)return!1;b.texImage2D(b.TEXTURE_2D,0,Ya,pb,Aa,ka);Ma=b.getError();Ma!==b.NO_ERROR&&pb!==b.RGBA&&(pb=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,Ya,pb,Aa,ka));return!0}function P(){if(!ba){a(Ja);M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,M);A.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,A.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,A.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));A.isAnisotropicFiltering&&"undefined"!==typeof U&&b.texParameterf(b.TEXTURE_2D,ha.wl().TEXTURE_MAX_ANISOTROPY_EXT,U.Sj);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,A.isLinear?b.LINEAR:b.NEAREST);A.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,A.isMipmap&&!sa?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,A.isMipmap&&!sa?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);pb=K[A.F-1];Ya=l[A.F-1];Aa=D[z];if(S.ia()){var ka=S.yl();
pb===b.RGBA&&Aa===b.FLOAT?A.isMipmap||A.isLinear?Ya=Na.Al(b):S.ca()?ka&&(Ya=ka):Ya=b.RGBA16F||b.RGBA:pb===b.RGB&&Aa===b.FLOAT&&ka&&(Ya=ka,pb=b.RGBA)}if(A.P&&!A.isFloat||A.isFloat&&A.isMipmap&&Na.om())Ya=S.zl(),Aa=S.Ve(b);A.Gf&&(jb=A.Gf);A.isSrgb&&4===A.F&&(pb=ha.Pl());if(A.ha)H(A.ha);else if(A.url)H(qb);else if(bb){ka=bb;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,ka),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,null),b.getError()!==
b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,za,wa,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(od){b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,null)}A.isKeepArray||(bb=null)}else ka=b.getError(),"FUCKING_BIG_ERROR"!==ka&&(b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,null),ka=b.getError(),ka!==b.NO_ERROR&&(pb=b.RGBA,A.P&&Aa!==b.FLOAT&&(Aa=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,null))));if(A.isMipmap)if(!sa&&cb)cb.fd(),Ib=!0;else if(sa){ka=Math.log2(Math.min(za,wa));Ra=Array(1+ka);Ra[0]=
Ja;for(var Ma=1;Ma<=ka;++Ma){var Kb=Math.pow(2,Ma),Za=za/Kb;Kb=wa/Kb;var tc=b.createTexture();a(tc);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,Ya,Za,Kb,0,pb,Aa,null);a(null);Ra[Ma]=tc}Ib=!0}a(null);p[k]=-1;M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);Wa=!0;A.O&&cb&&(A.O(cb),A.O=null)}}function Y(){for(var ka=za*wa,Ma=2*ka,Kb=3*ka,Za=0;Za<ka;++Za)Ka[0][Za]=Rb[Za],Ka[1][Za]=Rb[Za+ka],Ka[2][Za]=Rb[Za+
Ma],Ka[3][Za]=Rb[Za+Kb]}function fa(){var ka=za*wa*4;gb=[new Uint8Array(ka),new Uint8Array(ka),new Uint8Array(ka),new Uint8Array(ka)];Ka=[new Float32Array(gb[0].buffer),new Float32Array(gb[1].buffer),new Float32Array(gb[2].buffer),new Float32Array(gb[3].buffer)];Ba=new Uint8Array(4*ka);Rb=new Float32Array(Ba.buffer);ma=!0}function W(){Bb.ue=new Uint8Array(za*wa*4);Bb.qh=new Float32Array(Bb.buffer);Bb.Ma=!0}var A=Object.assign({},f,u),N=x++;null===A.isFlipY&&(A.isFlipY=A.url||A.array?!0:!1);A.data&&
(A.array="string"===typeof A.data?Xa(A.data):A.isFloat?new Float32Array(A.data):new Uint8Array(A.data),A.isFlipY=!1);var z=0,C=A.ha?!0:!1,T=null,la=null,pa=!1,qa=null;A.P=A.P||A.isFloat;A.P&&(z=1);!A.fm&&A.isFloat&&F&&!S.ca()&&(A.isFloat=!1);A.isFloat&&(z=2);A.isAnisotropicFiltering&&m&&!ha.nm()&&(A.isAnisotropicFiltering=!1);var Ja=A.Ch||b.createTexture(),qb=null,bb=!1,za=0,wa=0,Wa=!1,ba=!1,ma=!1,Ka=null,gb=null,Ba=null,Rb=null,Ya=null,pb=null,Aa=null,M=A.isFlipY,ea=(u=A.P&&A.isMipmap)&&Na.zk(),
sa=u&&ea?!0:!1,Ra=null,jb=-1,Ib=!1,Bb={Ma:!1,ue:null,qh:null};A.width&&(za=A.width,wa=A.height?A.height:za);var cb={get:function(){return Ja},L:function(){return za},T:function(){return wa},Rl:function(){return A.url},Yh:function(){return A.isFloat},Zh:function(){return A.P},Ap:function(){return A.isLinear},fd:function(){b.generateMipmap(b.TEXTURE_2D)},sk:function(ka,Ma){sa?(ka||(ka=cb.zh()),G.je(Ma),a(Ra[ka]),p[Ma]=-1):cb.g(Ma)},zh:function(){-1===jb&&(jb=Math.log(za)/Math.log(2));return jb},nl:function(ka){if(sa){ka||
(ka=cb.zh());da.set("s11");G.je(0);for(var Ma=za,Kb=wa,Za=1;Za<=ka;++Za)Ma/=2,Kb/=2,da.S("u7",.25/Ma,.25/Kb),b.viewport(0,0,Ma,Kb),a(Ra[Za-1]),b.framebufferTexture2D(ra.kd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ra[Za],0),aa.l(!1,1===Za);p[0]=-1}else cb.fd()},Up:function(ka){(C=!(Array.isArray(ka)||ka.constructor===Float32Array||ka.constructor===Uint8Array))?(bb=null,A.ha=ka,L()):bb=ka},g:function(ka){if(!Wa)return!1;G.je(ka);if(p[ka]===N)return!1;a(Ja);p[ka]=N;return!0},Fb:function(ka){b.activeTexture(n[ka]);
k=ka;a(Ja);p[ka]=N},o:function(){v=cb;b.framebufferTexture2D(ra.kd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ja,0)},R:function(){v=cb;b.viewport(0,0,za,wa);b.framebufferTexture2D(ra.kd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ja,0)},Ud:G.Ud,resize:function(ka,Ma){za=ka;wa=Ma;P()},clone:function(ka){ka=G.instance({width:za,height:wa,P:A.P,isFloat:A.isFloat,isLinear:A.isLinear,isMirrorY:A.isMirrorY,isFlipY:ka?!M:M,isPot:A.isPot});Jb.set("s0");ra.ma();ka.o();b.viewport(0,0,za,wa);cb.g(0);aa.l(!0,!0);return ka},Gc:function(){b.viewport(0,
0,za,wa)},remove:function(){b.deleteTexture(Ja);ba=!0;r.splice(r.indexOf(cb),1);cb=null},refresh:function(){cb.Fb(0);M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);C?b.texImage2D(b.TEXTURE_2D,0,Ya,pb,Aa,A.ha):b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,bb);M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Fi:function(){ma||fa();b.readPixels(0,0,za,4*wa,b.RGBA,b.UNSIGNED_BYTE,Ba);Y();return Ka},an:function(){ma||fa();return S.Sf(0,0,za,4*wa,Ba).then(function(){Y();return Ka})},cn:function(){Bb.Ma||W();b.readPixels(0,
0,za,wa,b.RGBA,b.UNSIGNED_BYTE,Bb.ue);return Bb.qh},bn:function(){Bb.Ma||W();return S.Sf(0,0,za,wa,Bb.ue)},eh:function(ka){ra.$();da.set("s12");cb.g(0);if(ka)b.viewport(0,0,za,wa),da.va("u8",.25,.25,.25,.25),aa.l(!1,!0);else for(ka=0;4>ka;++ka)b.viewport(0,wa*ka,za,wa),da.va("u8",q[ka]),aa.l(!1,0===ka)},gq:function(ka){var Ma;if(Ma=Aa===D[0])null!==g.kf?Ma=g.kf:(Ma=d(new Uint8Array([127,127,127,127])),Ma=null===Ma?!0:g.kf=Ma),Ma=!Ma;a(Ja);M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Ma?(pa||(T=document.createElement("canvas"),
T.width=za,T.height=wa,la=T.getContext("2d"),qa=la.createImageData(za,wa),pa=!0),qa.data.set(ka),la.putImageData(qa,0,0),b.texImage2D(b.TEXTURE_2D,0,Ya,pb,Aa,T)):b.texImage2D(b.TEXTURE_2D,0,Ya,za,wa,0,pb,Aa,ka);p[k]=N;M&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},hq:function(ka,Ma){a(Ja);Ma&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,Ya,pb,Aa,ka);p[k]=N;Ma&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Cc:function(ka,Ma){var Kb=za*wa,Za=4*Kb;ka=A.P?ka?"RGBE":"JSON":"RGBA";Ma&&(ka=
Ma);Ma=S.ia()&&!1;var tc=null;switch(ka){case "RGBE":tc="s42";break;case "JSON":tc=Ma?"s0":"s12";break;case "RGBA":case "RGBAARRAY":tc="s6"}ma||("RGBA"===ka||"RGBE"===ka||"RGBAARRAY"===ka?(gb=new Uint8Array(Za),ma=!0):"JSON"!==ka||Ma||fa());ra.$();da.set(tc);cb.g(0);Za=null;if("RGBA"===ka||"RGBE"===ka||"RGBAARRAY"===ka){b.viewport(0,0,za,wa);aa.l(!0,!0);b.readPixels(0,0,za,wa,b.RGBA,b.UNSIGNED_BYTE,gb);if("RGBAARRAY"===ka)return{data:gb};h||(J=document.createElement("canvas"),B=J.getContext("2d"),
h=!0);J.width=za;J.height=wa;Kb=B.createImageData(za,wa);Kb.data.set(gb);B.putImageData(Kb,0,0);Za=J.toDataURL("image/png")}else if("JSON"===ka)if(Ma)Za=new Float32Array(Kb),b.viewport(0,0,za,wa),aa.l(!0,!0),b.readPixels(0,0,za,wa,b.RGBA,b.FLOAT,Za);else{for(Za=0;4>Za;++Za)b.viewport(0,wa*Za,za,wa),da.va("u8",q[Za]),aa.l(!Za,!Za);cb.Fi();Za=Array(Kb);for(Ma=0;Ma<Kb;++Ma)Za[4*Ma]=Ka[0][Ma],Za[4*Ma+1]=Ka[1][Ma],Za[4*Ma+2]=Ka[2][Ma],Za[4*Ma+3]=Ka[3][Ma]}return{format:ka,data:Za,width:za,height:wa,isMirrorY:A.isMirrorY,
isFlipY:"RGBA"===ka?A.isFlipY:!A.isFlipY}}};A.isMipmap&&!sa&&Wa&&!Ib&&(cb.fd(),Ib=!0);if(A.url)a(Ja),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),qb=new Image,qb.Xo="Anonymous",qb.crossOrigin="Anonymous",qb.src=A.url,qb.onload=function(){za=qb.width;wa=qb.height;P()};else if(A.ha){var ed=function(){L();za?P():setTimeout(ed,1)};ed()}else A.array?(A.P&&!A.isFloat?A.array instanceof Uint16Array?(bb=A.array,P()):e()?(bb=c(A.array),P()):(P(),G.ph(b,Ja,cb.L(),cb.T(),A.array,M,!0)):
(bb=A.isFloat?A.array instanceof Float32Array?A.array:new Float32Array(A.array):A.array instanceof Uint8Array?A.array:new Uint8Array(A.array),P()),A.isKeepArray||(bb&&bb!==A.array&&(bb=null),delete A.array)):A.Ch?Wa=!0:P();cb.tp=cb.L;A.O&&Wa&&(A.O(cb),A.O=null);r.push(cb);return cb},$:function(u){u!==k&&(b.activeTexture(n[u]),k=u);p[u]=-1;a(null)},tk:function(u){t.random.g(u)},Ud:function(){v=null;b.framebufferTexture2D(ra.kd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==k&&b.activeTexture(n[0]);
for(var u=0;u<n.length;++u)p[u]=-1;k=-1},Lp:function(){k=-1},rj:function(){for(var u=0;u<n.length;++u)G.$(u)},K:function(){t&&(t.random.remove(),t.pj.remove())},Jc:function(u,L){if("RGBA"===u.format||"RGBE"===u.format){var H=new Image;H.src=u.data;H.onload=function(){G.instance({isMirrorY:u.isMirrorY,isFlipY:u.isFlipY,isFloat:!1,ha:H,O:function(P){if("RGBA"===u.format)L(P);else{var Y=u.width,fa=u.height,W=G.instance({isMirrorY:u.isMirrorY,isFloat:!0,width:Y,height:fa,isFlipY:u.isFlipY});ra.ma();b.viewport(0,
0,Y,fa);da.set("s43");W.o();P.g(0);aa.l(!0,!0);G.$(0);L(W);b.flush();setTimeout(P.remove,50)}}})}}else"JSON"===u.format?L(G.instance({isFloat:!0,isFlipY:u.isFlipY,width:u.width,height:u.height,array:new Float32Array(u.data)})):L(!1)},Fk:c,v:function(){v&&(ra.ma(),G.Ud(),ra.$());G.rj();r.slice(0).forEach(function(u){u.remove()});r.splice(0);w=!1;x=0;"undefined"!==typeof Na&&Na.v();t=null}};return G}(),Zb={instance:function(a){var c=[Z.instance(a),Z.instance(a)],e=[c[1],c[0]],d=e,k={xn:function(n){d[1].o();
d[0].g(n);k.fj()},Op:function(n){d[1].R();d[0].g(n);k.fj()},fj:function(){d=d===c?e:c},refresh:function(){d[0].refresh();d[1].refresh()},g:function(n){d[0].g(n)},Mo:function(n){d[1].g(n)},op:function(){return d[0]},rp:function(){return d[1]},remove:function(){d[0].remove();d[1].remove();d=null}};return k}},aa=function(){function a(t){var v={ga_:null,V:null};v.ga_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,v.ga_);t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),t.STATIC_DRAW);v.V=
t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,v.V);t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),t.STATIC_DRAW);return v}var c=null,e=0,d=!1,k=[],n=-2,x=-2,p={reset:function(){x=n=-2},m:function(){d||(c=a(b),p.pe(),d=!0)},instance:function(t){var v=e++,D=t.V?t.V.length:0,K="undefined"===typeof t.mode?b.STATIC_DRAW:t.mode,l=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,l);b.bufferData(b.ARRAY_BUFFER,t.ga_ instanceof Float32Array?t.ga_:new Float32Array(t.ga_),K);n=v;var w=null,
r=null,f=null;if(t.V){w=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w);var h=null;65536>t.V.length?(h=Uint16Array,r=b.UNSIGNED_SHORT,f=2):(h=Uint32Array,r=b.UNSIGNED_INT,f=4);h=t.V instanceof h?t.V:new h(t.V);b.bufferData(b.ELEMENT_ARRAY_BUFFER,h,K);x=v}var J={pc:function(B){n!==v&&(b.bindBuffer(b.ARRAY_BUFFER,l),n=v);B&&Jb.Kd()},qk:function(){x!==v&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w),x=v)},bind:function(B){J.pc(B);J.qk()},W:function(){b.drawElements(b.TRIANGLES,D,r,0)},Ka:function(B,
q){b.drawElements(b.TRIANGLES,B,r,q*f)},remove:function(){b.deleteBuffer(l);t.V&&b.deleteBuffer(w);J=null}};k.push(J);return J},pe:function(){-1!==n&&(b.bindBuffer(b.ARRAY_BUFFER,c.ga_),n=-1);-1!==x&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.V),x=-1)},l:function(t,v){t&&aa.pe();v&&Jb.Fc();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},Jb:function(t){t=t||b;var v=a(t);t.bindBuffer(t.ARRAY_BUFFER,v.ga_);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,v.V);Jb.$b(t);t.clear(t.COLOR_BUFFER_BIT);t.drawElements(t.TRIANGLES,
3,t.UNSIGNED_SHORT,0);t.flush();t.bindBuffer(t.ARRAY_BUFFER,null);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);t.deleteBuffer(v.ga_);t.deleteBuffer(v.V);p.reset();d&&(p.pe(),Jb.Fc())},K:function(){var t=b,v=c;t.deleteBuffer(v.ga_);t.deleteBuffer(v.V)},v:function(){p.K();k.forEach(function(t){t.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);p.reset();d=!1;k.splice(0);e=0}};return p}(),ra=function(){var a=null,c=null,e=null,d=!1,k=[],n={na:-2,oh:1},x={Tb:function(){return d},
m:function(){if(!d){a=b.createFramebuffer();var p=S.ia();c=p&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;e=p&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;d=!0}},xl:function(){return c},wh:function(){return e},kd:function(){return b.FRAMEBUFFER},sp:function(){return n},jp:function(){return a},instance:function(p){void 0===p.tc&&(p.tc=!1);var t=p.ja?p.ja:null,v=p.width,D=void 0!==p.height?p.height:p.width,K=a,l=null,w=!1,r=!1,f=0;t&&(v=v?v:t.L(),D=D?D:t.T());var h={Pi:function(){w||
(K=b.createFramebuffer(),w=!0,f=n.oh++)},Qc:function(){h.Pi();h.o();l=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,l);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,D);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,l);b.clearDepth(1)},bind:function(J,B){f!==n.na&&(b.bindFramebuffer(c,K),n.na=f);t&&t.o();B&&b.viewport(0,0,v,D);J&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Lg:function(){f!==n.na&&(b.bindFramebuffer(c,K),n.na=f)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|
b.DEPTH_BUFFER_BIT)},ye:function(){b.clear(b.COLOR_BUFFER_BIT)},Sg:function(){b.clear(b.DEPTH_BUFFER_BIT)},Gc:function(){b.viewport(0,0,v,D)},o:function(){f!==n.na&&(b.bindFramebuffer(c,K),n.na=f)},rtt:function(J){t=J;n.na!==f&&(b.bindFramebuffer(b.FRAMEBUFFER,K),n.na=f);J.o()},$:function(){b.bindFramebuffer(c,null);n.na=-1},resize:function(J,B){v=J;D=B;l&&(b.bindRenderbuffer(b.RENDERBUFFER,l),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,D))},remove:function(){K===a||r||(b.bindFramebuffer(c,
K),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),l&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(K),l&&b.deleteRenderbuffer(l));r=!0}};p.tc&&h.Qc();k.push(h);return h},$:function(){b.bindFramebuffer(c,null);n.na=-1},eq:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);b.viewport(0,0,S.L(),S.T());n.na=-1},reset:function(){n.na=-2},ma:function(){0!==n.na&&(b.bindFramebuffer(c,a),
n.na=0)},clear:function(){b.viewport(0,0,S.L(),S.T());b.clear(b.COLOR_BUFFER_BIT)},v:function(){x.$();k.forEach(function(p){p.remove()});null!==a&&(b.deleteFramebuffer(a),a=null);x.reset();d=!1;k.splice(0);n.oh=1}};return x}(),S=function(){function a(){d="undefined"===typeof sb?ha:sb;k=!0}function c(f,h){for(var J=0;J<f.length;++J){var B=h.getExtension(f[J]);if(B)return B}return null}function e(){null!==l.Td&&(clearInterval(l.Td),l.Td=null);l.uc=!1}var d=null,k=!1,n={Rh:!1,pg:null,qg:null,Vh:!1,lm:!1,
rg:null,Wh:!1,sg:null,Sh:!1,ze:null,dm:!1,Ae:null,em:!1},x=null,p={Va:!0,Wa:!0,Qe:!0,Ei:!1},t=null,v=!0,D=null,K=null,l={uc:!1,Nb:null,od:null,$e:-1,La:null,Td:null},w="undefined"===typeof window?{}:window,r={m:function(){if(k)return!0;r.reset();k||a();var f=b;if(!x.Rh){x.pg=r.lh(f);w.GL_EXT_FLOAT=x.pg;x.Vh=x.pg?!0:!1;if(x.Vh||r.ia())x.qg=r.mh(f),x.lm=x.qg?!0:!1,w.GL_EXT_FLOATLINEAR=x.qg;x.Rh=!0}if(!x.Sh){x.rg=r.cd(f);x.rg&&(x.Wh=!0,w.GL_EXT_HALFFLOAT=x.rg);if(x.Wh||r.ia())x.sg=r.nh(f),w.GL_EXT_HALFFLOATLINEAR=
x.sg;x.yp=x.sg?!0:!1;x.Sh=!0}x.ze=r.jh(f);x.dm=x.ze?!0:!1;w.GL_EXT_COLORBUFFERFLOAT=x.ze;x.Ae=r.kh(f);x.em=x.Ae?!0:!1;w.GL_EXT_COLORBUFFERHALFFLOAT=x.Ae;ra.m();Z.m();if(!r.Sk())return!1;aa.m();Z.Yl();return!0},reset:function(){x=Object.assign({},n);t=Object.assign({},p)},L:function(){k||a();return d.L()},T:function(){k||a();return d.T()},ia:function(){k||a();return d.ia()},ih:function(f){r.jh(f);r.kh(f);r.lh(f);r.mh(f);r.cd(f);r.nh(f)},jh:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float",
"OES_color_buffer_float"]),kh:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),lh:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),mh:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),cd:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),nh:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear",
"WEBKIT_OES_texture_half_float_linear"]),Ve:function(f){var h=r.cd(f);return h&&h.HALF_FLOAT_OES?h.HALF_FLOAT_OES:f.HALF_FLOAT||f.FLOAT},yl:function(){return K||b.RGBA32F||b.RGBA},zl:function(){return D||b.RGBA16F||b.RGBA},rl:function(){return t},ca:function(){return t.Va},So:function(){return t.Wa},yk:function(){return t.Qe},Bk:function(){return t.Ei&&v},oj:function(f){v=f;!f&&l.uc&&(b.deleteSync(l.od),b.bindBuffer(l.La,null),l.uc=!1)},Qd:function(f,h,J){function B(){f.bindTexture(f.TEXTURE_2D,null);
f.bindFramebuffer(q,null);f.deleteTexture(O);f.deleteFramebuffer(F)}var q=f.FRAMEBUFFER,m=f.NEAREST,F=f.createFramebuffer();f.bindFramebuffer(q,F);var O=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,O);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,m);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,m);
f.texImage2D(f.TEXTURE_2D,0,h,3,3,0,f.RGBA,J,null);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,O,0);if(f.checkFramebufferStatus(f.READ_FRAMEBUFFER||f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)return B(),!1;Jb.Id(f);f.clearColor(0,0,0,0);f.viewport(0,0,3,3);f.disable(f.DEPTH_TEST);f.clear(f.COLOR_BUFFER_BIT);aa.Jb(f);f.bindFramebuffer(q,null);Jb.vb(f);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,O);aa.Jb(f);h=new Uint8Array(36);f.readPixels(0,0,3,3,f.RGBA,f.UNSIGNED_BYTE,
h);B();for(J=0;36>J;++J)if(3!==J%4&&3<Math.abs(h[J]-127))return!1;return!0},Ie:function(f){var h={Va:!1,Wa:!1};f.disable(f.BLEND);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);f.RGBA32F&&r.Qd(f,f.RGBA32F,f.FLOAT)&&(h.Va=!0,K=f.RGBA32F);!h.Va&&r.Qd(f,f.RGBA,f.FLOAT)&&(h.Va=!0,K=f.RGBA);var J=r.Ve(f);D=null;f.RGBA16F&&r.Qd(f,f.RGBA16F,J)&&(h.Wa=!0,D=f.RGBA16F);!h.Wa&&r.Qd(f,f.RGBA,J)&&(h.Wa=!0,D=f.RGBA);return h},Uk:function(){var f=ra.instance({width:2});f.Pi();var h=Z.instance({width:2,isFloat:!0,
F:3});f.o();h.o();b.flush();b.checkFramebufferStatus(ra.wh())!==b.FRAMEBUFFER_COMPLETE?(Z.In(),t.Qe=!1):t.Qe=!0;f.remove();h.remove()},Vk:function(){var f=!1;r.ia()&&(f="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(h){return"undefined"!==typeof b[h]}));t.Ei=f},Sk:function(){var f=r.Ie(b);Object.assign(t,f);if(!t.Va&&!t.Wa)return!1;r.Uk();r.Vk();return!0},Sf:function(f,h,J,B,q){if(!r.Bk())return b.readPixels(f,h,J,
B,b.RGBA,b.UNSIGNED_BYTE,q),Promise.resolve(q);null===l.Nb&&(l.La=b.PIXEL_PACK_BUFFER,l.Nb=b.createBuffer(),l.$e=-1);b.bindBuffer(l.La,l.Nb);q.byteLength!==l.$e&&(b.bufferData(l.La,q.byteLength,b.STREAM_READ),l.$e=q.byteLength);b.readPixels(f,h,J,B,b.RGBA,b.UNSIGNED_BYTE,0);l.od=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);b.flush();return new Promise(function(m,F){function O(){if(!l.uc)return e(),F(),!1;switch(b.clientWaitSync(l.od,0,0)){case b.TIMEOUT_EXPIRED:case b.WAIT_FAILED:return!1;default:return e(),
b.deleteSync(l.od),b.getBufferSubData(l.La,0,q),b.bindBuffer(l.La,null),m(q),!0}}e();l.uc=!0;O()||(l.Td=setInterval(O,0))})},v:function(){e();Z.v();ra.v();aa.v();null!==l.Nb&&(b.deleteBuffer(l.Nb),l.Nb=null);Jb.reset();k=!1}};return r}(),Na=function(){function a(F,O,y,g){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,g?h.NEAREST_MIPMAP_NEAREST:h.LINEAR);var G=null;if(null!==y)try{G=h.getError();if("FUCKING_BIG_ERROR"===G)return!1;h.texImage2D(h.TEXTURE_2D,0,F,4,4,0,h.RGBA,O,y);G=h.getError();if(G!==
h.NO_ERROR)return!1}catch(u){return!1}g&&h.generateMipmap(h.TEXTURE_2D);h.clear(h.COLOR_BUFFER_BIT);aa.Jb(h);G=h.getError();if("FUCKING_BIG_ERROR"===G)return!1;h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,D);G=h.getError();G===h.INVALID_OPERATION&&"undefined"!==typeof h.PIXEL_PACK_BUFFER&&(h.bindBuffer(h.PIXEL_PACK_BUFFER,null),h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,D),G=h.getError());if(G!==h.NO_ERROR)return!1;y=!0;for(g=0;16>g;++g)y=y&&4>Math.abs(D[g]-127);y&&(t.Ai=O,t.Oh=F);return y}function c(F,
O){return J.Va&&a(F,h.FLOAT,new Float32Array(K),O)?(p=x.Ig,!0):!1}function e(F,O,y){if(!J.Wa)return!1;var g=Z.Fk(K),G=S.cd(h);if(G&&G.HALF_FLOAT_OES&&a(F,G.HALF_FLOAT_OES,g,O)||h.HALF_FLOAT&&a(F,h.HALF_FLOAT,g,O))return p=x.kc,!0;g=new Float32Array(K);if(a(F,h.FLOAT,g,O))return p=x.kc,!0;h.bindTexture(h.TEXTURE_2D,y);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,2,2,0,h.RGBA,h.UNSIGNED_BYTE,null);h.bindFramebuffer(t.Zc,m);Z.ph(h,y,2,2,g,!1,!1);h.bindFramebuffer(t.Zc,null);h.bindTexture(h.TEXTURE_2D,y);return a(F,
null,null,O)?(p=x.kc,!0):!1}function d(F,O,y){v=!0;if(e(F,!0,y)||c(O,!0))return!0;v=!1;return e(F,!1,y)||c(O,!1)?!0:!1}function k(F){if(p===x.I){h=F||b;p=x.RGBA8;v=!0;S.ih(h);J||(J=S.Ie(h));ra.reset();m=h.createFramebuffer();t.Zc=h.DRAW_FRAMEBUFFER||h.FRAMEBUFFER;h.bindFramebuffer(t.Zc,null);h.clearColor(0,0,0,0);h.viewport(0,0,2,2);da.I();B=da.vb(h);F=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,F);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_T,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);q=F;var O=F=h.RGBA,y=h.RGBA16F,g=h.RGBA32F;g&&(F=g);y&&(O=y);if((y||g)&&d(O,F,q))return n(),!0;F=O=h.RGBA;if(d(O,F,q))return n(),!0;p=x.RGBA8;n();return!1}}function n(){h.deleteProgram(B.pa);h.deleteTexture(q);q=B=null}for(var x={I:-1,Ig:3,kc:2,RGBA8:0},p=x.I,t={Ai:null,Oh:null,Zc:null},v=!0,D=new Uint8Array(16),K=Array(64),l=0;4>l;++l)for(var w=0;4>w;++w){var r=0===(w+l)%2?1:0,f=4*l+w;K[4*f]=r;K[4*f+1]=r;K[4*
f+2]=r;K[4*f+3]=r}var h=null,J=null,B=null,q=null,m=null;return{zk:function(F){k(F);return v},Qg:function(F,O){p===x.I&&(typeof("undefined"!==O)&&(J=O),k(F));return p!==x.RGBA8},zp:function(F){k(F);return p===x.Ig},om:function(F){k(F);return p===x.kc},np:function(F){k(F);return t.Ai},Al:function(F){k(F);return t.Oh},v:function(){h=null;v=!0;p=x.I;J=null}}}(),lb={instance:function(a){var c=Z.instance(a.alpha),e=Z.instance(a.beta);return{bl:function(){c.g(1);e.g(2)}}}},Fb={instance:function(a){var c=
null,e=!1,d=!1,k=null,n=!1,x=!1,p=null,t="undefined"===typeof a.preprocessing?!1:a.preprocessing,v="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,I&&void 0!==I.aa&&(a.mask=I.aa+a.mask),c=Z.instance({isFloat:!1,url:a.mask}));var D=!1;a.customInputShader&&(D="s44",da.qa({name:"_",id:D,h:a.customInputShader,fq:["uSource"],precision:"lowp"}),da.j(D,[{type:"1i",name:"_",value:0}]));switch(t){case "sobel":p="s31";n=!0;break;case "meanNormalization":p="s32";n=!0;break;
case "grayScale":p="s28";n=!1;break;case "grayScaleTilt":p="s29";x=!0;n=!1;break;case "rgbGrayTilt":p="s30";x=!0;n=!1;break;case "copy":p=D?D:"s0";break;case "inputLightRegulation":p=D?D:"s28";k=Ac.instance({Nh:v,ui:a.size,ni:a.nBlurPass,sd:!1});d=!0;break;case "inputMix0":p="none";k=Bc.instance({wa:v,xj:a.varianceMin,Mg:a.blurKernelSizePx,sd:!1});d=!0;break;case "direct":case "none":p="abort";break;default:p="s3"}x&&da.j(p,[{name:"u26",type:"1f",value:a.tilt}]);e&&(p+="Mask");var K=Z.instance({isFloat:!1,
isPot:!1,width:a.size}),l={L:function(){return v},We:function(){return l.L()},Fl:function(){return d?k.Xe():K},Aa:function(w){ra.ma();"abort"!==p&&("none"!==p&&(da.set(p),n&&da.G("u27",1/a.size),K.R(),e&&c.g(1),aa.l(!1,!1),K.g(0),w=K),d&&k.process(w))},v:function(){K.remove();e&&c.remove()}};return l}},fb={instance:function(a){function c(H){k.forEach(function(P,Y){n[Y][0]=H[0][P];n[Y][1]=H[1][P];n[Y][2]=H[2][P];n[Y][3]=H[3][P]});return n}"undefined"===typeof a.normalize&&(a.normalize=!1);var e={input:null,
Sc:null,mf:null,Qa:null,Ad:null,Nf:null,Of:null},d=null,k=[],n=[],x=!1,p=null,t=!0,v=-1,D=a.isReorganize?a.isReorganize:!1,K=a.kernelsCount?!0:!1,l=a.dynPelu?lb.instance(a.dynPelu):!1,w=l?!0:!1,r={isEnabled:!1};a.im?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Ed.We(),t=!1):"full"===a.connectivityUp&&(a.sparsity=a.Ed.We());var f={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[a.activation],h=a.sparsity*a.sparsity,J=!1,B=a.size,q="";
if(a.maxPooling){switch(a.maxPooling.size){case 2:q="s33";break;case 4:q="s34"}J=!0;B/=a.maxPooling.size;e.Nf=Z.instance({isFloat:!0,isPot:!1,width:B})}var m=void 0!==a.Jm&&a.Jm?!0:!1,F=null,O=null,y=null;if(m){F="s45"+a.index.toString();da.Jh("s45",F,[((a.normalization.n-1)/2).toFixed(1)]);da.j(F,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/a.size,1/a.size]},{type:"1f",name:"u6",value:a.normalization.alpha},{type:"1f",name:"u9",value:a.normalization.beta},{type:"1f",name:"u30",value:a.normalization.k}]);
var g={isFloat:!0,isPot:!0,width:a.size};O=Z.instance(g);y=Z.instance(g)}var G=-1,u=null;t&&(e.Qa=Z.instance({isFloat:!0,isPot:!1,width:a.size}));e.Sc=Z.instance(a.bias);var L={L:function(){return a.size},We:function(){return B},th:function(){return a.classesCount},rk:function(H){d.g(H)},Um:function(){a.remap&&a.remap.isEnabled&&(r={isEnabled:!0,Dm:Z.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),ud:a.remap.layers.map(function(H){return a.parent.Cl(H)}),
depth:a.remap.depth})},Jn:function(){switch(a.connectivityUp){case "direct":u=wb.instance(a.connectivity);break;case "square":u=bc.instance(a.connectivity);break;case "squareFast":u=cc.instance(a.connectivity,a.activation);break;case "full":u=Yb.instance(a.connectivity);break;case "conv":v=a.kernelsCount,u=Pb.instance(a.connectivity),D&&(e.Ad=Z.instance({width:B,isFloat:!0,isFlipY:!1,isPot:!1}))}if(u.dc){var H=a.size*a.sparsity;G=Math.log(H/a.size)/Math.log(2);e.input=Z.instance({isMipmap:!0,isFloat:!0,
isPot:!0,width:H,Gf:G});e.mf=Z.instance({isFloat:!0,isPot:!0,width:a.size})}},Aa:function(H,P){d=H;u.dc?(e.input.R(),K&&e.Sc.g(2),u.Aa(r),e.input.g(0),e.input.nl(G),e.mf.R(),K?da.set("s0"):(da.set("s27"),da.G("u25",h),e.Sc.g(1)),e.input.sk(G,0),aa.l(!1,!1),da.set(f),m?O.o():e.Qa.o(),e.mf.g(0),w&&l.bl(),aa.l(!1,!1)):(e.Qa.R(),e.Sc.g(1),u.Aa());m&&(da.set(F),y.o(),O.g(0),aa.l(!1,!1),da.set("s46"),da.G("u6",1),e.Qa.o(),y.g(1),aa.l(!1,!1));if(t)return J?(e.Nf.R(),e.Qa.g(0),da.set(q),da.S("u7",1/a.size,
1/a.size),aa.l(!1,!1),P=e.Nf):P=e.Qa,P.g(0),D&&(e.Ad.o(),da.set("s21"),da.S("u12",v,B/v),aa.l(!1,!1),P=e.Ad,e.Ad.g(0)),P;var Y=e.Qa;a.normalize&&(da.set("gpuRawAvg"===x?"s8":"s7"),da.G("u4",1/a.size),e.Of.R(),e.Qa.g(0),aa.l(!1,!1),Y=e.Of);H=null;switch(x){case "cpuRGBA2Float":Y.eh(!1);P?H=L.Zm(Y).then(p):(Y=L.$m(Y),p(Y));break;case "cpuMeanFloat":Y.eh(!0);P?H=Y.bn().then(p):(Y=Y.cn(),p(Y));break;case "gpuRawAvg":case "gpuRaw":Y.g(0);case "none":null!==p&&p(Y)}P&&null===H&&(H=Promise.resolve());return H},
Hk:function(H){H&&(x=H.Pf||"none",p=H.Mf||null);e.Qa=Z.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});H="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var P=0,Y=0,fa=0;P<H;++P)k.push(Y+(a.size-1-fa)*a.size),n.push([-1,-1,-1,-1]),++Y,Y===a.size&&(Y=0,++fa);a.normalize&&(e.Of=Z.instance({isFloat:!0,isPot:!0,width:a.size}))},Zm:function(H){return H.an().then(c)},$m:function(H){H=H.Fi();c(H);return n},v:function(){for(var H in e){var P=e[H];P&&P.remove()}u&&
(u.v(),u=null)}};a.Ed&&L.Jn(a.Ed);return L}},wb={instance:function(a){var c=Z.instance(a.weights);return{dc:!0,jd:function(){return 1},v:function(){c.remove()},Sl:function(){return c},Aa:function(){da.set("s26");c.g(1);aa.l(!1,!1)}}}},Yb={instance:function(a){var c=a.fromLayerSize,e=Z.instance(a.weights);return{dc:!0,jd:function(){return c},v:function(){e.remove()},Aa:function(d){if(d.isEnabled){da.set("s24");d.Dm.g(3);var k,n=Math.min(d.ud.length,d.depth);for(k=0;k<n;++k)d.ud[k].rk(4+k)}else da.set("s23");
da.G("u16",a.toLayerSize);e.g(1);aa.l(!1,!1)}}}},bc={instance:function(a){for(var c=a.fromLayerSize,e=a.toLayerSize,d=a.toSparsity,k=d*e,n=k/c,x=c/e,p=0,t=0,v=0,D=Array(d*e*d*e*4),K=Array(d*e*d*e*4),l=Array(c*c),w=0;w<l.length;++w)l[w]=0;w=Math.floor(d/2);for(var r=.5/e,f=.5/c,h=.5/k,J=0;J<e;++J)for(var B=Math.round(J*x),q=0;q<e;++q){var m=Math.round(q*x),F=J/e,O=q/e;F+=r;O+=r;for(var y=0;y<d;++y){var g=B+y-w;0>g&&(g+=c);g>=c&&(g-=c);for(var G=0;G<d;++G){var u=p/k,L=t/k,H=m+G-w;0>H&&(H+=c);H>=c&&
(H-=c);var P=g/c,Y=H/c;L=1-L-1/k;P+=f;Y+=f;u+=h;L+=h;var fa=J*d+y,W=q*d+G;W=e*d-W-1;fa=W*e*d+fa;D[4*fa]=u;D[4*fa+1]=L;D[4*fa+2]=P;D[4*fa+3]=Y;Y=l[H*c+g]++;fa=Y%n;P=g*n+fa;H=H*n+(Y-fa)/n;H=c*n-1-H;H=H*c*n+P;K[4*H]=u;K[4*H+1]=L;K[4*H+2]=F;K[4*H+3]=O;++p>=k&&(p=0,++t);++v}}}l=null;var A=Z.instance(a.weights);delete a.weights.data;var N=Z.instance({width:k,isFloat:!0,array:new Float32Array(K),isPot:!0});K=null;var z=Z.instance({width:k,isFloat:!0,array:new Float32Array(D),isPot:!0});D=null;return{dc:!0,
jd:function(){return n},v:function(){N.remove();z.remove();A.remove()},Aa:function(){da.set("s22");A.g(1);z.g(2);aa.l(!1,!1)}}}},Pb={instance:function(a){var c=a.kernelsCount,e=a.toSparsity,d=e*a.toLayerSize/a.fromLayerSize,k=Z.instance(a.weights);return{dc:!0,jd:function(){return d},vp:function(){return e},Sl:function(){return k},v:function(){k.remove()},Aa:function(){da.set("s25");da.G("u22",c);da.G("u23",e);da.G("u16",a.toLayerSize);da.G("u24",a.fromLayerSize);k.g(1);aa.l(!1,!1)}}}},cc={instance:function(a,
c){var e=a.fromLayerSize,d=a.toLayerSize,k=a.toSparsity,n=a.stride?a.stride:1,x=k*d/e,p=d<e,t=e/d,v=Z.instance(a.weights),D="s47"+[e.toString(),d.toString(),k.toString(),n.toString(),c].join("_");da.ll(D)||(a=ta(c),d=[{type:"1f",name:"u16",value:d},{type:"1f",name:"u29",value:n}],p&&d.push({type:"1f",name:"u24",value:e}),e=[(p?x:k).toFixed(1),a],p&&e.push(t.toFixed(1)),da.Jh(p?"s39":"s38",D,e),da.j(D,d.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",name:"u13",value:3}])));
return{dc:!1,jd:function(){return x},v:function(){v.remove()},Aa:function(){da.set(D);v.g(3);aa.l(!1,!1)}}}},Ac={instance:function(a){var c=a.ni?a.ni:3,e=a.Nh?a.Nh:64,d=a.ui?a.ui:64,k=a.sd?!0:!1;a={isFloat:!1,width:e,isPot:!1,isFlipY:!1};var n=Z.instance(a),x=Z.instance(a),p=Z.instance(a),t=Z.instance(a),v=Z.instance({isFloat:!0,width:d,isPot:!1,isFlipY:!1}),D=1/e;return{process:function(K){da.set("s35");t.o();aa.l(k,!1);da.set("s36");for(var l=0;l<c;++l)n.o(),da.S("u7",D,0),aa.l(k,!1),p.o(),t.g(0),
aa.l(k,!1),x.o(),n.g(0),da.S("u7",0,D),aa.l(k,!1),t.o(),p.g(0),aa.l(k,!1),l!==c-1&&x.g(0);da.set("s37");v.o();K.g(0);x.g(1);t.g(2);aa.l(k,!1);v.g(0)},Xe:function(){return v}}}},Bc={instance:function(a){function c(v){return Z.instance({isFloat:v,width:e.wa,isPot:!1,isFlipY:!1})}var e=Object.assign({xj:.1,Mg:9,wa:128,sd:!1},a),d=c(!1),k=[c(!1),c(!1),c(!1)],n=[c(!1),c(!1),c(!1)],x=c(!0),p=[d,n[0],n[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u31;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u31*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((e.Mg-1)/2).toFixed(2)).replace("2.2222",(1/e.wa).toFixed(6));var t={u1:0};da.ke([{id:"s49",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",u:t,i:["u1"],precision:"lowp"},{id:"s50",name:"_",h:a,u:t,i:["u1","u31"],precision:"lowp"},{id:"s51",name:"_",h:"uniform sampler2D u32,u33,u34,u35;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u32,vv0).rgb;float c=texture2D(u33,vv0).r,d=texture2D(u34,vv0).r,h=texture2D(u35,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",
e.xj.toFixed(4)),u:{u32:0,u33:1,u34:2,u35:3},i:["u32","u33","u34","u35"],precision:"highp"}]);return{process:function(){da.set("s49");d.R();aa.l(e.sd,!1);da.set("s50");for(var v=0;3>v;++v)da.S("u31",1,0),k[v].o(),p[v].g(0),aa.l(!1,!1),da.S("u31",0,1),n[v].o(),k[v].g(0),aa.l(!1,!1);da.set("s51");x.o();d.g(0);n[0].g(1);n[1].g(2);n[2].g(3);aa.l(!1,!1);x.g(0)},Xe:function(){return x}}}},Nb=function(){function a(ba){switch(O){case F.movePinch:var ma=-ba.deltaY;0===y&&f("pinch",-1,.001*ma,null)}ba.deltaY;
ba.preventDefault()}function c(ba){if(-1!==y)switch(O){case F.swipe:if(1!==y)break;t();D(ba,G);var ma=G[0]-g[0];k(ma);ba=ma/(20*B.offsetWidth/100);f("swipeMove",Math.min(Math.max(ba,-1),1),ba,null);break;case F.movePinch:if(2===y||3===y){D(ba,G);ma=G[0]-g[0];var Ka=G[1]-g[1];2===y?(pa+=Math.sqrt(ma*ma+Ka*Ka),10>pa?(g[0]=G[0],g[1]=G[1]):(qb||(qb=!0,f("moveStart",null,null,null)),qa[0]=ma,qa[1]=Ka,L[0]=ma-u[0],L[1]=Ka-u[1],f("move",qa,L,null),u[0]=qa[0],u[1]=qa[1])):3===y&&(ba=v(ba)/Ja,f("pinch",ba,
ba-bb,null),bb=ba)}}}function e(ba){if(-1!==y)switch(O){case F.swipe:if(1!==y)break;t();D(ba,G);ba=G[0]-g[0];var ma=0>ba;(ba=20<100*Math.abs(ba)/B.offsetWidth)&&ma?f("swipeLeft",H,null,null):ba&&!ma&&f("swipeRight",H,null,null);var Ka=function(){setTimeout(function(){p();y=0;f("swipeEnd",null,null,null)},202)};ba?(ba=function(){var gb=(ma?-1:1)*B.width,Ba=(ma?1:-1)*gb/B.width;H.style.transitionDuration=(400).toString()+"ms";H.style.left=(A[0]+gb).toString()+"px";H.style.top=A[1].toString()+"px";H.style.transform=
"rotate( "+Ba.toString()+"rad )";Ka()},W?ba():N=ba):(H.style.transitionDuration=(200).toString()+"ms",H.style.opacity="0",H.style.left=A[0].toString()+"px",H.style.top=A[1].toString()+"px",H.style.transform="",Ka());y=-1;break;case F.movePinch:if(2===y||3===y)y===y.move?f("moveEnd",null,null,null):3===y&&f("pinchEnd",null,null,null),y=0}}function d(ba){ba.preventDefault();if(-1!==y)switch(O){case F.swipe:if(0!==y)break;t();y=1;z=setTimeout(function(){p();z=null;1===y&&(y=0,f("swipeEnd",null,null,
null))},1E3);n();f("swipeStart",null,null,null);f("swipeGetCanvas",H,Y,P);D(ba,g);break;case F.movePinch:0!==y?2!==y||qb||void 0===ba.changedTouches&&void 0===ba.touches||(Ja=v(ba),20<Ja&&(y=3,bb=1,f("pinchStart",null,null,null))):3!==y&&(qb=!1,D(ba,g),u[0]=0,u[1]=0,y=2,pa=0)}}function k(ba){var ma=0>ba;H.style.left=A[0]+ba+"px";H.style.transformOrigin=ma?T:C;H.style.transform="rotate( "+((ma?1:-1)*ba/B.width).toString()+"rad )"}function n(){W=!1;var ba=B.getBoundingClientRect();A[0]=ba.left;A[1]=
ba.top;H.width=Math.round(B.width/4);H.height=Math.round(B.height/4);P.width=H.width;P.height=H.height;H.style.width=B.offsetWidth+"px";H.style.height=B.offsetHeight+"px";H.style.left=A[0]+"px";H.style.top=A[1]+"px";setTimeout(x,0)}function x(){Y.drawImage(B,0,0,H.width,H.height);fa.drawImage(H,0,0);W=!0;document.body.appendChild(H);N&&(N(),N=!1)}function p(){H.style.transitionDuration="0ms";H.style.opacity="1";H.style.transform="";W&&(document.body.removeChild(H),W=!1)}function t(){z&&(window.clearTimeout(z),
z=null)}function v(ba){K(ba,za,0);K(ba,wa,1);return Math.sqrt(za[0]*za[0]+wa[0]*wa[0])}function D(ba,ma){void 0!==ba.changedTouches||void 0!==ba.touches?K(ba,ma,0):(ma[0]=ba.pageX,ma[1]=ba.pageY)}function K(ba,ma,Ka){ba.touches.length>Ka?(ma[0]=ba.touches[Ka].pageX,ma[1]=ba.touches[Ka].pageY):(ma[0]=ba.changedTouches[Ka].pageX,ma[1]=ba.changedTouches[Ka].pageY)}function l(){m.forEach(function(ba){B.removeEventListener(ba.type,ba.pb,!1)});return m.splice(0,m.length)}function w(ba){ba.forEach(function(ma){r(ma.type,
ma.pb)})}function r(ba,ma){B.removeEventListener(ba,ma,!1);H.removeEventListener(ba,ma,!1);B.addEventListener(ba,ma,!1);H.addEventListener(ba,ma,!1);0===m.filter(function(Ka){return Ka.type===ba&&Ka.pb===ma}).length&&m.push({type:ba,pb:ma})}function f(ba,ma,Ka,gb){q[ba].forEach(function(Ba){Ba.pb(ma,Ka,gb)})}function h(ba){return ba[0]+"% "+(100-ba[1]).toString()+"%"}var J=!1,B=null,q={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],
move:[],moveStart:[],moveEnd:[]},m=[],F={idle:0,swipe:1,movePinch:2},O=F.idle,y=0,g=[0,0],G=[0,0],u=[0,0],L=[0,0],H=document.createElement("canvas"),P=document.createElement("canvas"),Y=H.getContext("2d"),fa=P.getContext("2d");H.style.position="fixed";H.style.zIndex="800";H.style.cursor="move";H.style.pointerEvents="none";H.className="swipeImage";H.setAttribute("draggable",!1);var W=!1,A=[0,0],N=null,z=null,C=h([50,100]),T=h([50,0]),la=null,pa=0,qa=[0,0],Ja=0,qb=!1,bb=1,za=[0,0],wa=[0,0],Wa={init:function(ba){if(J)Wa.switch_canvas(ba.ua);
else return B=ba.ua,r("mousedown",d),r("mouseup",e),r("mouseout",e),r("mousemove",c),r("mousemove",c),r("wheel",a),r("touchstart",d),r("touchend",e),r("touchmove",c),J=!0,Wa},switch_canvas:function(ba){if(!J)Wa.init({ua:ba});else if(B!==ba){var ma=l();B=ba;w(ma);for(var Ka in q)for(ba=q[Ka],ma=ba.length-1;0<=ma;--ma)ba[ma].en&&ba.splice(ma,1)}},get_mode:function(){for(var ba in F)if(F[ba]===O)return ba;return!1},switch_mode:function(ba){J&&"undefined"!==typeof F[ba]&&(ba=F[ba],O!==ba&&(t(),O=ba,y=
0))},add_listener:function(ba,ma,Ka){q[ba].push({pb:ma,en:"undefined"===typeof Ka?!1:Ka});return Wa},remove_listener:function(ba){q[ba].splice(0,q[ba].length);return Wa},animate_swipe:function(ba,ma){la&&(clearInterval(la),la=null);n();var Ka=B.width/(ma/1E3)*("left"===ba?-1:1),gb=0,Ba,Rb=Date.now();la=setInterval(function(){la&&(Ba=Date.now(),gb+=(Ba-Rb)/1E3*Ka,k(gb),Rb=Ba,Math.abs(gb)>.75*B.width&&la&&(clearInterval(la),la=null,p()))},16)}};return Wa}();window.CanvasListeners=Nb;var dc=function(){function a(w,
r,f,h,J,B){if(B===J.length)h();else{switch(J[B]){case "D":w();break;case "S":r().then(function(){l.nj();a(w,r,f,h,J,++B)}).catch(h);return;case "R":f()}a(w,r,f,h,J,++B)}}var c={n:5,Lf:1,ci:0,ed:[35,49],bd:[2,200],k:.7,eo:200,Pm:.05},e=-1,d=null,k=-1,n=-1,x=0,p=-1,t=-1,v=0,D=0,K=c.bd[1],l={U:function(){switch(e){case -1:return-1;case 0:return t+d.ci;case 1:return v}},uh:function(w){return Math.pow(Math.min(Math.max(p,0),d.n-1)/(d.n-1),w||1)},m:function(w){d=Object.assign({},c,w);p=t=d.Lf;e=0;l.reset()},
nj:function(w){w=("undefined"===typeof w?Date.now():w)||0;var r=Math.min(Math.max(w-D,d.bd[0]),d.bd[1]);K=r;D=w;var f=-1===k?0:d.k;k=Math.min(Math.max(1E3/r,5),120)*(1-f)+k*f;w-n>d.eo&&5<++x&&(r=d.k,p=p*(1-r)+(k<d.ed[0]?t-1:k>d.ed[1]?t+1:t)*r,Math.abs(p-t)>1-d.Pm&&(r=Math.min(Math.max(Math.round(p),0),d.n-1),r!==t&&(p=t=r,k=(d.ed[1]-d.ed[0])/2)),n=w)},Uf:function(w,r,f,h,J){a(w,r,f,h,J,0)},Dn:function(w){v=w;e=1},co:function(){e=0;l.reset()},reset:function(){K=c.bd[1];n=k=-1;x=0},vl:function(){return K}};
return l}(),$c=function(){var a={oi:4,Bd:[1.5,1.5,2],Sa:[.1,.1,.1],Mi:1,wa:-1,hf:-1,Yn:2,Mm:1,Ni:!0,kl:.8},c=null,e=[],d=0,k=[.5,.5,1];return{m:function(n){c=Object.assign({},a,n);e.splice(0);n=c.Bd[0]*c.Sa[0];var x=c.Bd[1]*c.Sa[1],p=1/(1+c.Bd[2]*c.Sa[2]),t=c.Mi*Math.min(c.wa,c.hf),v=t/c.wa;t/=c.hf;var D=.5*c.kl;D*=D;for(var K=0;K<c.oi;++K){var l=Math.pow(p,K),w=v*l,r=t*l;l=w*n;var f=r*x,h=w/2;r/=2;for(var J=1+(1-h-h)/l,B=1+(1-r-r)/f,q=0;q<B;++q)for(var m=r+q*f,F=m-.5,O=0;O<J;++O){var y=h+O*l,g=y-
.5;g*g+F*F>D||e.push([y,m,w*c.Mm])}}c.Ni&&e.sort(function(G,u){var L=G[0]-.5;G=G[1]-.5;var H=u[0]-.5;u=u[1]-.5;return L*L+G*G-(H*H+u*u)})},get:function(){var n=e.length;if(0===n)return k;d>=n&&(d=0);var x=e[Math.floor(d)];d=(d+1/c.Yn)%n;return x}}}(),ec=function(){function a(){e(f+w.Hf);h.port.postMessage("DONE")}function c(){var g=w.la;m.isEnabled&&(g=Math.max(g,m.la));q.Rc=0===g?window.requestAnimationFrame(e):window.requestAnimationFrame(d)}function e(g){B.Rb&&null!==r&&(g-=f,g=Math.min(Math.max(g,
w.hh[0]),w.hh[1]),f+=g,n(),m.isEnabled&&m.Ma&&B.Na&&f-m.sf>w.Hg&&(v(),m.sf=f),r(f))}function d(g){B.Rb&&(q.timeout=window.setTimeout(e.bind(null,g),w.la))}function k(){r=null;B.Rb=!1;n()}function n(){q.Rc&&(window.cancelAnimationFrame(q.Rc),q.Rc=null);q.timeout&&(window.clearTimeout(q.timeout),q.timeout=null)}function x(g){g&&!B.Na?(B.Na=!0,J&&dc.co(),h.port.postMessage("STOP"),S.oj(!0),c()):!g&&B.Na&&(B.Na=!1,J&&dc.Dn(1),S.oj(!1),h.port.postMessage("START"))}function p(g){g.target.hidden?O():F()}
function t(g,G,u){G=g.createShader(G);g.shaderSource(G,u);g.compileShader(G);return G}function v(){m.Ma=!1;var g=m.ld,G=m.md,u=m.nd,L=m.La;g.uniform1f(m.Dh,Math.random());m.Sb?G.beginQueryEXT(L,u):g.beginQuery(L,u);g.drawElements(g.POINTS,1,g.UNSIGNED_SHORT,0);m.Sb?G.endQueryEXT(L):g.endQuery(L);g.flush();K().then(function(H){H=w.Gj*w.Fg*1E3/H;m.Yd=(m.Yd+1)%w.jc;m.tf[m.Yd]=H;if(++m.ai>w.jc){m.td.set(m.tf);m.td.sort();H=m.td[Math.floor(w.jc/2)];m.dd=Math.max(m.dd,H);var P;for(P=0;P<m.ug&&!(H>m.dd*
(1-(w.Gg[P]+w.Hj*(P>=m.Sd?1:-1))));++P)P===m.ug-1&&++P;P!==m.Sd&&(console.log("THERMAL THROTTLING LEVEL = "+P.toString()),m.Sd=P,m.la=0===P?0:w.Fj[P-1],w.Eg&&w.Eg(P))}m.Ma=!0}).catch(function(){m.Ma=!0})}function D(g){var G=m.ld,u=m.md,L=m.nd;L=m.Sb?u.ip(L,u.QUERY_RESULT_AVAILABLE_EXT):G.getQueryParameter(L,G.QUERY_RESULT_AVAILABLE);G=G.getParameter(u.GPU_DISJOINT_EXT);L?g(!G):setTimeout(D.bind(null,g),.1)}function K(){return new Promise(function(g,G){D(function(u){if(u){u=m.ld;var L=m.md,H=m.nd;
u=m.Sb?L.getQueryObjectEXT(H,L.QUERY_RESULT_EXT):u.getQueryParameter(H,u.QUERY_RESULT);g(u)}else G()})})}var l={Th:!0,hh:[1,200],Hf:20,la:0,Ij:!1,Fg:50,Gj:240,Hg:3E3,jc:3,Gg:[.2,.35,.5],Hj:.05,Fj:[8,20,40],Eg:null},w=null,r=null,f=0,h=null,J=!1,B={Da:!1,Na:!0,rf:!1,qf:!1,pf:!1,Rb:!1},q={Rc:null,timeout:null},m={isEnabled:!1,Ma:!1,ld:null,md:null,nd:null,La:null,Dh:null,Sb:!0,Sd:0,ug:0,la:0,sf:0,ai:0,tf:null,td:null,Yd:0,dd:0},F=x.bind(null,!0),O=x.bind(null,!1),y={m:function(g){w=Object.assign(l,
g);Object.assign(B,{Na:!0,Da:!0,Rb:!1});if(w.Ij){g=document.createElement("canvas");g.setAttribute("width","1");g.setAttribute("height","1");var G={antialias:!1};g=g.getContext("webgl2",G)||g.getContext("webgl",G);if(G=g.getExtension("EXT_disjoint_timer_query")||g.getExtension("EXT_disjoint_timer_query_webgl2")){m.ld=g;m.md=G;m.isEnabled=!0;m.Sb=G.beginQueryEXT?!0:!1;var u=t(g,g.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),L=t(g,g.FRAGMENT_SHADER,"precision lowp float;uniform float u36;void main(){vec4 a=u36*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",
w.Fg.toString())),H=g.createProgram();g.attachShader(H,u);g.attachShader(H,L);g.linkProgram(H);u=g.getAttribLocation(H,"a0");m.Dh=g.getUniformLocation(H,"u36");g.useProgram(H);g.enableVertexAttribArray(u);H=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,H);g.bufferData(g.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),g.STATIC_DRAW);g.vertexAttribPointer(u,4,g.FLOAT,!1,16,0);H=g.createBuffer();g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,H);g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),g.STATIC_DRAW);
g.disable(g.DEPTH_TEST);g.disable(g.DITHER);g.disable(g.STENCIL_TEST);g.viewport(0,0,1,1);H=m.Sb?G.createQueryEXT():g.createQuery();m.nd=H;m.La=G.TIME_ELAPSED_EXT||g.TIME_ELAPSED;m.Sd=0;m.ug=w.Gg.length;m.la=0;m.sf=-w.Hg;m.tf=new Float32Array(w.jc);m.td=new Float32Array(w.jc);m.dd=0;m.Yd=0;m.ai=0;m.Ma=!0}}if(w.Th){g=!1;try{if("undefined"===typeof SharedWorker){var P=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
w.Hf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),Y=new Worker(P);Y.addEventListener("message",a);h={Di:Y,port:Y};B.rf=!0}else{var fa=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
w.Hf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),W=new SharedWorker(fa);W.port.start();W.port.addEventListener("message",a);h={Di:W,port:W.port};B.qf=!0}g=!0}catch(A){}g&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",p):(window.addEventListener("blur",O),window.addEventListener("focus",F)),B.pf=!0)}J=
"undefined"!==typeof dc},v:function(){k();B.pf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",p):(window.removeEventListener("blur",O),window.removeEventListener("focus",F)),B.pf=!1);B.qf?(h.port.close(),B.qf=!1):B.rf&&(h.Di.terminate(),B.rf=!1);Object.assign(B,{Na:!0,Da:!1,Rb:!1});r=null},Dp:function(){return B.Na},update:function(g){Object.assign(w,g)},Uf:function(g){B.Da||y.m({});n();B.Rb=!0;r=g;B.Na&&c()},stop:k};return y}(),V={VERSION:"3.1.6",Oc:[],Nc:[],he:!1,
ge:!1,ie:!1,isFallback:!1,ready:!1,isBusy:!1},yb={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Ej:23,ee:10,de:8E3},bd={Jf:"models3D",Ff:"materials",ao:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",aa:"",xa:"",fe:"",la:0,Rj:20,width:1024,height:1024,Om:[1.7,3.5],Ki:300,Lc:[2,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,Sa:[.1,.1,.3],$n:55,Qk:1.9,Xm:[.35,.7],Wm:2,ng:[0,.6],Ba:[.7,1.13,.262],mj:[-.1,0,0],Ga:[0,
-62,8],ub:1.05,Fa:[0,-60,0],Kf:60,Pk:.3,Re:73,me:[.02,.9],le:[1,10],re:[.7,.98],nn:.25,ln:1,qo:20,fp:!1,sc:145,gf:-18,ef:20,ff:3,oa:[-110,0],bc:1,dj:.4,ej:3,Md:[0,0,0],cc:[1.1,1],Wc:0,Ge:.95,Fe:90,Ee:50,za:30,ra:.05,cf:!0,wd:!0,Cf:"images/masks/target.jpg",Df:!1,vd:[1/255,175/255,236/255,0],xd:-.001,Bf:3.14,te:0,se:"images/masks/burka.png",oe:Math.PI-Math.PI/4,Ce:Math.PI/4,Tf:[.3,.2,.1],Ub:1,fi:700,ei:90,wm:.2,di:.04,ro:"images/backgrounds/viewer3D.png",Dg:[0,0,0],Cg:[0,15,60],be:.3,zo:50,vo:lc?Fa:
!1,wo:lc?Fa:!1,yo:1E3,Bo:1E3,xo:40,uo:[0,0,-400],ii:.1,Bm:.5,ji:[.5,1.5],yd:30,Am:!0},I=Object.assign({},bd);U.model=!1;U.Wb=1;U.Dd=1;U.Zg=!0;U.$g=!0;U.Yg=!1;U.Oa=!0;var Cb={Wf:3.5,Xb:"images/debug/picsou.png",Fd:45,yf:.785,zf:.3925,Af:5,wf:2,xf:0,vf:0,so:"images/backgrounds/bg1.jpg",to:"images/backgrounds/bg1_light.jpg",Aj:1,Bj:2};I.Ba=[.7,1.13,.262];I.hp=[4,50];I.oa=[-110,0];I.dj=.25;I.ej=3;I.Md=[0,-2,20];I.cc=[.95,1];U.Wb=2.1289;U.Dd=1;Cb.Wf=2.5858;Cb.yf=.4388;Cb.zf=.118;Cb.Xb="images/debug/hdri2.png";
Cb.Fd=180;Cb.Vf=.8065;Cb.Af=5.3887;Cb.wf=.5351;Cb.xf=-.3019;Cb.vf=0;Cb.Aj=3.5288;Cb.Bj=6.2168;I.Ba[0]*=.8;I.Ba[1]*=.7;var ad={element:null,Vg:null,ja:null,tg:null,deviceId:-1,Kb:-1,Bi:null,ae:-1},Va=Object.assign({},ad),Gb=null,xc=-1,yc=-1,fd=I.Om,Rc=window.devicePixelRatio?window.devicePixelRatio:1;var Ic={ml:Math.max(fd[0],Rc)/Rc,Pe:Math.min(Rc,fd[1])};var Hb=null;V.onLoad=function(a){V.ready?a():V.Oc.push(a)};V.onHalfLoad=function(a){V.load_model?a():V.Nc.push(a)};V.onWebcamAsk=function(a){V.he=
a};V.onContextLost=function(a){V.ge=a};V.onWebcamGet=function(a){V.ie=a};V.get_onHalfLoadCallstack=function(){return V.Nc};V.set_size=function(a,c){I.width=a;I.height=c};V.get_videoDevices=function(a){na(a)};V.set_videoDevice=function(a){Va.deviceId=a};V.set_videoSizes=function(a,c,e,d,k,n){yb.idealWidth=a;yb.idealHeight=c;yb.minWidth=e;yb.maxWidth=d;yb.minHeight=k;yb.maxHeight=n};V.set_loading=function(a,c,e){a&&(I.Df=!0,I.Cf=a);"number"===typeof c&&(a=new Ua(c),I.vd=[a.r,a.Y,a.b,0]);"number"===
typeof e&&(I.xd=e)};V.set_settings=function(a,c,e){a&&Object.assign(I,a);c&&Object.assign(yb,c);e&&Object.assign(Cb,e)};V.get_size=function(){return{width:I.width,height:I.height}};V.get_cv=function(){return sb.qb()};V.set_NNCPath=function(a){I.fe=a};V.set_materialsPath=function(a){I.Ff=a};V.set_modelsPath=function(a){I.Jf=a};V.destroy=function(){return Hb?Hb.v():Promise.resolve()};V.init=function(a,c,e,d){Hb=Ca();V.mb=e?function(k,n){e(k,n);V.mb=!1}:function(){};V.Ho=Hb;a&&(I.aa=a);c&&V.Oc.push(c);
Hb.Zn();if(!sb.m({Xg:"jeefitCanvas",ua:d,width:xc,height:yc,debug:!1,ti:function(){V.ge&&V.ge()},premultipliedAlpha:!0}))return V.mb&&V.mb("GL_INCOMPATIBLE","Cannot init Context"),!1;V.he&&V.he();a={width:{min:yb.minWidth,max:yb.maxWidth,ideal:yb.idealWidth},height:{min:yb.minHeight,max:yb.maxHeight,ideal:yb.idealHeight},facingMode:{ideal:"user"}};c={video:a,audio:!1};Va.Vg=c;a&&-1!==Va.deviceId&&Lb(c,Va.deviceId);ja(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):
!1,function(k){V.ie&&V.ie(k);Va.element=k;k=Va.element.videoWidth;var n=Va.element.videoHeight;Va.tg={ha:Va.element,isPot:!1,isFloat:!1,isFlipY:!0};Va.ja=Z.instance(Va.tg);Hb.fg(k,n);Hb.lf(k,n)&&Hb.mg()},function(k){V.mb&&V.mb("WEBCAM_UNAVAILABLE",k)},c);return!0};JEELIZVTO=V;var dd=function(){function a(){ra.$();b.viewport(0,0,1,1);da.set("s63");d.g(0);aa.l(!1);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,n);c(0<n[0])}var c=null,e=!1,d=null,k=!1,n=null,x={m:function(p){if(k)return!1;d=p;da.ke([{id:"s63",
name:"_",h:"uniform sampler2D u38;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u38,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",i:["u38"],precision:"lowp"}]);da.j("s63",[{type:"1i",name:"u38",value:0}]);n=new Uint8Array(4);return k=!0},start:function(p,t){x.stop();c=t;e=window.setInterval(a,p)},stop:function(){e&&(window.clearInterval(a),e=!1)}};return x}(),Jc=Jc||{};Ua.prototype={constructor:Ua,r:1,Y:1,b:1,set:function(a){a instanceof Ua?this.J(a):"number"===typeof a?rb(this,
a):"string"===typeof a&&ob(this,a);return this},qn:function(){function a(c,e,d){0>d&&(d+=1);1<d&&--d;return d<1/6?c+6*(e-c)*d:.5>d?e:d<2/3?c+6*(e-c)*(2/3-d):c}return function(c,e,d){c=Jc.Math.gp(c,1);e=Jc.Math.xe(e,0,1);d=Jc.Math.xe(d,0,1);0===e?this.r=this.Y=this.b=d:(e=.5>=d?d*(1+e):d+e-d*e,d=2*d-e,this.r=a(d,e,c+1/3),this.Y=a(d,e,c),this.b=a(d,e,c-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.Y,this.b)},J:function(a){this.r=a.r;this.Y=a.Y;this.b=a.b;return this},
add:function(a){this.r+=a.r;this.Y+=a.Y;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.Y*=a.Y;this.b*=a.b;return this},Ea:function(a){this.r*=a;this.Y*=a;this.b*=a;return this},ob:function(a,c){void 0===c&&(c=0);this.r=a[c];this.Y=a[c+1];this.b=a[c+2];return this}};var ld={};ib.prototype={constructor:ib,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get w(){return this.M},set w(a){this.M=a},set:function(a,
c,e,d){this.B=a;this.C=c;this.D=e;this.M=d;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.M)},J:function(a){this.B=a.x;this.C=a.y;this.D=a.z;this.M=a.w;return this},inverse:function(){this.B*=-1;this.C*=-1;this.D*=-1;this.normalize();return this},Yc:function(a){return this.B*a.B+this.C*a.C+this.D*a.D+this.M*a.M},uf:function(){return this.B*this.B+this.C*this.C+this.D*this.D+this.M*this.M},length:function(){return Math.sqrt(this.B*this.B+this.C*this.C+this.D*this.D+
this.M*this.M)},normalize:function(){var a=this.length();0===a?(this.D=this.C=this.B=0,this.M=1):(a=1/a,this.B*=a,this.C*=a,this.D*=a,this.M*=a);return this},multiply:function(a,c){return void 0!==c?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),tb(this,a,c)):tb(this,this,a)},ob:function(a,c){void 0===c&&(c=0);this.B=a[c];this.C=a[c+1];this.D=a[c+2];this.M=a[c+3];return this}};zb.prototype={constructor:zb,get width(){return this.x},
set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,c){this.x=a;this.y=c;return this},Qi:function(a){this.x=a;return this},Ri:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},J:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Pc(a,c);this.x+=a.x;this.y+=a.y;return this},
Pc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.cb(a,c);this.x-=a.x;this.y-=a.y;return this},cb:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Ea:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Ke:function(a){return this.Ea(1/a)},min:function(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},xe:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},
Yc:function(a){return this.x*a.x+this.y*a.y},uf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Ke(this.length())},ob:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];return this}};Ta.prototype={constructor:Ta,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},Qi:function(a){this.x=a;return this},Ri:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y,this.z)},J:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Pc(a,c);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Pc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.cb(a,
c);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},cb:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiply:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*c.x,this.y=a.y*c.y,this.z=a.z*c.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Ea:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Ke:function(a){return this.Ea(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},xe:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));this.z=Math.max(a.z,Math.min(c.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=
Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},Yc:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},uf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Ke(this.length())},ob:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];
this.z=a[c+2];return this}};vb.Dj="XYZ";vb.prototype={constructor:vb,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get order(){return this.Ta},set order(a){this.Ta=a},set:function(a,c,e,d){this.B=a;this.C=c;this.D=e;this.Ta=d||this.Ta;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.Ta)},J:function(a){this.B=a.B;this.C=a.C;this.D=a.D;this.Ta=a.Ta;return this},ob:function(a){this.B=a[0];
this.C=a[1];this.D=a[2];void 0!==a[3]&&(this.Ta=a[3]);return this}};Wb.prototype={constructor:Wb,set:function(a,c){this.min.J(a);this.max.J(c);return this},clone:function(){return(new this.constructor).J(this)},J:function(a){this.min.J(a.min);this.max.J(a.max);return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Ta).cb(this.max,this.min)},getParameter:function(a,c){return(c||new Ta).set((a.x-this.min.x)/(this.max.x-
this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Xb.prototype={constructor:Xb,set:function(a,c,e,d,k,n,x,p,t,v,D,K,l,w,r,f){var h=this.elements;h[0]=a;h[4]=c;h[8]=e;h[12]=d;h[1]=k;h[5]=n;h[9]=x;h[13]=p;h[2]=t;h[6]=v;h[10]=D;h[14]=K;h[3]=l;h[7]=w;h[11]=r;h[15]=f;return this},clone:function(){return(new Xb).ob(this.elements)},J:function(a){this.elements.set(a.elements);return this},multiply:function(a,
c){return void 0!==c?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Mb(this,a,c)):Mb(this,this,a)},Ea:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},
scale:function(a){var c=this.elements,e=a.x,d=a.y;a=a.z;c[0]*=e;c[4]*=d;c[8]*=a;c[1]*=e;c[5]*=d;c[9]*=a;c[2]*=e;c[6]*=d;c[10]*=a;c[3]*=e;c[7]*=d;c[11]*=a;return this},ob:function(a){this.elements.set(a);return this}};ac.prototype={constructor:ac,clone:function(){return(new this.constructor).J(this)},J:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Pa.J(a.Pa);this.color.J(a.color);this.Vb=a.Vb;for(var c=0,e=a.$d.length;c<e;c++)this.$d[c]=a.$d[c].clone();c=0;for(e=a.Ag.length;c<e;c++)this.Ag[c]=
a.Ag[c].clone();return this}};var E=function(){function a(q,m,F){m=q.createShader(m);q.shaderSource(m,F);q.compileShader(m);return q.getShaderParameter(m,q.COMPILE_STATUS)?m:!1}function c(q,m){ha.ia()&&(m.h=m.h.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));m.bf=a(q,q.VERTEX_SHADER,m.s,m.name+" VERTEX");m.af=a(q,q.FRAGMENT_SHADER,m.h,m.name+" FRAGMENT");var F=q.createProgram();q.attachShader(F,m.bf);q.attachShader(F,m.af);q.linkProgram(F);return F}function e(q){q.s="#version 300 es\n"+q.s.replace(/varying/g,
"out");q.h="#version 300 es\n"+q.h.replace(/varying/g,"in");q.s=q.s.replace(/texture2D\(/g,"texture(");q.h=q.h.replace(/texture2D\(/g,"texture(");q.ea||(q.h=q.h.replace(/void main/g,"out vec4 FragColor;\nvoid main"),q.h=q.h.replace(/gl_FragColor/g,"FragColor"));var m=0,F=[];q.s=q.s.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(O,y,g){var G="";g.split(",").forEach(function(u){u=u.trim();G+="layout(location = "+m+") in "+y+" "+u+";\n";F.push(u);++m});return G});q.Mj=F}function d(q,
m){if(m.Mh)return!1;var F=ha.ia();U.xp||F||q.enableVertexAttribArray(0);void 0===m.ea&&(m.ea=!1);m.ea&&(m.Se=B.pl(),m.Mc=F?3:2,m.Gp=F?"none":"highp");m.id=J++;void 0===m.Mc&&(m.Mc=2);void 0===m.Se&&(m.Se="");void 0===m.yj&&(m.yj="");void 0===m.precision&&(m.precision="highp");"none"!==m.precision&&(m.h="precision "+m.precision+" float;\n"+m.h);m.h=m.Se+m.h;void 0===m.s&&(m.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");m.s=
m.yj+m.s;F&&3<=m.Mc&&e(m);m.Ha&&m.Ha.forEach(function(O){m.s=m.s.replace(O.search,O.replace);m.h=m.h.replace(O.search,O.replace)});m.pa=c(q,m);m.A={};m.i.forEach(function(O){m.A[O]=q.getUniformLocation(m.pa,O)});m.attributes={};m.ya=[];m.zg=0;void 0===m.H&&(m.H=["a0"]);void 0===m.N&&(m.N=[2]);m.H.forEach(function(O,y){var g=F&&3<=m.Mc?m.Mj.indexOf(O):q.getAttribLocation(m.pa,O);m.attributes[O]=g;m.ya.push(g);m.zg+=4*m.N[y]});m.set=function(){f!==m.id&&(-1!==f&&h.I(),f=m.id,h=m,q.useProgram(m.pa),
m.ya.forEach(function(O){0!==O&&q.enableVertexAttribArray(O)}))};m.I=function(){f=-1;m.ya.forEach(function(O){0!==O&&q.disableVertexAttribArray(O)})};m.Mh=!0}function k(q,m){d(q,m);m.set();f=-1;return m}function n(){return{name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"}}function x(){B.j("s92",[{type:"1i",name:"u1",value:0}]);B.j("s93",[{type:"1i",name:"u140",value:0}]);B.j("s94",[{type:"1i",name:"u62",value:0}])}function p(){var q=
"u38 u130 u131 u132 u133 u39 u66".split(" ").concat(l,w);r.s95={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u73*e;vec3 c=u73*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u67,0.,0.),u70,c);float u=mix(texture2D(u38,r).r,0.,u73);a.z+=u;mat3 v=s(a);vec3 w=mix(u130,u71,c);float x=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u69,1.,u73);vec2 j=u68/t;vec3 k=a0;float A=max(0.,-a0.z-u132)*u133;k.x+=A*sign(a0.x)*(1.-u73);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u136,u137,a0.z);}",
i:["u136","u137"].concat(q),H:["a0"],precision:"highp"};r.s96={name:"_",h:"uniform sampler2D u1;uniform vec3 u134;uniform float u61;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u134,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u134,b,u61),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,n);vec2 f=u73*e;vec3 c=u73*m;vec2 r=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,o).rgb+vec3(u67,0.,0.),u70,c);float s=mix(texture2D(u38,p).r,0.,u73);a.z+=s;mat3 t=q(a);vec3 u=mix(u130,u71,c);float v=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u69,1.,u73);vec2 j=u68/r;vec3 k=a0;float y=max(0.,-a0.z-u132)*u133;k.x+=y*sign(a0.x)*(1.-u73);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u134"].concat(D,q),H:["a0","a1"],N:[3,2],precision:"lowp"};r.s97={name:"_",h:"uniform vec3 u134;void main(){gl_FragColor=vec4(u134,0.);}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,m);vec2 f=u73*e;vec3 c=u73*l;vec2 q=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,n).rgb+vec3(u67,0.,0.),u70,c);float r=mix(texture2D(u38,o).r,0.,u73);a.z+=r;mat3 s=p(a);vec3 t=mix(u130,u71,c);float u=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u69,1.,u73);vec2 j=u68/q;vec3 k=a0;float x=max(0.,-a0.z-u132)*u133;k.x+=x*sign(a0.x)*(1.-u73);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(A,1.));}",
i:["u134"].concat(q),N:[3],precision:"lowp"};r.s98={name:"_",h:"uniform vec4 u6;varying vec3 vv0;varying float vv1;void main(){float a=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",s:"attribute vec3 a0,a2;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u73*e;vec3 c=u73*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u67,0.,0.),u70,c);float u=mix(texture2D(u38,r).r,0.,u73);a.z+=u;mat3 h=s(a);vec3 v=mix(u130,u71,c);float w=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u69,1.,u73);vec2 k=u68/t;vec3 l=a0;float z=max(0.,-a0.z-u132)*u133;l.x+=z*sign(a0.x)*(1.-u73);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u6","u66"].concat(q),H:["a0","a2"],precision:"highp"};r.s99={name:"_",h:"uniform sampler2D u140;uniform vec4 u6;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u140,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv3);gl_FragColor=vec4(a,m);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,r);vec2 f=u73*e;vec3 c=u73*q;vec2 v=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,s).rgb+vec3(u67,0.,0.),u70,c);float w=mix(texture2D(u38,t).r,0.,u73);a.z+=w;mat3 h=u(a);vec3 x=mix(u130,u71,c);float y=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u69,1.,u73);vec2 k=u68/v;vec3 l=a0;float B=max(0.,-a0.z-u132)*u133;l.x+=B*sign(a0.x)*(1.-u73);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u6","u66","u140"].concat(q),H:["a3","a0","a2","a1"],N:[4,3,3,2],precision:"highp"};r.s100={name:"_",h:"uniform vec4 u99;uniform float u135;void main(){float b=u135;vec4 a=u99;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,m);vec2 f=u73*e;vec3 c=u73*l;vec2 q=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,n).rgb+vec3(u67,0.,0.),u70,c);float r=mix(texture2D(u38,o).r,0.,u73);a.z+=r;mat3 s=p(a);vec3 t=mix(u130,u71,c);float u=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u69,1.,u73);vec2 j=u68/q;vec3 k=a0;float x=max(0.,-a0.z-u132)*u133;k.x+=x*sign(a0.x)*(1.-u73);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(A,1.));}",
i:["u99","u135"].concat(q),precision:"lowp"};r.s101={name:"_",h:"uniform sampler2D u62;uniform vec4 u99,u63;uniform float u135;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u135;vec4 a=u99,d=texture2D(u62,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u63*e),c=mix(c,l,u63.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u132,u133,u139;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,n);vec2 f=u73*e;vec3 c=u73*m;vec2 r=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,o).rgb+vec3(u67,0.,0.),u70,c);float s=mix(texture2D(u38,p).r,0.,u73);a.z+=s;mat3 t=q(a);vec3 u=mix(u130,u71,c);float v=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u69,1.,u73);vec2 j=u68/r;vec3 k=a0;float y=max(0.,-a0.z-u132)*u133;k.x+=y*sign(a0.x)*(1.-u73);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u99","u135"].concat(K,q),H:["a0","a1"],N:[3,2],precision:"lowp"};q=["u123","u111","u124"];r.s102={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform mat4 u123,u111,u124;varying vec3 vv0;varying float vv1;void main(){vec4 a=u124*vec4(a0,1.);gl_Position=u123*u111*a,vv0=a.xyz,vv1=1.;}",i:q,precision:"highp"};r.s103={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",s:"attribute vec3 a0,a2;uniform mat4 u123,u111,u124;varying vec3 vv0;varying float vv1;void main(){vec4 a=u124*vec4(a2,0.);gl_Position=u123*u111*u124*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:q,H:["a0","a2"],precision:"highp"};r.s93={name:"_",h:"uniform sampler2D u140;uniform vec3 u141;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u141),c=normalize(vv2),b=texture2D(u140,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u124*vec4(a2,0.),a=u124*vec4(a0,1.);gl_Position=u123*u111*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u140","u141"].concat(q),H:["a0","a2","a1","a3"],precision:"highp"};r.s92={name:"_",h:"uniform sampler2D u1;uniform vec3 u134;uniform float u61;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u134,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u134,b,u61),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u123*u111*u124*vec4(a0,1.)+f,vv0=a1;}",i:["u134"].concat(D,q),H:["a0","a1"],
Ha:[{search:"0.0005",replace:S.ca()?"0.0005":"0.0"}],precision:"lowp"};r.s104={name:"_",h:"uniform vec4 u99;uniform float u135;void main(){float b=u135;vec4 a=u99;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform mat4 u123,u111,u124;void main(){gl_Position=u123*u111*u124*vec4(a0,1.);}",i:["u99"].concat(q),precision:"highp"};r.s94={name:"_",h:"uniform sampler2D u62;uniform vec4 u99,u63;uniform float u135;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u135;vec4 a=u99,d=texture2D(u62,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u63*e),c=mix(c,l,u63.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec2 vv0;void main(){gl_Position=u123*u111*u124*vec4(a0,1.),vv0=a1;}",i:["u99"].concat(K,q),H:["a0","a1"],N:[3,2],precision:"highp"}}function t(){for(var q in r)d(b,r[q])}var v=!1,D=["u1","u61"],K=["u62","u63"],l="u64 u65 u66 u67 u68 u69".split(" "),w="u70 u71 u72 u73 u74 u75".split(" "),r={},f=-1,h=null,J=0,B={pl:function(){return ha.ia()?"precision highp float;\n            layout(location = 0) out vec4 gbuf0;\n            layout(location = 1) out vec4 gbuf1;\n            layout(location = 2) out vec4 gbuf2;\n            layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n"},qa:function(q,m){r[q]=m;v&&d(b,r[q])},Kp:function(q,m){r[q]=m;m.Mh=!1;d(b,r[q])},Tb:function(){return v},m:function(){r.s0=n();r.s1={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};r.s64={name:"_",h:"uniform sampler2D u1,u5;uniform float u6;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u5,vv0).rgb,texture2D(u1,vv0).rgb,u6*f),1.);}",i:["u1",
"u5","u6"],precision:"highp"};r.s65={name:"_",h:"uniform sampler2D u1,u5;uniform float u6;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u5,vv0),texture2D(u1,vv0),u6*f);}",i:["u1","u5","u6"],precision:"highp"};r.s11={name:"_",h:"uniform sampler2D u1,u76;uniform vec2 u77;uniform float u78,u79;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u76,vv0*u77),c=texture2D(u1,vv0*u77);float a=smoothstep(u78,0.,vv0.y);a+=smoothstep(1.-u78,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u79*f);}",
i:["u1","u77","u76","u78","u79"]};r.s66={name:"_",h:"uniform sampler2D u1,u76;uniform vec2 u77;uniform float u78,u79;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u77;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u76,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u78,0.,vv0.y);b+=smoothstep(1.-u78,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u79*h));gl_FragColor=k;}",
i:["u1","u77","u76","u78","u79"],precision:"highp"};r.s67={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};r.s68={name:"_",h:"uniform sampler2D u1,u80;uniform vec2 u7;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u7*f).rgb+texture2D(u1,a+u7*g).rgb+texture2D(u1,a+u7*h).rgb+texture2D(u1,a+u7*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u7"],precision:"lowp"};r.s69={name:"_",h:"uniform sampler2D u1,u80,u38;uniform vec2 u7,u81;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u7*f).rgb+texture2D(u1,a+u7*g).rgb+texture2D(u1,a+u7*h).rgb+texture2D(u1,a+u7*i).rgb;float c=texture2D(u38,vec2(.75,.5)).a,d=u81.x+pow(c,2.)*(u81.y-u81.x);vec3 j=mix(b/5.,texture2D(u80,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u80","u7","u38","u81"],precision:"lowp"};r.s70={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u7).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u7).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u7).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u7).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u7;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u7"],precision:"lowp"};r.s42={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};r.s71={name:"_",h:"uniform sampler2D u82,u83;uniform float u84,u85;varying vec2 vv0;void main(){vec3 a=texture2D(u83,vv0).rgb,b=texture2D(u82,vv0).rgb;gl_FragColor=vec4(b*u85+u84*a,1.);}",
i:["u82","u83","u84","u85"],precision:"highp"};r.s72={name:"_",h:"uniform sampler2D u86,u87;uniform float u79;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u87,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u86,g).rgb,u79*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u86","u87","u79"],precision:"lowp",Ha:[{search:"8888",replace:U.cm[ha.U()]}]};r.s73={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u7).a+.110236*texture2D(u1,vv0-2.*u7).a+.220472*texture2D(u1,vv0-u7).a+.275591*a.a+.220472*texture2D(u1,vv0+u7).a+.110236*texture2D(u1,vv0+2.*u7).a+.031496*texture2D(u1,vv0+3.*u7).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u7"],precision:"lowp"};r.s74={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};r.s75={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u7)+.110236*texture2D(u1,vv0-2.*u7)+.220472*texture2D(u1,vv0-u7)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u7)+.110236*texture2D(u1,vv0+2.*u7)+.031496*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",i:["u1","u7"],precision:"lowp"};r.s76={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u7)+texture2D(u1,vv0-2.*u7)+texture2D(u1,vv0-u7)+texture2D(u1,vv0)+texture2D(u1,vv0+u7)+texture2D(u1,vv0+2.*u7)+texture2D(u1,vv0+3.*u7);gl_FragColor=a/7.;}",
i:["u1","u7"],precision:"lowp"};r.s77={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};r.s78={name:"_",h:"uniform sampler2D u1,u76;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u76,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u76"],precision:"highp"};r.s79={name:"_",h:"uniform sampler2D u1,u76;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u76,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u76"],precision:"highp"};r.s80=
{name:"_",h:"uniform sampler2D u1,u88,u2,u89;uniform vec4 u90;uniform vec2 u91;uniform float u92,u93,u94,u95;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u88,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u89,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u91*.5+h).r,l=atan(a.x,a.y),m=-(mod(u92,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u93,b),c=.5+u95*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u90*k;gl_FragColor=mix(d,o,j*u94);}",
i:"u1 u2 u89 u88 u90 u92 u93 u94 u91 u95".split(" "),precision:"lowp"};var q="u96 u97 u98 u99 u86 u100 u21 u101 u88 u102 u103 u104 u105 u106".split(" ");U.ba&&(r.s81={name:"_",h:"uniform sampler2D u96,u97,u98,u99,u86,u100,u107,u88;uniform vec3 u101,u104;uniform float u21,u108,u103,u105,u102;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u102;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u96,vv0);vec3 k=texture2D(u88,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u101;vec4 b=texture2D(u99,vv0),m=texture2D(u97,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u98,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u100,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u21));float I=acos(-s.z),J=smoothstep(u103-u105,u103+u105,I);h=mix(l(texture2D(u86,H)),u104,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u108*texture2D(u107,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:q.concat(["u107","u108"]),precision:"highp"});r.s82={name:"_",h:"uniform sampler2D u96,u97,u98,u99,u86,u100,u88;uniform vec3 u101,u104;uniform float u21,u103,u105,u106,u109,u110,u102;varying vec2 vv0;const float l=3.141592;const vec3 x=vec3(0.,0.,0.),m=vec3(1.,1.,1.),y=vec3(.299,.587,.114);const float z=2.;vec3 n(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 A(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/l,1.-c/l);}vec2 B(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,g=vec2(0.,1.-1./b);float h=atan(a.x,a.z),i=acos(-a.y),c=.5+.5*h/l,j=i/l,k=.5*b/u102;c=(1.-k)*c;return g+vec2(c,j)*f;}void main(){vec4 f=texture2D(u96,vv0),g=texture2D(u88,vec2(1.-vv0.x,vv0.y));if(f.a<.01){gl_FragColor=vec4(g.rgb,0.);return;}float o=f.a;vec3 C=f.rgb,D=C+u101;vec4 b=texture2D(u99,vv0),p=texture2D(u97,vv0);vec3 h=p.rgb;float i=p.a;vec4 j=texture2D(u98,vv0);vec3 c=j.rgb;if(o>1.){gl_FragColor=vec4(mix(g.rgb,c,j.a),1.);return;}c=pow(c,u109*m);float q=b.r,E=b.g,F=b.a,r=floor(b.b*255.),k=floor(r/16.),G=(r-16.*k)/16.;k/=16.,i=1.-(1.-i)*(1.-j.a);vec2 H=A(h);vec3 I=n(texture2D(u100,H)),J=(1.-F)*I,s=normalize(D),t=x,u=reflect(-s,h);float K=floor(E*u21);vec2 L=B(u,K);float M=acos(-u.z),N=smoothstep(u103-u105,u103+u105,M);vec3 O=n(texture2D(u86,L));t=mix(O,u104,N*u106);float a=q+(G-q)*pow(1.+dot(h,s),k*15.);a=clamp(a,0.,1.);vec3 P=c*mix(J,t,a);float v=o*(i*(1.-a)+a);vec3 d=mix(g.rgb,pow(P,m/u109),v);float w=dot(d,y),Q=max(0.,(w-1.)/(z-1.));d=mix(w*m,d,mix(1.,u110,v)*m),gl_FragColor=vec4(d,Q);}",
i:q.concat(["u109","u110"]),precision:"highp"};U.ba&&(r.s83={name:"_",h:"uniform sampler2D u96,u97;uniform mat4 u111;uniform vec2 u112,u7,u113;uniform float u114,u115,u116,u117,u118,u119,u120,u121,u108;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u113;vec4 pos=texture2D(u96,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u114),s=sin(u114);vec3 no0=texture2D(u97,uvt).rgb;float zv=(u111*vec4(co0,1.)).z;vec3 co;vec2 scale=u112/abs(zv),uv,duv=u7*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u96,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u120,u121,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u96,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u120,u121,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u7*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u96,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u120,u121,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u96,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u120,u121,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u117,u118,1.),ao=dzFactor*clamp(u116*omegaMin*u119,0.,u108);gl_FragColor=vec4(ao,ao,ao,u115);}",
i:"u96 u97 u116 u115 u114 u7 u122 u117 u118 u119 u120 u121 u111 u112 u108".split(" "),Ha:[{search:"8888.8",replace:U.ek[ha.U()].toFixed(1)}],precision:"lowp"},r.s84={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u7*f)+texture2D(u1,a+u7*g)+texture2D(u1,a+u7*h)+texture2D(u1,a+u7*i);b+=texture2D(u1,a+u7*j)+texture2D(u1,a+u7*k)+texture2D(u1,a+u7*l)+texture2D(u1,a+u7*m),gl_FragColor=b/9.;}",
i:["u1","u7"],precision:"lowp"});r.s85={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",s:"attribute vec3 a0;uniform mat4 u123,u111,u124;varying vec3 vv0;void main(){vec4 a=u123*u111*u124*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u123","u111","u124"],precision:"lowp"};r.s86={name:"_",h:"uniform sampler2D u125,u100,u87;uniform mat4 u123,u126;uniform vec2 u127;uniform float u128;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u127*(z-f),0.),B=vec3(u126*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u87,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u123*u,i=h.xyz/h.w;if(texture2D(u125,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u126*vec4(g,0.)),t+=texture2D(u100,y(s));}gl_FragColor=vec4(u128*t.rgb/n,1.);}",
i:"u125 u100 u87 u123 u126 u127 u128".split(" "),Ha:[{search:"8888.8",replace:U.Tn[ha.U()].toFixed(1)},{search:"9999.9",replace:U.Un[ha.U()].toFixed(1)}],precision:"lowp"};r.s87={name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u7)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u7);gl_FragColor=a;}",i:["u1","u7"],precision:"lowp"};r.s88={name:"_",h:"uniform sampler2D u1,u129;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u123,u111;varying vec2 vv0;void main(){vec4 a=u123*u111*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u123","u111","u1"],H:["a0","a1"],precision:"lowp"};if(ha.Z()){q="u38 u130 u131 u132 u133 u39 u99 u134 u135 u6 u136 u137 u66".split(" ").concat(l,w);ha.Xh()||(r.s89={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",ea:!0});r.s90={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],ea:!0};r.s91NNGLcolor={name:"_",h:"uniform vec4 u99,u6;uniform vec3 u134;uniform float u135;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv3),c=u135;vec4 a=u99;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u134,0.),gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,s);vec2 f=u73*e;vec3 c=u73*r;vec2 w=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,t).rgb+vec3(u67,0.,0.),u70,c);float x=mix(texture2D(u38,u).r,0.,u73);a.z+=x;mat3 h=v(a);vec3 y=mix(u130,u71,c);float z=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u69,1.,u73);vec2 k=u68/w;vec3 l=a0;float C=max(0.,-a0.z-u132)*u133;l.x+=C*sign(a0.x)*(1.-u73);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u136,u137,a0.z),vv0=m,vv3=a0.y;}",
i:q,H:["a0","a2"],N:[3,3],ea:!0};r.s91NNGLtexture={name:"_",h:"uniform sampler2D u1;uniform vec4 u99,u6;uniform vec3 u134;uniform float u135,u61;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv4),d=u135;vec4 b=u99;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u134,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u134,l,u61),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,t);vec2 f=u73*e;vec3 c=u73*s;vec2 x=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,u).rgb+vec3(u67,0.,0.),u70,c);float y=mix(texture2D(u38,v).r,0.,u73);a.z+=y;mat3 h=w(a);vec3 z=mix(u130,u71,c);float A=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u69,1.,u73);vec2 k=u68/x;vec3 l=a0;float D=max(0.,-a0.z-u132)*u133;l.x+=D*sign(a0.x)*(1.-u73);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u136,u137,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:q.concat(D),H:["a0","a2","a1"],N:[3,3,2],ea:!0};r.s91NNGLtextureNormalMap={name:"_",h:"uniform vec4 u99,u6;uniform vec3 u134;uniform sampler2D u1,u140;uniform float u135,u61;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u140,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u135;vec4 c=u99;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u134,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u134,t,u61),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,u);vec2 f=u73*e;vec3 c=u73*t;vec2 y=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,v).rgb+vec3(u67,0.,0.),u70,c);float z=mix(texture2D(u38,w).r,0.,u73);a.z+=z;mat3 h=x(a);vec3 A=mix(u130,u71,c);float B=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u69,1.,u73);vec2 k=u68/y;vec3 l=a0;float E=max(0.,-a0.z-u132)*u133;l.x+=E*sign(a0.x)*(1.-u73);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u136,u137,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:q.concat(D,["u140"]),H:["a3","a0","a2","a1"],N:[4,3,3,2],ea:!0};r.s91NNGLtextureParamsMap={name:"_",h:"uniform sampler2D u1,u62;uniform vec4 u99,u6,u63;uniform vec3 u134;uniform float u135,u61;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv4),d=u135;vec4 a=u99,e=texture2D(u62,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u63*f),d=mix(d,r,u63.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u134,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u134,u,u61),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,t);vec2 f=u73*e;vec3 c=u73*s;vec2 x=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,u).rgb+vec3(u67,0.,0.),u70,c);float y=mix(texture2D(u38,v).r,0.,u73);a.z+=y;mat3 h=w(a);vec3 z=mix(u130,u71,c);float A=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u69,1.,u73);vec2 k=u68/x;vec3 l=a0;float D=max(0.,-a0.z-u132)*u133;l.x+=D*sign(a0.x)*(1.-u73);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u136,u137,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:q.concat(D,K),H:["a0","a2","a1"],N:[3,3,2],ea:!0};r.s91NNGLtextureNormalParamsMap={name:"_",h:"uniform sampler2D u1,u140,u62;uniform vec4 u99,u6,u63;uniform vec3 u134;uniform float u135,u61;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u140,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u135;vec4 a=u99,f=texture2D(u62,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u63*l),e=mix(e,z,u63.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u134,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u134,C,u61),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u138;uniform float u131,u136,u137,u132,u133,u139;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,u);vec2 f=u73*e;vec3 c=u73*t;vec2 y=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,v).rgb+vec3(u67,0.,0.),u70,c);float z=mix(texture2D(u38,w).r,0.,u73);a.z+=z;mat3 h=x(a);vec3 A=mix(u130,u71,c);float B=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u69,1.,u73);vec2 k=u68/y;vec3 l=a0;float E=max(0.,-a0.z-u132)*u133;l.x+=E*sign(a0.x)*(1.-u73);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u136,u137,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:q.concat(D,["u140"],K),H:["a3","a0","a2","a1"],N:[4,3,3,2],ea:!0};q="u123 u111 u124 u99 u134 u135 u6".split(" ");r.s91color={name:"_",h:"uniform vec4 u99,u6;uniform vec3 u134;uniform float u135;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv3),c=u135;vec4 a=u99;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u134,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform mat4 u123,u111,u124;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u124*vec4(a0,1.),b=u124*vec4(a2,0.);gl_Position=u123*u111*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
i:q,H:["a0","a2"],ea:!0};r.s91={name:"_",h:"uniform sampler2D u1;uniform vec4 u99,u6;uniform vec3 u134;uniform float u135,u61;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv4),d=u135;vec4 b=u99;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u134,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u134,l,u61),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u124*vec4(a0,1.),b=u124*vec4(a2,0.);gl_Position=u123*u111*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:q.concat(D),H:["a0","a2","a1"],ea:!0};var m=["u140","u141"];r.s91NormalMap={name:"_",h:"uniform sampler2D u1,u140;uniform vec4 u99,u6;uniform vec3 u141,u134;uniform float u135,u61;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u140,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u135;vec4 c=u99;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u134,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u134,t,u61),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u124*vec4(a0,1.),b=u124*vec4(a2,0.);gl_Position=u123*u111*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:q.concat(D,m),H:["a0","a2","a1","a3"],ea:!0};r.s91ParamsMap={name:"_",h:"uniform sampler2D u1,u62;uniform vec4 u99,u6,u63;uniform vec3 u134;uniform float u135,u61;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv4),d=u135;vec4 a=u99,e=texture2D(u62,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u63*f),d=mix(d,r,u63.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u134,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u134,u,u61),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u124*vec4(a0,1.),b=u124*vec4(a2,0.);gl_Position=u123*u111*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:q.concat(D,K),H:["a0","a2","a1"],ea:!0};r.s91NormalParamsMap={name:"_",h:"uniform sampler2D u1,u140,u62;uniform vec4 u99,u6,u63;uniform vec3 u141,u134;uniform float u135,u61;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u140,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u135;vec4 a=u99,f=texture2D(u62,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u63*l),e=mix(e,z,u63.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u134,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u134,C,u61),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u123,u111,u124;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u124*vec4(a0,1.),b=u124*vec4(a2,0.);gl_Position=u123*u111*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:q.concat(D,m,K),H:["a0","a2","a1","a3"],ea:!0}}else p();t();q=[{type:"1i",name:"u1",value:0}];B.j("s0",q);B.j("s1",q);B.j("s64",[{type:"1i",name:"u5",value:1}].concat(q));B.j("s65",[{type:"1i",name:"u5",
value:1}].concat(q));B.j("s11",[{type:"1i",name:"u76",value:1}].concat(q));B.j("s66",[{type:"1i",name:"u76",value:1}].concat(q));B.j("s67",q);B.j("s68",q);B.j("s69",[{type:"1i",name:"u80",value:1},{type:"1i",name:"u38",value:2}].concat(q));B.j("s70",q);B.j("s42",q);B.j("s71",[{type:"1i",name:"u82",value:0},{type:"1i",name:"u83",value:1}]);B.j("s72",[{type:"1i",name:"u86",value:0},{type:"1i",name:"u87",value:1}]);B.j("s73",q);B.j("s74",q);B.j("s75",q);B.j("s76",q);B.j("s77",q);B.j("s78",[{type:"1i",
name:"u76",value:1}].concat(q));B.j("s79",[{type:"1i",name:"u76",value:1}].concat(q));U.ba&&(B.j("s83",[{type:"1i",name:"u96",value:0},{type:"1i",name:"u97",value:1},{type:"1f",name:"u117",value:U.Tj},{type:"1f",name:"u118",value:U.Uj},{type:"1f",name:"u119",value:U.fk},{type:"1f",name:"u120",value:U.Xj},{type:"1f",name:"u121",value:U.Yj},{type:"1f",name:"u116",value:1},{type:"1f",name:"u108",value:1}]),B.j("s84",q));m=[{type:"1i",name:"u96",value:0},{type:"1i",name:"u97",value:1},{type:"1i",name:"u98",
value:2},{type:"1i",name:"u86",value:3},{type:"1i",name:"u100",value:4},{type:"1i",name:"u99",value:6},{type:"1i",name:"u88",value:7},{type:"1f",name:"u106",value:0},{type:"1f",name:"u103",value:0},{type:"1f",name:"u105",value:0}];U.ba&&B.j("s81",m.concat([{type:"1f",name:"u108",value:U.Wj[ha.U()]},{type:"1i",name:"u107",value:5}]));B.j("s82",m.concat([{type:"1f",name:"u109",value:U.Wb},{type:"1f",name:"u110",value:U.Dd}]));B.j("s86",[{type:"1i",name:"u125",value:0},{type:"1i",name:"u100",value:1},
{type:"1i",name:"u87",value:2},{type:"1f",name:"u128",value:U.Sn}]);B.j("s87",q);B.j("s88",q);B.j("s80",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u89",value:2},{type:"1i",name:"u88",value:3},{type:"1f",name:"u94",value:1},{type:"2f",name:"u91",value:[0,0]}].concat(q));ha.Z()?(B.j("s91",q),B.j("s91NormalMap",[{type:"1i",name:"u140",value:1}].concat(q)),B.j("s91ParamsMap",[{type:"1i",name:"u62",value:1}].concat(q)),B.j("s91NormalParamsMap",[{type:"1i",name:"u140",value:1},{type:"1i",name:"u62",
value:2}].concat(q))):x();v=!0},Hn:function(){p();t();x()},hd:function(){return h.id},Ye:function(){return l},Ze:function(){return w},set:function(q){Jb.bj(B);r[q].set()},vb:function(q){return k(q,n())},Id:function(q){return k(q,{name:"_",h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},Kn:function(q){return k(q,{name:"_",h:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:"highp",ea:!0})},I:function(){-1!==
f&&h.I()},Kd:function(){var q=0;h.ya.forEach(function(m,F){F=h.N[F];b.vertexAttribPointer(m,F,b.FLOAT,!1,h.zg,q);q+=4*F})},Fc:function(){B.$b(b)},$b:function(q){q.vertexAttribPointer(h.ya[0],2,q.FLOAT,!1,8,0)},Pp:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,12,0)},Ra:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0)},Za:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,24,0)},Vi:function(){b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,32,12)},Wi:function(){b.vertexAttribPointer(h.attributes.a2,
3,b.FLOAT,!1,24,12)},Dc:function(){b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,32,24)},Qp:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,20,0);b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,20,12)},yn:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0);b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,32,12);b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,32,24)},zn:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0);b.vertexAttribPointer(h.attributes.a2,
3,b.FLOAT,!1,32,12)},An:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,24,0);b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,24,12)},Gd:function(){b.vertexAttribPointer(h.attributes.a3,4,b.FLOAT,!1,16,0)},Jd:function(q,m){b.uniform1i(h.A[q],m)},G:function(q,m){b.uniform1f(h.A[q],m)},S:function(q,m,F){b.uniform2f(h.A[q],m,F)},cj:function(q,m){b.uniform2fv(h.A[q],m)},dg:function(q,m,F,O){b.uniform3f(h.A[q],m,F,O)},eg:function(q,m){b.uniform3fv(h.A[q],m)},va:function(q,m){b.uniform4fv(h.A[q],
m)},Nn:function(q,m){b.uniformMatrix2fv(h.A[q],!1,m)},On:function(q,m){b.uniformMatrix3fv(h.A[q],!1,m)},Ec:function(q,m){b.uniformMatrix4fv(h.A[q],!1,m)},j:function(q,m){B.set(q);m.forEach(function(F){switch(F.type){case "4f":b.uniform4fv(h.A[F.name],F.value);break;case "3f":b.uniform3fv(h.A[F.name],F.value);break;case "2f":b.uniform2fv(h.A[F.name],F.value);break;case "1f":b.uniform1f(h.A[F.name],F.value);break;case "1i":b.uniform1i(h.A[F.name],F.value);break;case "mat2":b.uniformMatrix2fv(h.A[F.name],
!1,F.value);break;case "mat4":b.uniformMatrix4fv(h.A[F.name],!1,F.value)}})},K:function(){for(var q in r){var m=r[q];b.detachShader(m.pa,m.bf);b.detachShader(m.pa,m.af);b.deleteShader(m.bf);b.deleteShader(m.af);b.deleteProgram(m.pa)}},v:function(){b.disableVertexAttribArray(0);B.I();B.K();J=0;v=!1;h=null;f=-1}};return B}(),mb=function(){var a={},c=[],e=!1,d=0,k=0,n=-1,x=-1,p=-1,t=1,v=null,D=!1,K=null,l=!1,w=!1,r=!1,f=!1,h=!1,J=!1,B=!1,q=null,m=null,F=-1,O=-1,y=null,g=-1,G,u=null,L=null,H=null,P=null,
Y=null,fa=null,W=null,A=[{type:"1f",name:"u73",value:0},{type:"1f",name:"u136",value:0},{type:"1f",name:"u137",value:0},{type:"1f",name:"u68",value:1},{type:"1f",name:"u65",value:0},{type:"1f",name:"u75",value:1}],N={m:function(z,C){a.gg=z;ha.wg();Sc.Oe();uc.Oe(z.be);n=z.Re;x=z.Ao;p=z.Kf;t=z.ae;var T=[{type:"1f",name:"u68",value:n},{type:"1f",name:"u65",value:p},{type:"1f",name:"u69",value:z.on},{type:"mat4",name:"u64",value:z.Vm},{type:"2f",name:"u39",value:z.Cj}];z.vg=T;var la=[{type:"3f",name:"u70",
value:[0,0,0]},{type:"3f",name:"u71",value:z.Dg},{type:"3f",name:"u72",value:z.Cg},{type:"1f",name:"u73",value:0},{type:"1f",name:"u74",value:z.be},{type:"1f",name:"u75",value:1}];z.sj=la;N.Zl(z,C);e||void 0!==z.Fa||(z.Fa=[0,0,120]);B=J=I.cf;if(!e&&J){C=1*ha.Mb();var pa=1*ha.Lb(),qa={isLinear:!0,isPot:!1,width:C,height:pa};q=Z.instance(qa);m=Z.instance(qa);F=1/C;O=1/pa}T=[{type:"1i",name:"u38",value:1},{type:"3f",name:"u66",value:z.Fa},{type:"1f",name:"u132",value:z.za},{type:"1f",name:"u133",value:z.ra}].concat(T,
la);v=z.oa;la=[{type:"1f",name:"u136",value:v[0]},{type:"1f",name:"u137",value:v[1]}];ha.Z()?(C=[{type:"1i",name:"u1",value:0}],pa=[{type:"1i",name:"u140",value:2}],E.j("s91NNGLcolor",T.concat(la)),E.j("s91NNGLtexture",[].concat(C,T,la)),E.j("s91NNGLtextureNormalMap",[].concat(C,pa,T,la)),E.j("s91NNGLtextureParamsMap",[{type:"1i",name:"u62",value:2}].concat(C,T,la)),E.j("s91NNGLtextureNormalParamsMap",[{type:"1i",name:"u62",value:3}].concat(C,pa,T,la))):(E.j("s95",T.concat(la)),E.j("s96",[{type:"1i",
name:"u1",value:0}].concat(T)),E.j("s97",T),E.j("s98",T),E.j("s99",T.concat([{type:"1i",name:"u140",value:0}])),E.j("s100",T),E.j("s101",T.concat([{type:"1i",name:"u62",value:0}])));E.j("s69",[{type:"2f",name:"u81",value:z.ng}]);E.j(U.ba?"s81":"s82",[{type:"1f",name:"u103",value:z.oe},{type:"3f",name:"u104",value:z.Tf},{type:"1f",name:"u105",value:z.Ce},{type:"1f",name:"u106",value:1},{type:"3f",name:"u101",value:z.Kj}]);if(G=z.wd)y=z.zm,g=z.xd,E.j("s80",[{type:"4f",name:"u90",value:z.vd},{type:"1f",
name:"u93",value:z.Bf},{type:"2f",name:"u91",value:z.ym},{type:"1f",name:"u95",value:Math.sign(g)}]);c.forEach(function(Ja){Ja.Si(z)});e=!0},Yb:function(z){w&&La.ka.Yb(z);r&&La.ta.Yb(z)},Zl:function(z,C){void 0!==La.ka&&z.bc&&ha.Z()&&(La.ka.m(z),l=!0,C.push(function(T){La.ka.Yb(T);w=!0}));void 0!==La.ta&&z.Wc&&(La.ta.m(z),C.push(function(T){La.ta.Yb(T);r=!0}));void 0!==La.ic&&z.te&&(La.ic.m(z),h=f=!0);void 0!==La.lb&&(La.lb.m(z),K=La.lb.am({width:z.sc,height:2*z.sc,depth:1.5*z.sc,jl:-z.gf,Ua:z.ef,
Kk:z.ff}),D=!0)},Mn:function(z,C,T,la){z&&(W=z,l&&La.ka.Zb(z),r&&La.ta.Zb(z),f&&La.ic.Zb(z),c.forEach(function(pa){pa.Zb(z)}));T&&(P=T);la&&(Y=la)},wb:function(z){ha.Z()?(E.j("s91NNGLcolor",z),E.j("s91NNGLtexture",z),E.j("s91NNGLtextureNormalMap",z),E.j("s91NNGLtextureParamsMap",z),E.j("s91NNGLtextureNormalParamsMap",z)):(E.j("s95",z),E.j("s96",z),E.j("s97",z),E.j("s98",z),E.j("s99",z),E.j("s100",z),E.j("s101",z))},ab:function(z,C,T){var la=[z[0]+C[0],z[1]+C[1],z[2]+C[2]];la=[la[0]+T[0],la[1]+T[1],
la[2]+T[2]];a.Ga=la;a.Gm=C;a.oo=T;N.wb([{type:"3f",name:"u130",value:la}]);ha.Z()&&(l&&La.ka.ab(z,C,T),r&&La.ta.ab(la));D&&La.lb.ab(z)},bb:function(z,C,T){var la=z*C*T;a.Hm=C;a.po=T;a.Tl=z;N.wb([{type:"1f",name:"u131",value:la}]);ha.Z()&&(l&&La.ka.bb(z*C,T),r&&La.ta.bb(la));D&&La.lb.bb(z)},Li:function(){N.ab(a.Ga,a.Gm,a.oo);N.bb(a.Tl,a.Hm,a.po);N.$i(a.Bc);N.m(a.gg);N.Xi(a.nk,a.ra)},$i:function(z){a.Bc=z;N.wb([{type:"1f",name:"u67",value:z}]);ha.Z()&&(l&&La.ka.bg(z),r&&La.ta.bg(z))},Xi:function(z,
C){a.nk=z;a.ra=C;N.wb([{type:"1f",name:"u132",value:z},{type:"1f",name:"u133",value:C}])},Fn:function(z){v=z;0===d&&N.wb([{type:"1f",name:"u136",value:v[0]},{type:"1f",name:"u137",value:v[1]}])},$a:function(z){function C(){D&&La.lb.toggle(!1);G&&E.j("s80",[{type:"1f",name:"u94",value:0}])}0>=z?(k=0,0!==d&&(d=0,uc.jn(),D&&La.lb.toggle(!0),G&&E.j("s80",[{type:"1f",name:"u94",value:1}]))):1<=z?(k=1,1!==d&&(d=1,uc.hj(!0)),C()):(k=z,2!==d&&(uc.hj(!1),d=2,C()));E.j("s82",[{type:"1f",name:"u106",value:1-
z}]);A[0].value=k;A[1].value=v[0]*(1-z)+-300*z;A[2].value=v[1]*(1-z)+-300*z;A[3].value=n*(1-z)+z*x;A[4].value=p*(1-z);A[5].value=1-z+z*t;w&&La.ka.cg(k,A);r&&La.ta.cg(k,A);N.wb(A)},fl:function(z){W.g(1);z.forEach(function(C){C.$k()});D&&K.W()},rm:function(){return 1===d},qe:function(z){W.Fb(z)},Pj:function(z){c.push(z)},lg:function(z){w=z&&l},kg:function(z){h=z&&f},Zf:function(z){r&&ha.Z()&&La.ta.Pn(z)},xb:function(z){ha.Z()&&(l&&La.ka.xb(z),r&&La.ta.xb(z))},cl:function(z,C){if(!B)return!1;q.R();z.g(0);
E.set("s73");E.S("u7",0,O);aa.l(!1,!1);m.o();q.g(0);E.S("u7",F,0);aa.l(!1,!1);E.set("s74");C.R();m.g(0);aa.l(!1,!1);return!0},gj:function(z){B=z&&J},resize:function(z,C,T){J&&(z*=T,C*=T,q.resize(z,C),m.resize(z,C),F=1/z,O=1/C)},Xf:function(z,C){var T=z.L(),la=z.T(),pa={width:T,height:la,isPot:!1};l&&(H&&H.remove(),H=Z.instance(pa));u=ra.instance({width:T,height:la});f||r?(La.ic.Yf(T,la),L&&L.remove(),L=Z.instance(pa)):L=z;l&&La.ka.Yf(T,la);C&&(fa&&fa.remove(),fa=Z.instance(pa))},Yk:function(z){var C=
null;switch(d){case 0:C=z;break;case 2:u.bind(!1,!0);fa.o();E.set("s64");E.G("u6",k);z.g(1);Y.g(0);aa.l(!0,!0);C=fa;break;case 1:C=Y}if(!w||1===d||!ha.Z())return C;C.Fb(0);h&&La.ic.W(C,L);u.bind(!1,!h);r&&(h?C.g(0):(L.o(),E.set("s1"),aa.l(!0,!0)),La.ta.W());L.g(0);P.Fb(2);La.ka.W();H.o();E.set("s1");h||r?L.g(0):C.g(0);aa.l(!0,!U.ba);La.ka.add();return H},dl:function(z,C){if(!G)return!1;E.set("s80");E.G("u92",z*g);y.g(1);mb.qe(2);L?L.g(3):C.g(3);return!0},v:function(){e=!1;k=d=0;p=x=n=-1;t=1;v=null;
D=!1;K=null;h=f=r=w=l=!1;La.ka.v();La.kb.v()}};return N}(),Ia=function(){function a(){p.forEach(function(C){C.gl(P)})}function c(){p.forEach(function(C){C.$c(P)})}function e(){p.forEach(function(C){C.el(P)})}function d(){p.forEach(function(C){C.ad(P)})}function k(){P?mb.fl(p):p.forEach(function(C){C.al()})}function n(){u&&clearTimeout(u);u=setTimeout(function(){u=F=!1},16)}function x(C){C()}var p=[],t=[],v={fa:!1,position:!1,sb:!1},D=[],K=[],l=null,w=0,r=null,f=null,h=null,J=null,B=!1,q=!1,m=!1,F=
!1,O=!1,y=!1,g=null,G=null,u=null,L=null,H=!1,P=!1,Y=!1,fa=!1,W=!1,A=!1,N=!1,z={m:function(){b.enable(b.DEPTH_TEST);b.depthFunc(b.LEQUAL);b.clearDepth(1);U.Ik?(b.enable(b.CULL_FACE),b.frontFace("CCW"===U.Jk?b.CCW:b.CW),b.cullFace(b.BACK)):b.disable(b.CULL_FACE);z.Wg();var C={isPot:!1,isLinear:!1,width:ha.Mb(),height:ha.Lb(),F:4,isFloat:!1};r=Z.instance(C);C=Object.assign({},C,{isLinear:!0,width:ha.L(),height:ha.T()});f=Z.instance(C);h=Z.instance(C);U.Oa&&(C=Object.assign({},C,{isLinear:!1}),J=Z.instance(C));
y=S.ca();U.Oa||(l=Dc.instance({Eb:U.Eb,nc:U.nc,oc:U.oc,mc:U.mc}));B=!0},Wg:function(){ha.Z()?v=Kc.instance({}):(v.fa=mc.instance({ac:U.Oa?!1:"s92",isFloat:!1,Pb:!0,clearColor:[0,0,0,0],F:4}),v.position=mc.instance({ac:U.Oa?!1:"s102",isFloat:!0,Pb:!0,clearColor:[0,0,0,0],F:4}),v.sb=mc.instance({ac:!1,isFloat:!0,Pb:!0,clearColor:[0,0,0,0],F:4}),v.xc=mc.instance({ac:!1,isFloat:!1,Pb:!0,clearColor:[0,0,0,0],F:4}))},Dl:function(){return l},sa:function(C){l=C},cq:function(){},xb:function(C){mb.xb(C)},Si:function(C){mb.m(C,
D);ha.Z()||(v.fa.aj(!1),v.position.aj("s95"));P=fa=!0},Mp:function(){mb.Li()},Io:function(C){mb.Pj(C)},un:function(C,T,la){mb.ab(C,T,la)},vn:function(C,T,la){mb.bb(C,T,la)},sn:function(C,T){mb.Xi(C,T)},tn:function(C){mb.Fn(C)},wn:function(C){mb.$i(C)},$a:function(C){mb.$a(C)},Ti:function(C,T,la,pa){mb.Mn(C,T,la,pa);T&&z.Xf(T,pa?!0:!1);Y=!0},lg:function(C){mb.lg(C)},Zf:function(C){mb.Zf(C)},kg:function(C){mb.kg(C)},gj:function(C){mb.gj(C)},Jo:function(C){H&&(W=!0,A=Z.instance({width:L.L(),height:L.T(),
isPot:!1}),N=C)},Xf:function(C,T){L="string"===typeof C?Z.instance({url:C,isFloat:!1}):C;P&&mb.Xf(L,T);H=!0},Oj:function(C){p.push(C);0!==D.length&&(D.forEach(function(T){T(C)}),D.splice(0,D.length))},fn:function(C){C=p.indexOf(C);-1!==C&&p.splice(C,1)},Ko:function(C){t.push(C)},Jp:function(C){C=t.indexOf(C);-1!==C&&t.splice(C,1)},Pd:function(C){P&&(q=C)},animate:function(C){!U.Oa||P&&Y?q&&(F||w>U.Im&&O?(g&&clearTimeout(g),++w,window.cancelAnimationFrame(z.animate),g=setTimeout(function(){window.requestAnimationFrame(z.animate)},
16)):(z.Gi(C),++w,P||q&&window.requestAnimationFrame(z.animate))):setTimeout(z.animate,100)},No:function(C){K.push(C)},Gi:function(C){if((!U.Oa||P&&Y)&&B){K.forEach(x);if(ha.Z()){if(!v.set()&&!ha.ia()){ha.bo();z.Wg();mc.Qc();E.Hn();U.Oa&&mb.Li();b.flush();window.requestAnimationFrame(z.animate);return}P||Qc.hn();k();v.I();y&&b.depthMask(!1)}else P&&mb.qe(1),v.fa.set(!0,!0,!0),c(),v.fa.I(),y&&b.depthMask(!1),v.xc.set(!1,!y,!1),e(),v.xc.I(),v.position.set(!0,!y,!1),Sb.W(),a(),v.position.I(),v.sb.set(!1,
!y,!1),d(),v.sb.I();b.disable(b.DEPTH_TEST);y||b.depthMask(!1);U.ba&&gc.W();var T=z.rh();null!==T&&(T.g(7),E.set(U.ba?"s81":"s82"),mc.pk(),r.R(),U.Ym?(b.enable(b.BLEND),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND),P||Sb.Ne(),v.position.g(0),v.sb.g(1),v.fa.g(2),l.Tc(3),v.xc.g(6),l.Uc(4),l.ah(),U.ba&&gc.g(5),aa.l(!0,!0),ra.ma(),mb.cl(r,f)||(E.set("s1"),f.R(),r.g(0),aa.l(!1,!1)),E.set("s70"),h.R(),f.g(0),aa.l(!1,!1),f.o(),h.g(0),fa&&P?
(E.set("s69"),J.g(1),mb.qe(2),aa.l(!1,!1),E.set("s1"),J.R(),f.g(0),aa.l(!1,!1)):(E.set("s68"),aa.l(!1,!1),f.g(0)),ra.$(),b.viewport(0,0,ha.L(),ha.T()),P&&mb.dl(C,T)||E.set("s1"),aa.l(!1,!1),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.flush())}},rh:function(){if(!H)return Z.Bh();if(!P)return L;if(W&&!mb.rm()){E.set(N);ra.ma();A.Gc();A.o();L.g(0);var C=A;aa.l(!0,!0)}else C=L;return mb.Yk(C)},Wn:function(){U.Ok||q||(q=!0,z.animate(Date.now()),m||Lc.Xn(),m||uc.hc(!1),G&&clearTimeout(G),U.ba&&gc.Hd(),G=setTimeout(z.Ca,
U.kk),m||ha.Wl(),m=!0)},aq:function(){q&&(O=q=!1,cancelAnimationFrame(z.animate))},Ca:function(){O||!m||F||U.Zg||(O=F=!0,G&&clearTimeout(G),u&&clearTimeout(u),Sb.Ue().Ii(),G=setTimeout(function(){ha.xg(U.Nm);U.ba&&gc.tj();w=0;n()},24))},wake:function(){O&&m&&!F&&(F=!0,O=!1,w=0,Sb.Ue().Ii(),G&&clearTimeout(G),u&&clearTimeout(u),G=setTimeout(function(){ha.xg(1);U.ba&&gc.Hd();n()},16))},wp:function(){},bp:function(){},Od:function(C){fa=C},iq:function(){E.j("s82",[{type:"1f",name:"u109",value:U.Wb},{type:"1f",
name:"u110",value:U.Dd}])},resize:function(C,T,la){r.resize(C*la,T*la);f.resize(C,T);h.resize(C,T);U.Oa&&J.resize(C,T);mb.resize(C,T,la);C=[{type:"2f",name:"u7",value:[1/C,1/T]}];E.j("s70",C);E.j("s68",C)},K:function(){g&&clearTimeout(g);G&&clearTimeout(G);u&&clearTimeout(u);p.concat(t).forEach(function(C){C.K()});p.splice(0,p.length);t.splice(0,t.length);v.fa.remove();v.sb.remove();v.xc.remove();v.position.remove();r.remove();f.remove();h.remove();J&&J.remove();F=!0},v:function(){z.K();y=O=F=m=q=
P=Y=F=!1}};return z}(),La={},ha=function(){function a(){mc.resize(e*t,d*t);r.Z()&&Kc.resize(e*t,d*t);Ia.resize(e,d,t);U.ba&&gc.resize(e*t,d*t,t);r.wg()}var c=null,e=0,d=0,k=-1,n=!1,x={Rd:!1,og:!1,qj:!1,hg:!1,drawBuffers:!1,km:!1,Uh:!1,mm:!1,vc:!1,Xa:!1},p=Object.assign({},x),t=1,v=!1,D=!1,K=!1,l=!1,w=!1,r={m:function(f){void 0!==f.onload&&f.onload&&(D=f.onload);void 0===f.expand&&(f.expand=!1);void 0===f.rd&&(f.rd=!1);void 0===f.ua&&(f.ua=!1);void 0===f.Ob&&(f.Ob=!1);void 0===f.alpha&&(f.alpha=!1);
void 0===f.preserveDrawingBuffer&&(f.preserveDrawingBuffer=!1);f.rd&&(n=!0);c=f.ua?f.ua:document.getElementById(f.Ck);f.expand&&r.expand();try{window.Fo=f.Ob?f.Ob.ol():c.getContext("webgl",{antialias:!1,alpha:f.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:f.preserveDrawingBuffer});l=f.Ob?f.Ob.ia():!1;K=!l;8>b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)&&r.Xc("too few texture image units");if(!S.m())return r.Xc("invalid config");U.lo&&(p.og=b.getExtension("EXT_texture_filter_anisotropic"),
p.og&&(p.Uh=!0));U.mo&&(p.Rd=b.getExtension("WEBGL_compressed_texture_s3tc"),p.Rd&&void 0!==p.Rd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&p.Rd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(p.km=!0));K&&(p.qj=b.getExtension("OES_element_index_uint")||b.getExtension("MOZ_OES_element_index_uint")||b.getExtension("WEBKIT_OES_element_index_uint"),p.qj&&(p.mm=!0));!l&&U.no&&(p.hg=b.getExtension("EXT_sRGB"),p.hg&&(p.vc=!0));K?(p.drawBuffers=b.getExtension("WEBGL_draw_buffers"),p.drawBuffers&&!U.Yg&&(p.Xa=!0)):p.Xa=4<=b.getParameter(b.MAX_DRAW_BUFFERS);
if(p.Xa){var h=r.Rk();p.Xa=p.Xa&&h}}catch(J){return r.Xc(J)}if(null===b||!b)return r.Xc("NO_GL");f.expand&&window.addEventListener("resize",r.expand,!1);c.addEventListener("contextmenu",function(J){J.preventDefault();return!1},!1);e=c.width;d=c.height;r.lf();return!0},lf:function(){k=n?3:2;S.ca()||(k=Math.min(k,1));S.yk()||(k=Math.min(k,0));Sc.m();mc.m();for(var f in La)La[f].Ac();E.m();Sb.m();uc.m();Ia.m();Lc.m();U.ba&&gc.m();"undefined"!==typeof FPSCounter&&FPSCounter.m();r.wg();r.Tk();v=!0;D&&
D();return!0},Tk:function(){if(p.Xa){var f=Kc.instance({width:256,height:1});f.bind();b.viewport(0,0,256,1);E.set("s90");E.va("color",[1,0,0,1]);aa.l(!0,!0);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT||b.DEPTH_BUFFER_BIT);ra.$();E.set("s1");f.sb.g(0);aa.l(!1,!1);f=new Uint8Array(1024);b.readPixels(0,0,256,1,b.RGBA,b.UNSIGNED_BYTE,f);w=1>=f[1020]}},Rk:function(){var f=Kc.instance({width:1,height:1});if(!f.set())return f.remove(),!1;E.Kn(b);aa.Jb(b);b.bindFramebuffer(b.FRAMEBUFFER,null);E.vb(b);
f.fa.Fb(0);aa.Jb(b);var h=new Uint8Array(4);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,h);f.remove();return 3<Math.abs(h[0]-127)?!1:!0},ia:function(){return l},L:function(){return e},T:function(){return d},Mb:function(){return t*r.L()},Lb:function(){return t*r.T()},ql:function(){return e/d},U:function(){return k},pm:function(){return 3===k},Xh:function(){return w},Z:function(){return p.Xa},bo:function(){p.Xa=!1},Bp:function(){return!1},Ak:function(){return 0<r.U()},To:function(){return r.Z()&&0<
r.U()},Te:function(f){var h=b,J="";l||(h=p.drawBuffers,J="_WEBGL");return[h["COLOR_ATTACHMENT0"+J],h["COLOR_ATTACHMENT1"+J],h["COLOR_ATTACHMENT2"+J],h["COLOR_ATTACHMENT3"+J]].splice(0,f)},gd:function(f){return r.Te(4)[f]},Pl:function(){return l?b.SRGB?b.SRGB:b.RGBA:p.vc?p.hg.SRGB_ALPHA_EXT:b.RGBA},nm:function(){return p.Uh},wl:function(){return p.og},Cm:function(f){r.ia()?b.drawBuffers(r.Te(f)):p.drawBuffers.drawBuffersWEBGL(r.Te(f))},expand:function(){Ia.wake();r.resize(window.innerWidth,window.innerHeight);
Ia.Ca()},resize:function(f,h){!c||f===e&&h===d||(e=f,d=h,c.width=e,c.height=d,v&&(Sb.resize(),a()))},wg:function(){var f=[{type:"2f",name:"u7",value:[1/ha.Mb(),1/ha.Lb()]}];E.j("s70",f);E.j("s68",f)},xg:function(f){t=f;a()},Ja:function(f,h){c.addEventListener(f,h,!1)},Xc:function(){k=-1;return!1},Rg:function(){return 0<=k},Ep:function(){},Np:function(){},$p:function(){var f=document.getElementById("loading");f&&(f.style.display="block")},Wl:function(){var f=document.getElementById("loading");f&&(f.style.display=
"none")},K:function(){r.Rg()&&(Z.rj(),Ia.K(),aa.K(),mc.K(),U.ba&&gc.K(),Dc.K(),Lc.K(),E.K(),Z.K(),b.flush(),b=null)},v:function(){Ia.v();mb.v();E.v();Object.assign(p,x);v=!1}};return r}(),Sb=function(){var a=!1,c=!1,e=[];return{m:function(){},instance:function(d){void 0===d.Ji&&(d.Ji=!0);void 0===d.ee&&(d.ee=.1);void 0===d.de&&(d.de=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Kb&&(d.Kb=45);var k=new Xb,n=new Ta(50,-50,-400),x=null;k.setPosition(n);var p=new Int8Array(20),t=new Int8Array(20),
v=0,D=0,K=0,l=0,w={W:function(){t[E.hd()]||(E.Ec("u111",k.elements),t[E.hd()]=1);p[E.hd()]||(E.Ec("u123",x),p[E.hd()]=1)},Me:function(){D||(E.Ec("u111",k.elements),D=1);v||(E.S("u112",x[0],x[5]),v=1)},Ne:function(){K||(E.dg("u101",n.x,n.y,n.z),K=1)},Hb:function(){l||(E.dg("u141",n.x,n.y,n.z),l=1)},Tg:function(){var r=d.ee,f=d.de,h=Math.tan(.5*d.Kb*Math.PI/180);x=[.5/h,0,0,0,0,.5*ha.ql()/h,0,0,0,0,-(f+r)/(f-r),-1,0,0,-2*f*r/(f-r),0];for(r=0;20>r;++r)p[r]=0;v=0},Gn:function(r,f){n.Qi(f[0]).Ri(f[1]).z=
f[2];k.elements.set(r);for(r=0;20>r;++r)t[r]=0;l=K=D=0},Ii:function(){for(var r=l=K=0;20>r;++r)t[r]=0}};w.Tg();a=w;c=!0;d.Ji&&e.push(w);return w},W:function(){c&&a.W()},Me:function(){c&&a.Me()},Ne:function(){c&&a.Ne()},Hb:function(){c&&a.Hb()},resize:function(){e.forEach(function(d){d.Tg()})},Ue:function(){return a}}}(),mc=function(){var a=[],c=null;return{m:function(){c=ra.instance({width:ha.Mb(),height:ha.Lb(),tc:!ha.Z()})},instance:function(e){void 0===e.width&&(e.width=ha.Mb());void 0===e.height&&
(e.height=ha.Lb());void 0===e.isFloat&&(e.isFloat=!1);void 0===e.Pb&&(e.Pb=!1);void 0===e.clearColor&&(e.clearColor=[0,0,0,0]);void 0===e.F&&(e.F=4);var d=Z.instance({isFloat:e.isFloat&&S.ca(),P:e.isFloat,width:e.width,height:e.height,isPot:!1,isLinear:!1,F:e.F}),k=void 0!==e.ac&&e.ac?!0:!1,n=e.ac,x={set:function(p,t,v){v&&c.bind(!1,v);d.o();p&&(b.clearColor(e.clearColor[0],e.clearColor[1],e.clearColor[2],e.clearColor[3]),c.ye());t&&c.Sg();k&&E.set(n)},aj:function(p){k=(n=p)?!0:!1},I:function(){d.Ud()},
g:function(p){d.g(p)},resize:function(p,t){d.resize(p,t)},debug:function(){d.debug()},remove:function(){d.remove()}};e.Pb&&a.push(x);return x},resize:function(e,d){c.resize(e,d);a.forEach(function(k){k.resize(e,d)})},pk:function(){c.Lg()},Qc:function(){c.Qc()},Gc:function(){c.Gc()},Wo:function(){c.Sg()},Vo:function(){c.ye()},Uo:function(){c.clear()},K:function(){c.remove()}}}(),Kc=function(){var a=[];return{instance:function(c){void 0===c.width&&(c.width=ha.Mb());void 0===c.height&&(c.height=ha.Lb());
var e=b.createFramebuffer(),d=c.width,k=c.height,n=!0;c={isFloat:S.ca(),P:!0,width:d,height:k,isPot:!1,isLinear:!1,F:4};var x=Z.instance(c),p=Z.instance(c),t=Z.instance(c),v=Z.instance(c),D=ra.xl(),K=ra.wh();b.bindFramebuffer(D,e);var l=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,l);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,d,k);b.framebufferRenderbuffer(D,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,l);b.clearDepth(1);b.framebufferTexture2D(D,ha.gd(0),b.TEXTURE_2D,x.get(),0);b.framebufferTexture2D(D,
ha.gd(1),b.TEXTURE_2D,p.get(),0);b.framebufferTexture2D(D,ha.gd(2),b.TEXTURE_2D,v.get(),0);b.framebufferTexture2D(D,ha.gd(3),b.TEXTURE_2D,t.get(),0);ha.Cm(4);b.bindFramebuffer(D,null);ra.reset();var w={position:x,sb:p,xc:t,fa:v,bind:function(){b.bindFramebuffer(D,e);ra.reset()},set:function(){b.checkFramebufferStatus(K);b.bindFramebuffer(D,e);ra.reset();if(n){if(b.checkFramebufferStatus(K)!==b.FRAMEBUFFER_COMPLETE)return!1;n=!1}b.viewport(0,0,d,k);b.clearColor(0,0,0,0);E.Tb()&&!ha.Xh()&&(E.set("s89"),
aa.l(!1,!1));b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);return!0},I:function(){},resize:function(r,f){d=r;k=f;x.resize(r,f);p.resize(r,f);v.resize(r,f);t.resize(r,f);b.bindRenderbuffer(b.RENDERBUFFER,l);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,d,k);b.bindRenderbuffer(b.RENDERBUFFER,null)},remove:function(){x.remove();p.remove();v.remove();t.remove();b.deleteRenderbuffer(l);b.deleteFramebuffer(e);var r=a.indexOf(w);-1!==r&&a.splice(r,1)}};a.push(w);return w},resize:function(c,e){a.forEach(function(d){d.resize(c,
e)})}}}(),Dc=function(){var a=[],c=U.Kg;return{instance:function(e){function d(){t?k():(h=md.instance({ja:K,jm:c}),p=U.lk[ha.U()],l=Z.instance({isFloat:S.ca(),P:!0,isPot:!0,isLinear:!1,rb:!0,width:p,height:p/2,F:3}),w=Z.instance({isFloat:S.ca(),P:!0,isPot:!0,isLinear:!1,rb:!0,width:p,height:p/2,F:3}),r=Z.instance({isFloat:S.ca(),P:!0,isPot:!0,width:1,height:p/2,F:3}),f=Z.instance({isFloat:S.ca()&&!c,P:!c,isPot:!1,isLinear:!0,rb:!0,isMipmap:!1,width:p,height:p/2,F:c?4:3}),t=!0,k(),B.forEach(function(q){q()}),
B.splice(0,B.length))}function k(){if(t){ra.ma();h.dn();l.R();E.set("s72");K.g(0);E.G("u79",U.Wb);Z.tk(1);aa.l(!0,!0);for(var q=U.bm[ha.U()],m=0;m<q;++m)w.o(),E.set("s75"),E.S("u7",1/p,0),l.g(0),aa.l(!1,!1),l.o(),E.S("u7",0,2/p),w.g(0),aa.l(!1,!1);r.R();E.set("s77");l.g(0);aa.l(!1,!1);E.set(c?"s79":"s78");f.R();l.g(0);r.g(1);aa.l(!1,!1);Z.$(0);Z.$(1)}}var n=Object.assign({Eb:null,nc:null,mc:0,oc:0},e),x=0,p=0,t=!1,v=null,D=null,K=null,l=null,w=null,r=null,f=null,h=null,J=0,B=[];e={m:function(){function q(){2===
++m&&(K=Z.instance({isFloat:S.ca(),P:!0,isPot:!1,isMipmap:!1,isLinear:!1,rb:!0,width:x,height:x/2,F:3}),ra.ma(),K.R(),E.set("s71"),E.G("u84",n.oc),E.G("u85",n.mc),v.g(0),D.g(1),aa.l(!0,!0),d())}var m=0;x=U.mk[ha.U()];J=Math.log2(x)-1;n.Eb&&(v=Z.instance({isPot:!1,url:n.Eb,O:q,F:3,isFlipY:!1}),D=Z.instance({isPot:!1,url:n.nc,O:q,F:3,isFlipY:!1}))},Yi:function(q){K=q;d()},Tc:function(q){t&&(h.g(q),E.G("u102",h.L()))},Uc:function(q){t&&f.g(q)},ah:function(){E.G("u21",J)},sh:function(){return J},L:function(){return x},
Gb:function(q){t?q():B.push(q)},K:function(){v&&v.remove();D&&D.remove();l.remove();r.remove();w.remove();h.remove();f.remove();K.remove()}};a.push(e);e.m();return e},K:function(){a.forEach(function(e){e.K()})}}}(),kd={instance:function(a){var c=a.vm,e=a.tm,d=0,k=c.L();a=U.Kg;var n=Z.instance({isFloat:S.ca()&&!a,P:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:k,F:a?4:3,isFlipY:!1}),x=Z.instance({isFloat:S.ca()&&!a,P:!a,isPot:!1,isLinear:!0,rb:!0,isMipmap:!1,width:k,height:k/2,F:a?4:3}),p=ra.instance({width:k,
height:k}),t=a?"s65":"s64";return{Ln:function(v){d=v;E.set(t);b.viewport(0,0,k,k);p.o();n.o();E.G("u6",d);c.Tc(1);e.Tc(0);aa.l(!0,!0);b.viewport(0,0,k,k/2);x.o();c.Uc(1);e.Uc(0);aa.l(!1,!1);b.flush()},Tc:function(v){n.g(v)},Uc:function(v){x.g(v)},ah:function(){E.G("u21",c.sh()*(1-d)+e.sh()*d)}}}},uc=function(){function a(L){var H=(F-U.we)/(U.Og-U.we);H=1-Math.pow(1-H,U.Do);F+=L*(1+H*U.Eo);F=Math.min(Math.max(F,U.we),U.Og);u.hc()}function c(L){-1!==p&&(J=h=0,x(),a(U.Co*L.deltaY/window.innerHeight),
L.preventDefault())}function e(){q+=h;m+=J;m=Math.min(Math.max(m,U.Rm),U.Qm);u.hc()}function d(L){if(0===p||-1===p)return!1;var H=void 0!==L.touches&&L.touches.length;L.preventDefault();if(2===p){var P=qc(L.touches[0].pageX,L.touches[0].pageY,L.touches[1].pageX,L.touches[1].pageY);a(-(r-P)*U.Sm);r=P}else P=H?L.touches[0].clientX:L.clientX,L=H?L.touches[0].clientY:L.clientY,h=2*(P-l)*Math.PI/ha.L(),J=2*(L-w)*Math.PI/ha.T(),4===p?(G[0]+=h*U.vi,G[1]-=J*U.vi,G[0]=Math.min(Math.max(G[0],-U.yi),U.yi),G[1]=
Math.min(Math.max(G[1],-U.zi),U.zi),u.hc()):e(),l=P,w=L}function k(){0!==p&&-1!==p&&(0===h&&0===J||1!==p||!y?Ia.Ca():(x(),f=Date.now(),O=setInterval(u.sm,B)),p=0)}function n(L){if(2!==p&&-1!==p){J=h=0;x();Ia.wake();var H=void 0!==L.changedTouches&&L.touches.length;L.preventDefault();H&&2===L.touches.length?(p=2,r=qc(L.touches[0].pageX,L.touches[0].pageY,L.touches[1].pageX,L.touches[1].pageY)):(p=H||2!==L.button?1:4,l=H?L.touches[0].clientX:L.clientX,w=H?L.touches[0].clientY:L.clientY);return!1}}function x(){O&&
(clearInterval(O),O=!1)}var p=0,t=!1,v=!1,D=!1,K=1,l=0,w=0,r=0,f=0,h=0,J=0,B=16,q=U.lj,m=U.xi,F=U.ve,O=!1,y=0,g=new Float32Array([0,0,0,0,0]),G=[U.wk,U.xk],u={m:function(){y=U.Qj[ha.U()];B=U.il[ha.U()];ha.Ja("mousedown",n);ha.Ja("mouseup",k);ha.Ja("mouseout",k);ha.Ja("mousemove",d);ha.Ja("mousemove",d);ha.Ja("wheel",c);ha.Ja("touchstart",n);ha.Ja("touchend",k);ha.Ja("touchmove",d)},hc:function(L){t?(v[0]=-m,v[1]=q,D[1].value=K/U.ve*F,mb.wb(D)):(g[0]=q,g[1]=m,g[2]=F,g[3]=G[0],g[4]=G[1],Lc.pn(g,L))},
sm:function(){if(1E-4>h&&1E-4>J||-1===p)x(),J=h=0,0===p&&Ia.Ca();var L=Date.now(),H=L-f;f=L;L=Math.pow(y,H/B);h*=L;J*=L;e()},Oe:function(L){t||(t=!0,p=-1,v=[0,0,0],D=[{name:"u70",type:"3f",value:v},{name:"u74",type:"1f",value:1}],K=L)},hj:function(L){-1===p&&L&&(p=0);L||(p=-1)},jn:function(){J=h=0;q=U.lj;m=U.xi;F=U.ve;u.hc()},Sp:function(L){F=L},Tp:function(L){G[0]=L[0];G[1]=L[1];U.Pg=L[2]},Rp:function(L,H){q=L;m=H}};return u}(),Qc=function(){var a={s91:!1,s91color:!1,s91NormalMap:!1,s91ParamsMap:!1,
s91NormalParamsMap:!1};return{instance:function(c){function e(N){if(A){N.tweaker&&JEELIZVTO&&"undefined"!==typeof V&&V.Jg(N.tweaker);g.splice(0,g.length);g.push({n:0,offset:0});F.min.set(Infinity,Infinity,Infinity);F.max.set(-Infinity,-Infinity,-Infinity);var z=N.uvs;z&&(z=z.filter(function(ma){return ma}));fa=z&&0<z.length&&0<z[0].length?!0:!1;"undefined"!==typeof Da&&"string"===typeof N.faces&&(N.faces=Da(N.faces));"undefined"!==typeof Xa&&("string"===typeof N.vertices&&(N.vertices=Xa(N.vertices)),
z&&z.length&&z.forEach(function(ma,Ka){"string"===typeof ma&&(z[Ka]=Xa(ma))}));var C=N.metadata.faces,T=1+(fa?1:0);C=(N.faces.length-C)/(N.metadata.faces*T);6!==C&&8!==C||fa||(++T,C/=2);if(4===C){C=6*T+2;for(var la=4*T+1,pa=Array(N.metadata.faces*C),qa=0;qa<N.metadata.faces;++qa)for(var Ja=0;Ja<T;++Ja)pa[qa*C+4*Ja]=N.faces[qa*la+5*Ja],pa[qa*C+4*Ja+1]=N.faces[qa*la+5*Ja+1],pa[qa*C+4*Ja+2]=N.faces[qa*la+5*Ja+2],0===Ja&&(pa[qa*C+3]=N.faces[qa*la+4]),pa[qa*C+4*Ja+3*T+1]=N.faces[qa*la+5*Ja],pa[qa*C+4*
Ja+3*T+2]=N.faces[qa*la+5*Ja+2],pa[qa*C+4*Ja+3*T+3]=N.faces[qa*la+5*Ja+3],0===Ja&&(pa[qa*C+3*T+4]=N.faces[qa*la+4]);N.faces=pa;N.metadata.faces*=2}l=Array(N.metadata.vertices);for(C=0;C<N.metadata.vertices;++C)l[C]=new Ta(N.vertices[3*C],N.vertices[3*C+1],N.vertices[3*C+2]),pc(F,l[C]);w=Array(N.metadata.faces);T=3*T+1;for(C=0;C<N.metadata.faces;++C)w[C]=new ac(N.faces[T*C],N.faces[T*C+1],N.faces[T*C+2]),w[C].Vb=N.faces[T*C+3];u=3<l.length;A&&(A.visible=u);zc(l,w);r=kc(l,w);if(fa){T=Array(l.length);
C=["a","b","c"];for(la=0;la<N.metadata.faces;++la)for(pa=0;3>pa;++pa)if(qa=N.faces[7*la+pa],Ja=N.faces[7*la+1+pa+3],"undefined"===typeof T[qa])T[qa]=[[qa,Ja]];else if(T[qa][0][1]!==Ja){for(var qb=-1,bb=1;bb<T[qa].length;++bb)if(T[qa][bb][1]===Ja){qb=T[qa][bb][0];break}bb=-1;-1===qb?(bb=l.length,l.push(l[qa].clone()),r.push(r[qa].clone()),T[qa].push([bb,Ja]),T[bb]=[[bb,Ja]]):bb=qb;N.faces[7*la+pa]=bb;w[la][C[pa]]=bb}f=Array(l.length);for(N=0;N<l.length;++N)C="undefined"===typeof T[N]?N:T[N][0][1],
f[N]=new zb(z[0][2*C],z[0][2*C+1])}var za=$b(F);c.Cb&&(l.forEach(function(ma){ma.x-=za.x;ma.z-=za.z;ma.y-=F.min.y}),F.min.x-=za.x,F.max.x-=za.x,F.min.z-=za.z,F.max.z-=za.z,F.max.y-=F.min.y,F.min.y=0);if(c.Db){var wa=U.jk/Math.max(F.max.x-F.min.x,F.max.y-F.min.y,F.max.z-F.min.z);l.forEach(function(ma){ma.Ea(wa)});F.min.Ea(wa);F.max.Ea(wa)}N=fa?8:6;T=new Float32Array(l.length*N);for(C=0;C<l.length;++C)T[N*C]=l[C].x,T[N*C+1]=l[C].y,T[N*C+2]=l[C].z,T[N*C+3]=r[C].x,T[N*C+4]=r[C].y,T[N*C+5]=r[C].z,fa&&
(T[N*C+6]=f[C].x,T[N*C+7]=f[C].y);w.sort(function(ma,Ka){return ma.Vb-Ka.Vb});var Wa=new (65536>3*w.length?Uint16Array:Uint32Array)(3*w.length),ba=0;w.forEach(function(ma,Ka){ma.Vb===ba?g[ba].n+=3:(g.push({n:3,offset:3*Ka}),++ba);Wa[3*Ka]=ma.a;Wa[3*Ka+1]=ma.b;Wa[3*Ka+2]=ma.c});h&&h.remove();h=aa.instance({ga_:T,V:Wa});q=B=!1;Y&&A.Ug();L=!0;A.Le();c.O&&(c.O(A),c.O=null)}}function d(N){h.Ka(N.n,N.offset)}function k(N,z){P[z]&&(E.set(P[z].Kl()),h.bind(!1),fa?(E.Ra(),E.Vi()):(E.Za(),E.Wi()),P[z].wc()&&
(E.Dc(),B.pc(!1),E.Gd(),Sb.Hb()),P[z].Wk(),P[z].ad(),h.Ka(N.n,N.offset))}function n(N,z){P[z]&&(E.set(P[z].Ll()),h.bind(!1),fa?(E.Ra(),E.Vi()):(E.Za(),E.Wi()),P[z].wc()&&(E.Dc(),B.pc(!1),E.Gd(),Sb.Hb()),A.rc(),P[z].ad(),h.Ka(N.n,N.offset))}function x(N,z){W&&P[z]&&(P[z].Xk(),h.Ka(N.n,N.offset))}function p(N,z){W&&P[z]&&(P[z].Zk(fa),h.Ka(N.n,N.offset))}function t(N,z){P[z]&&(E.set(P[z].Gl()),P[z].gh(),h.Ka(N.n,N.offset))}function v(N,z){P[z]&&(E.set(P[z].Hl()),A.rc(),P[z].gh(),h.Ka(N.n,N.offset))}
function D(N,z){P[z]&&(E.set(P[z].Il()),P[z].wc()&&(B.pc(!1),E.Gd(),Sb.Hb()),h.bind(!1),P[z].dh(fa),h.Ka(N.n,N.offset))}function K(N,z){if(P[z]){var C=P[z].Jl();E.set(C);P[z].wc()&&(B.pc(!1),E.Gd(),Sb.Hb(),h.bind(!1));a[C]||(A.rc(),h.bind(!1),a[C]=!0);P[z].dh(fa);h.Ka(N.n,N.offset)}}if(!ha.Rg())return!1;void 0===c.Cb&&(c.Cb=!1);void 0===c.Db&&(c.Db=!1);void 0===c.Ng&&(c.Ng=!1);var l=null,w=null,r=null,f=null,h=null,J=null,B=null,q=!1,m=new Xb,F=new Wb,O=[],y=null,g=[{n:0,offset:0}],G=[],u=!1,L=!1,
H=[],P=[],Y=!1,fa=!1,W=!1,A={visible:u,Gk:function(){return g.length},Ug:function(){!q&&fa&&(w=w.filter(function(N){return null!==N}),J=sc(l,r,f,w),B=aa.instance({ga_:J,V:!1}),f=r=w=l=J=null,q=!0)},rc:function(){Sb.W();A.fh()},fh:function(){E.Ec("u124",m.elements)},cp:function(){u&&(A.fh(),h.bind(!1),fa?E.Ra():E.Za(),h.W())},gl:function(N){u&&(N||A.rc(),h.bind(!1),fa?E.Ra():E.Za(),h.W())},hl:function(){u&&(h.bind(!1),fa?E.Ra():E.Za(),g.forEach(x))},bh:function(){u&&(h.bind(!1),fa?E.Ra():E.Za(),G.forEach(d))},
el:function(N){W&&u&&(h.bind(!1),fa?E.Ra():E.Za(),N?g.forEach(t):g.forEach(v))},$c:function(N){u&&(N||A.rc(),h.bind(!1),N||(E.Ra(),E.Dc()),W&&g.forEach(p))},ad:function(N){W&&u&&(N?g.forEach(k):g.forEach(n))},al:function(){W&&u&&g.forEach(K)},$k:function(){W&&u&&g.forEach(D)},Ah:function(){return y},yh:function(){return H},jo:function(N,z){P[N].update(z);A.vj()},$f:function(N,z){function C(pa,qa){pa&&(pa.O=function(){A&&++la===T&&(W=!0,Y&&A.Gb(A.Ug,5),A.Le(),z&&A.Gb(function(){z(A)},10))},pa=Sc.instance(pa),
P[qa]&&P[qa].K(),P[qa]=pa,Y=Y||pa.wc())}H=N;W=!1;var T=N.length,la=0;P=Array(T);Y=!1;N.forEach(function(pa,qa){"string"===typeof pa?fc(-1===pa.indexOf(".json")?pa+".json":pa,function(Ja){Ja.name=pa;C(Ja,qa,pa)}):C(pa,qa,!1)});A.Gb(function(){A.vj();Ia.xb(A);Ia.Pd(!0)},4)},vj:function(){G.splice(0,G.length);g.forEach(function(N,z){P[z]&&P[z].qm()&&G.push(N)})},Gb:function(N,z){L&&W?N(A):O.push({pb:N,order:z?z:0})},Le:function(){L&&W&&(O.sort(function(N,z){return 0>N.order-z.order?1:-1}),O.forEach(function(N){N.pb(A)}),
O.splice(0,O.length))},remove:function(){A.K();A=null},K:function(){u=L=!1;h&&h.remove();P.forEach(function(N){N.K()});q&&B.remove()},Nl:function(){return F.size().x},Ol:function(){return F.size().y},up:function(){return F.size().z},sl:function(){return $b(F).x},tl:function(){return $b(F).y},kp:function(){return $b(F).z},qp:function(){return F.min.y},replace:function(N,z,C){if(N===y)return z&&A&&(A.Le(),z(A)),!1;y=N;Ia.Pd(!1);fc(N,function(T){e(T);z&&z(A)},C);return!0}};c.yc&&A.$f(c.yc,c.Ng);y=c.url;
fc(c.url,e);return A},hn:function(){a.s91=!1;a.s91color=!1;a.s91NormalMap=!1;a.s91ParamsMap=!1;a.s91NormalParamsMap=!1}}}(),Lc=function(){var a=null,c=!1,e=!1,d=null,k=new Float32Array(16),n=new Float32Array(3),x={data:0},p={m:function(){a=U.Ib?new Worker("js/worker.php"):{postMessage:function(t){x.data=t;Tc.Lm(x)},terminate:function(){}};a.onmessage=function(t){switch(t.data[0]){case 3:for(var v=0;16>v;++v)k[v]=t.data[v+1];for(v=0;3>v;++v)n[v]=t.data[v+17];Sb.Ue().Gn(k,n);break;case 6:p.Bn(),c=!0,
uc.hc(!1),U.ba&&(gc.enable(),gc.Hd())}};d=new Float32Array(6);d[0]=2;U.Ib||Tc.Cn(a)},Xn:function(){U.$g||(e=!0)},bq:function(){e=!1},pn:function(t,v){if(v||c&&e)d[1]=t[0],d[2]=t[1],d[3]=t[2],d[4]=t[3],d[5]=t[4],a.postMessage(d)},Bn:function(){a.postMessage([5,U.Pg])},K:function(){U.Ib&&a.terminate()}};return p}(),Tc=function(){var a=0,c=0,e=0,d=[0,0],k=new Xb,n=new ib,x=new ib,p=new Ta,t=new Ta,v=new vb,D=0,K=new Float32Array(20);K[0]=3;var l=!1,w={data:!1},r={m:function(){"undefined"===typeof U&&
(self.Go={Ib:!0});U.Ib&&r.Qf([6])},Lm:function(f){switch(f.data[0]){case 2:r.ag(f.data);break;case 5:D=f.data[1]}},Qf:function(f){U.Ib?postMessage(f):(w.data=f,l.onmessage(w))},ag:function(f){a=f[1];c=f[2];e=f[3];d[0]=f[4];d[1]=f[5];p.set(d[0],d[1],-e);v.set(c,a,0,"XYZ");if(!1===v instanceof vb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");f=Math.cos(v.B/2);var h=Math.cos(v.C/2),J=Math.cos(v.D/2),B=Math.sin(v.B/2),q=Math.sin(v.C/2),
m=Math.sin(v.D/2),F=v.order;"XYZ"===F?(n.B=B*h*J+f*q*m,n.C=f*q*J-B*h*m,n.D=f*h*m+B*q*J,n.M=f*h*J-B*q*m):"YXZ"===F?(n.B=B*h*J+f*q*m,n.C=f*q*J-B*h*m,n.D=f*h*m-B*q*J,n.M=f*h*J+B*q*m):"ZXY"===F?(n.B=B*h*J-f*q*m,n.C=f*q*J+B*h*m,n.D=f*h*m+B*q*J,n.M=f*h*J-B*q*m):"ZYX"===F?(n.B=B*h*J-f*q*m,n.C=f*q*J+B*h*m,n.D=f*h*m-B*q*J,n.M=f*h*J+B*q*m):"YZX"===F?(n.B=B*h*J+f*q*m,n.C=f*q*J+B*h*m,n.D=f*h*m-B*q*J,n.M=f*h*J-B*q*m):"XZY"===F&&(n.B=B*h*J-f*q*m,n.C=f*q*J-B*h*m,n.D=f*h*m+B*q*J,n.M=f*h*J+B*q*m);p.y-=D;f=k.elements;
m=n.x;var O=n.y,y=n.z;B=n.w;var g=m+m,G=O+O;q=y+y;h=m*g;J=m*G;m*=q;F=O*G;O*=q;y*=q;g*=B;G*=B;B*=q;f[0]=1-(F+y);f[4]=J-B;f[8]=m+G;f[1]=J+B;f[5]=1-(h+y);f[9]=O-g;f[2]=m-G;f[6]=O+g;f[10]=1-(h+F);f[3]=0;f[7]=0;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;k.setPosition(p);x.J(n).inverse();f=t.J(p);O=f.x;g=f.y;y=f.z;h=x.x;J=x.y;B=x.z;q=x.w;m=q*O+J*y-B*g;F=q*g+B*O-h*y;G=q*y+h*g-J*O;O=-h*O-J*g-B*y;f.x=m*q+O*-h+F*-B-G*-J;f.y=F*q+O*-J+G*-h-m*-B;f.z=G*q+O*-B+m*-J-F*-h;for(f=1;17>f;++f)K[f]=k.elements[f-1];K[17]=
t.x;K[18]=t.y;K[19]=t.z;r.Qf(K)},Cn:function(f){l=f;r.Qf([6])}};return r}();Tc.m();var Sc=function(){function a(x){var p=x.split(":").shift();return"data"===p||"blob"===p?x:("undefined"!==typeof I&&I.aa?I:U).aa+U.Em+x}function c(x,p){return Math.min(p+x+p*x,1)}var e=!1,d=null,k=1,n={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],O:null};return{m:function(){d=
Z.instance({width:1,height:1,isMipmap:!1,F:4,array:new Uint8Array([255,255,255,255]),vc:!1})},Oe:function(){e=!0;k=2},instance:function(x){function p(u){function L(){++P===H&&u&&u()}var H=1,P=0;(v=w.normalTexture&&ha.Ak()?!0:!1)&&!h.Pa&&(++H,h.Pa=Z.instance({url:a(w.normalTexture),isLinear:!0,isMipmap:!0,Ph:ha.pm(),isPot:!0,F:3,O:L}));(D=w.diffuseTexture&&""!==w.diffuseTexture?!0:!1)&&!h.fa?(++H,h.fa=Z.instance({url:a(w.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Ph:!0,vc:!1,rb:!1,gm:!1,F:4,
O:L}),f="s96"):h.fa||(f="s97",h.fa=d);r=[w.diffuseColor[0]/255,w.diffuseColor[1]/255,w.diffuseColor[2]/255];(J=w.paramsTexture?!0:!1)&&!h.tb&&(w.paramsTexture===w.diffuseTexture?h.tb=h.fa:(++H,h.tb=Z.instance({url:a(w.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Ph:!0,vc:!1,rb:!1,gm:!1,F:4,O:L})));L()}function t(u){"number"===typeof w.alpha?(K[0]=w.alpha,K[1]=0,K[2]=0,K[3]=0):(K[0]=w.alpha[0],K[1]=w.alpha[1]-w.alpha[0],K[2]=w.alpha[2],K[3]=w.alpha[3]);var L=1<=w.fresnelPow?w.fresnelMin:w.fresnelMax;
l[0]=c(K[0],L);l[1]=c(K[1],L);l[2]=K[2];l[3]=K[3];B={wi:w.fresnelMax,hi:[w.fresnelMin,w.roughness,w.fresnelPow/15,w.metalness],ki:w.paramsMapMask};u=w.O?w.O.bind(null,u):null;p(u);v||J||D?v||J?v&&!J?(q="s91NormalMap",m="s91NNGLtextureNormalMap"):!v&&J?(q="s91ParamsMap",m="s91NNGLtextureParamsMap"):(q="s91NormalParamsMap",m="s91NNGLtextureNormalParamsMap"):(q="s91",m="s91NNGLtexture"):(q="s91color",m="s91NNGLcolor");F=v?"s99":"s98";O=v?"s93":"s103";y=J?"s101":"s100";g=J?"s94":"s104"}var v,D,K=[1,0,
0,0],l=[0,0,0,0],w=Object.assign({},n,x),r=null,f=null,h={fa:null,Pa:null,tb:null},J=v=D=!1,B=null,q=null,m=null,F=null,O=null,y=null,g=null,G={update:function(u){Object.assign(w,u);t()},wc:function(){return v},qm:function(){return.99>K[0]},Ll:function(){return O},Kl:function(){return F},Hl:function(){return g},Gl:function(){return y},Jl:function(){return q},Il:function(){return m},ad:function(){v&&h.Pa.g(0)},Zk:function(u){e&&E.set(f);u?E.Ra():E.Za();D&&E.Dc();G.$c()},$c:function(){D&&(E.G("u61",
w.colorTextureUsage),h.fa.g(0));E.eg("u134",r)},gh:function(){J&&(h.tb.g(0),E.va("u63",B.ki),E.Dc());E.va("u99",B.hi);E.G("u135",B.wi)},dh:function(u){J&&!v?h.tb.g(k):v&&(D||d.g(0),h.Pa.g(k),J&&h.tb.g(k+1));J&&E.va("u63",B.ki);D||v?E.yn():u?E.zn():E.An();G.$c();E.va("u6",K);E.va("u99",B.hi);E.G("u135",B.wi)},Wk:function(){E.va("u6",K)},Xk:function(){E.va("u6",l)},K:function(){D&&h.fa.remove();v&&h.Pa.remove();J&&w.paramsTexture!==w.diffuseTexture&&h.tb.remove()}};t(G);return G}}}(),gc=function(){var a=
0,c=0,e=0,d=0,k=0,n=0,x=U.hk,p=U.gk,t=U.ik,v=0,D=0,K=null,l=null,w=0,r=0,f=0,h=0,J=0,B=null,q=0,m=0,F=0,O=Date.now(),y=null,g=!1,G=!1,u=!1,L=1,H=!1,P={m:function(){a=U.ck[ha.U()];c=U.bk[ha.U()];e=U.ak[ha.U()];m=U.dk[ha.U()];d=U.Vj[ha.U()];k=U.Zj[ha.U()];f=U.$j[ha.U()];h=ha.L();J=ha.T();v=Math.round(h*a);D=Math.round(J*a);l=ra.instance({width:v,height:D,tc:!1});K=Z.instance({width:v,height:D,isPot:!1,isLinear:!0});B=Z.instance({width:v,height:D,isPot:!1,isLinear:!0,F:1});g=!0},resize:function(Y,fa,
W){L=W;h=Y;J=fa;v=Math.round(Y*a);D=Math.round(fa*a);l.resize(v,D);G=!0},W:function(){var Y=Math.exp(-(Date.now()-O)/m);q=u?F+(1-Y)*(1-F):F*Y;w=c+q*(e-c);r=d+(1-q)*(1-d);n=k+(1-q)*(1-k);Z.$(5);if(G&&g)Z.$(6),B.resize(v,D),E.set("s0"),E.Jd("u1",6),l.bind(!1,!0),B.o(),l.ye(),K.g(6),aa.l(!0,!0),K.resize(v,D),K.o(),B.g(6),aa.l(!1,!1),E.Jd("u1",0),G=!1;else{b.enable(b.BLEND);b.blendFunc(b.CONSTANT_ALPHA,b.ONE_MINUS_SRC_ALPHA);Y=w/f;b.blendColor(Y,Y,Y,Y);b.colorMask(!0,!1,!1,!0);E.set("s83");Sb.Me();E.G("u115",
w);m&&(E.G("u116",r),E.G("u108",n));var fa=L*(x+Math.pow(Math.random(),t)*(p-x));E.S("u7",fa/h,fa/J);l.Lg();l.Gc();K.o();fa=2*Math.PI*Math.random();for(var W=!0,A=0;A<f;++A)1===A&&(b.blendFunc(b.SRC_ALPHA,b.ONE),E.G("u115",Y)),E.G("u114",fa+A/f*(Math.PI/2)),E.S("u113",(Math.random()-.5)/h,(Math.random()-.5)/J),aa.l(W,W),W=!1;b.disable(b.BLEND);E.set("s84");E.S("u7",1/v,1/D);B.o();K.g(7);aa.l(!1,!1);b.colorMask(!0,!0,!0,!0)}},g:function(Y){B.g(Y)},enable:function(){H=!0},Tm:function(){if(u||!H)return!1;
y&&clearTimeout(y);P.Hd();y=setTimeout(P.tj,400)},Hd:function(){y&&(clearTimeout(y),y=!1);!u&&H&&(window.Jj.disable(),u=!0,O=Date.now(),F=q)},tj:function(){u&&H&&(y&&(clearTimeout(y),y=null),window.Jj.enable(),u=!1,O=Date.now(),F=q)},K:function(){K.remove();B.remove();l.remove()}};P.Tm();return P}(),md={instance:function(a){var c=a.ja.L(),e=a.jm?!0:!1,d=e?"s66":"s11",k=Z.instance({isFloat:a.ja.Yh()&&S.ca()&&!e,P:a.ja.Zh()&&!e,isLinear:!0,isMipmap:!1,isPot:!1,width:c,height:c,F:e?4:3}),n=Z.instance({isFloat:a.ja.Yh()&&
S.ca(),P:a.ja.Zh(),isPot:!0,width:1,height:c/2,F:3});n.o();E.set("s77");a.ja.g(0);aa.l(!0,!0);var x=Math.round(Math.log(c)/Math.log(2));k.dn=function(){k.o();E.set(d);E.G("u79",U.Wb);a.ja.g(0);n.g(1);for(var p=0,t=0;t<=x;++t){var v=Math.pow(2,x-t),D=v/2;b.viewport(0,p,c,D);E.S("u77",c/v,1);E.G("u78",Math.min(6/D,.6));p+=v/2;aa.l(0===t,0===t)}};k.gn=k.remove;k.remove=function(){k.gn();n.remove()};return k}};La.kb=function(){var a={Fd:45,Vf:1,Xb:"../../images/debug/picsou.png",Wf:.8,yf:3.14/6,zf:.314,
Af:4,wf:.5,xf:-.25,um:1,wa:256,vf:.15},c=null,e=null,d=null,k=!1,n=!1,x=-1,p=null,t=null,v=null,D=Math.PI/180,K={m:function(l){x=l.width;l={isFloat:S.ca(),P:!0,isPot:!1,isMipmap:!1,isLinear:!1,rb:!0,width:x,height:x/2,F:3};c=Z.instance(l);e=Z.instance(l);E.j("s105",[{type:"1i",name:"u142",value:0}]);E.j("s106",[{type:"1i",name:"u147",value:0}]);K.ko()},ko:function(){E.j("s106",[{type:"1f",name:"u148",value:a.yf},{type:"1f",name:"u149",value:a.zf},{type:"1f",name:"u150",value:a.Af},{type:"1f",name:"u151",
value:a.wf},{type:"1f",name:"u152",value:a.xf}])},Cp:function(){return n},sa:function(l){p=l},Ac:function(){t="uniform sampler2D u142;uniform vec2 u143,u144,u4;uniform int u145;uniform float u146,u128;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u143)/u144;float b=1.;if(u145==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u146*g,texture2D(u142,a).rgb*u128,b*g);gl_FragColor=vec4(d,1.);}";
v="uniform sampler2D u147;uniform float u148,u149,u150,u151,u152;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u147,vec2(.5,.5));float d=a.r,j=u150*a.g,k=u151*(a.b+u152),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u148-u149,u148+u149,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";E.qa("s105",{name:"_",
h:t,i:"u142 u143 u145 u144 u146 u128 u4".split(" "),precision:"highp"});E.qa("s106",{name:"_",h:v,i:"u147 u148 u149 u150 u151 u152".split(" "),precision:"highp"})},jg:function(l,w,r,f,h,J,B,q){E.S("u143",w,r);E.Jd("u145",f?1:0);E.S("u144",h,h/J);E.cj("u4",q);B&&l.g(0);aa.l(!1,!1)},Nj:function(l){b.viewport(0,0,a.wa,a.wa/2);E.set("s106");l.g(0);aa.l(!1,!1)},Ql:function(){return c},vk:function(l){K.m({width:a.wa});K.wj(l,!1,1);n=!0},uk:function(){k&&d.Rl()===a.Xb||(k=!1,d=Z.instance({url:a.Xb,isFloat:!1,
O:function(){k=!0}}))},ag:function(l){Object.assign(a,l)},wj:function(l,w,r){var f=a.wa;ra.ma();e.R();E.set("s0");c.g(0);aa.l(!0,!0);Z.$(0);c.o();E.set("s105");E.G("u146",a.vf);E.G("u128",a.um);K.jg(l,Math.PI,0,!0,90*D,l.L()/l.T(),!0,[1,1]);k&&(E.G("u128",a.Wf),b.viewport(0,0,f/2,f/2),K.jg(d,0,0,!1,2*a.Fd*D,2*a.Vf,!0,[1,1]),b.viewport(f/2,0,f/2,f/2),K.jg(d,2*Math.PI,0,!1,2*a.Fd*D,2*a.Vf,!1,[1,1]));b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE);w&&K.Nj(w);E.set("s0");b.blendColor(0,0,0,1-r);b.blendFunc(b.CONSTANT_ALPHA,
b.ONE_MINUS_CONSTANT_ALPHA);e.g(0);aa.l(!1,!1);b.disable(b.BLEND);p.Yi(c)},v:function(){d=e=c=null;n=k=!1;x=-1;p=null}};return K}();La.lb=function(){var a=!1,c=!0,e=!1,d=!1,k={Ac:function(){ha.Z()&&(E.qa("s107",{name:"_",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec2 u39;uniform vec3 u130;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u73*e;vec3 c=u73*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u67,0.,0.),u70,c);float u=mix(texture2D(u38,r).r,0.,u73);a.z+=u;mat3 v=s(a);vec3 w=mix(u130,u71,c);float x=mix(l,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u69,1.,u73);vec2 j=u68/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u73);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(D,1.));}",
h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u38","u39","u66","u130"].concat(E.Ye(),E.Ze()),H:["a0"],N:[3],ea:!0}),a=!0)},m:function(n){a&&E.j("s107",[{type:"1i",name:"u38",value:1},{type:"3f",name:"u66",value:n.Fa},{type:"1f",name:"u67",value:0},{type:"1f",name:"u75",value:1}].concat(n.vg))},bb:function(n){d=n;e&&k.Hh()},ab:function(n){e=n;d&&k.Hh()},Hh:function(){ha.Z()&&(E.j("s107",[{type:"3f",
name:"u130",value:[e[0]*d,e[1]*d,e[2]*d]}]),E.I())},am:function(n){for(var x=n.width/2,p=n.height/2,t=n.depth,v=n.jl,D=n.height/4,K=n.Kk,l=2*K+4,w=[],r=[],f=-x+n.Ua,h=-v-n.Ua,J=x-n.Ua,B=-v-n.Ua,q=0;q<l;++q){var m=0,F=0;0===q?(m=-x,F=-v-t):1<=q&&q<=1+K?(F=(q-1)/K*Math.PI/2,m=f-Math.cos(F)*n.Ua,F=h+Math.sin(F)*n.Ua):q>=2+K&&q<=2+2*K?(F=(q-2-K)/K*Math.PI/2,m=J+Math.sin(F)*n.Ua,F=B+Math.cos(F)*n.Ua):q===l-1&&(m=x,F=-v-t);w.push(m,p+D,F,m,-p+D,F);0!==q&&r.push(2*q,2*q-2,2*q-1,2*q,2*q-1,2*q+1)}return k.instance({ga_:w,
V:r})},toggle:function(n){c=n},instance:function(n){var x=aa.instance({ga_:n.ga_,V:n.V});return{W:function(){a&&c&&(E.set("s107"),x.bind(!0),x.W())}}}};return k}();La.ka=function(){var a={df:-87,Vl:[85,95],Gh:[90,90],Fh:[85,70],Vc:24,Lk:12,Mk:2,Rf:[-80,10],Eh:[40,140],pd:[1,8],Ul:80,si:[-120,-10],Km:2,Ld:[0,-15],ce:1024,hb:256,zd:4,Vn:[6,30],ri:1.2};a.Ci=a.Rf;var c=!1,e=!1,d=!1,k=null,n=null,x=null,p=null,t=null,v=null,D=!1,K=!1,l=null,w=null,r=null,f=null,h=.5,J=[{type:"1f",name:"u154",value:1}],
B=null,q=null,m=null,F=null,O=null,y={Ml:function(){return{name:"_",s:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u38;uniform vec2 u39;uniform float u131;uniform vec3 u130;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,r);vec2 f=u73*e;vec3 c=u73*q;vec2 v=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,s).rgb+vec3(u67,0.,0.),u70,c);float w=mix(texture2D(u38,t).r,0.,u73);a.z+=w;mat3 h=u(a);vec3 x=mix(u130,u71,c);float y=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u69,1.,u73);vec2 k=u68/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u73);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
h:"uniform sampler2D u161,u147;uniform vec2 u77,u162;uniform float u163,u154;varying vec2 vv0;varying float vv1;void main(){vec2 b=u162*u163+u77*vv0;vec4 a=u154*texture2D(u161,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u38 u161 u147 u39 u66 u163 u162 u131 u130 u77 u154".split(" ").concat(E.Ye()).concat(E.Ze()),H:["a0","a2","a1"],N:[3,3,2],precision:"lowp"}},Ac:function(){E.qa("s108",{name:"_",s:"attribute vec3 a0;uniform vec3 u130;uniform vec2 u155,u156;uniform float u131,u157,u158,u159;varying float vv0,vv1;void main(){vec3 a=(a0+u130)*u131;float b=atan(a.x,a.z-u157),d=2.*(a.y-u158)/(u159-u158)-1.;vv0=a0.y;float g=1.-u155.x*u155.x/(u155.y*u155.y),c=u155.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u157);vv1=smoothstep(u156.x,u156.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
h:"uniform float u160;uniform vec4 u6;varying float vv0,vv1;void main(){float a=u6.x+u6.y*smoothstep(-u6.w,-u6.z,vv0),b=min(a,1.)*u160;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u131 u130 u155 u156 u157 u158 u159 u6 u160".split(" "),H:["a0"],N:[3],precision:"highp"});E.qa("s109",y.Ml());E.qa("s110",{name:"_",h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u7),c=texture2D(u1,vv0-2.*u7),d=texture2D(u1,vv0-u7),f=texture2D(u1,vv0+u7),g=texture2D(u1,vv0+2.*u7),h=texture2D(u1,vv0+3.*u7);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u7"],precision:"lowp"});c=!0},m:function(g){if(c){if(void 0===g.bc||!g.bc)return!1;if(e)y.Ui(g);else{p=Z.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.ce,height:a.ce/4,F:4});var G=a.hb/4,u={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.hb,height:G,F:4};x=Z.instance(u);v=Z.instance(u);t=Z.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.hb,height:G*a.zd,F:4});G=.5-.5/g.cc[1];u=.5+.5/g.cc[1];for(var L=a.Lk+1,H=[],P=[],Y=new Float32Array(16*a.Vc),fa=new Uint16Array(6*
(a.Vc-1)),W=0,A=0,N=0,z=0;z<a.Vc;++z){var C=2*z/(a.Vc-1)-1;C=Math.sign(C)*Math.pow(Math.abs(C),a.Mk);C=Math.PI*(C+1)/2-Math.PI/2;var T=Math.sin(C),la=Math.cos(C),pa=Math.sin(C*a.ri),qa=Math.cos(C*a.ri),Ja=C/(Math.PI*g.cc[0])+.5,qb=a.Fh[0]*T,bb=a.Ci[0],za=a.Fh[1]*la+a.df,wa=Ja,Wa=G,ba=a.Gh[0]*T,ma=a.Ci[1],Ka=a.Gh[1]*la+a.df,gb=u,Ba=16*z;Y[Ba]=ba;Y[Ba+1]=ma;Y[Ba+2]=Ka;Y[Ba+3]=pa;Y[Ba+4]=0;Y[Ba+5]=qa;Y[Ba+6]=Ja;Y[Ba+7]=gb;Y[Ba+8]=qb;Y[Ba+9]=bb;Y[Ba+10]=za;Y[Ba+11]=pa;Y[Ba+12]=0;Y[Ba+13]=qa;Y[Ba+14]=
wa;Y[Ba+15]=Wa;0!==z&&(wa=2*z,Wa=6*(z-1),fa[Wa]=wa,fa[Wa+1]=wa-1,fa[Wa+2]=wa-2,fa[Wa+3]=wa,fa[Wa+4]=wa+1,fa[Wa+5]=wa-1);Wa=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Eh[0]*qb,-Math.PI),Math.PI))),a.Km);bb-=a.Ul*Wa;wa=a.Eh[1]*Wa;qb-=T*a.pd[0];za-=la*a.pd[1];ba-=T*a.pd[0];Ka-=la*a.pd[1];T=.001>Wa?2:L;for(la=0;la<T;++la)Wa=la/(T-1),Ja=bb*(1-Wa)+ma*Wa,gb=a.si[0],gb=Math.min(Math.max((Ja-gb)/(a.si[1]-gb),0),1),gb=gb*gb*(3-2*gb),H.push(qb*(1-Wa)+ba*Wa,Ja,(za+wa*Math.exp(400*-Math.abs(C)*Math.pow(Wa,
4)))*(1-gb)+Ka*gb,pa,0,qa,0,0);C=0===z?0:2<T&&2<A?T-1:1;for(pa=1;pa<=C;++pa)qa=T>A?T-2:0,P.push(W+pa+qa,W+pa-1,N+pa-1,N+pa-1,N+pa+(T<A?A-2:0),W+pa+qa);A=T;N=W;W+=T}F=aa.instance({ga_:new Float32Array(H),V:new Uint16Array(P)});O=aa.instance({ga_:Y,V:fa});y.Ui(g);E.j("s110",[{type:"1i",name:"u1",value:0}]);e=!0}}},Ui:function(g){h=g.Qn;f=g.Md;B=[{type:"1i",name:"u38",value:1},{type:"1i",name:"u161",value:0},{type:"1i",name:"u147",value:2},{type:"3f",name:"u66",value:[g.Fa[0],g.Fa[1]-a.Ld[0],g.Fa[2]+
a.Ld[1]]},{type:"1f",name:"u163",value:g.Rn},{type:"2f",name:"u77",value:[1,1/a.zd]},{type:"2f",name:"u162",value:[0,1/a.zd]},{type:"1f",name:"u154",value:1}].concat(g.vg,g.sj);E.j("s109",B)},Zb:function(g){k=g},Yb:function(g){q=g;q.Gb(y.qc)},$h:function(){return d&&null!==q&&null!==m},qc:function(){if(!(d||K&&D)||null===q||null===m)return!1;b.viewport(0,0,a.ce,a.ce/4);ra.ma();p.o();b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);E.j("s108",[{type:"1f",name:"u157",value:a.df},{type:"1f",name:"u158",
value:a.Rf[0]},{type:"1f",name:"u159",value:a.Rf[1]},{type:"3f",name:"u130",value:[l[0]+w[0],l[1]+w[1],l[2]+w[2]]},{type:"1f",name:"u160",value:h},{type:"2f",name:"u155",value:a.Vl},{type:"2f",name:"u156",value:a.Vn}]);q.hl();E.set("s1");var g=a.hb/4;b.viewport(0,0,a.hb,g);x.o();p.g(0);p.fd();aa.l(!0,!0);for(var G=0;G<a.zd;++G)E.set("s110"),0!==G&&b.viewport(0,0,a.hb,g),v.o(),x.g(0),E.S("u7",1/a.hb,0),aa.l(!1,!1),x.o(),v.g(0),E.S("u7",0,1/g),aa.l(!1,!1),a.Nk&&b.colorMask(0===G,1===G,2===G,!0),E.set("s1"),
t.o(),x.g(0),b.viewport(0,G*g,a.hb,g),aa.l(!1,!1),a.Nk&&b.colorMask(!0,!0,!0,!0);return d=!0},W:function(){y.$h()&&(m.bind(!1,!1),n.o(),b.clearColor(0,0,0,0),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),E.set("s109"),k.g(1),t.g(0),F.bind(!0),F.W(),O.bind(!0),O.W(),b.disable(b.DEPTH_TEST),b.depthMask(!1))},add:function(){y.$h()&&(b.enable(b.BLEND),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA),n.g(0),aa.l(!1,!1),b.disable(b.BLEND))},Yf:function(g,G){m=ra.instance({width:g,
height:G,tc:!0});n=Z.instance({width:g,height:G,isFloat:!1,isPot:!1});y.qc()},ab:function(g,G,u){g||(g=l,G=w,u=r);E.j("s109",[{type:"3f",name:"u130",value:[u[0]+f[0],u[1]+f[1]-a.Ld[0],u[2]+f[2]+a.Ld[1]]}]);l=g;w=G;r=u;K=!0;!d&&D&&y.qc();E.I()},bb:function(g,G){E.j("s108",[{type:"1f",name:"u131",value:g}]);E.j("s109",[{type:"1f",name:"u131",value:G}]);D=!0;!d&&K&&y.qc();E.I()},bg:function(g){E.j("s109",[{type:"1f",name:"u67",value:g}]);E.I()},xb:function(g){g&&(q=g);y.qc()},cg:function(g,G){J[0].value=
1-g;E.j("s109",J);E.j("s109",G)},K:function(){},v:function(){d=e=c=!1;v=t=p=x=n=k=null}};return y}();La.ta=function(){var a=!1,c=null,e=0,d=0,k=0,n=[{type:"1f",name:"u154",value:1}],x=null,p=null,t=null,v={Ac:function(){E.qa("s111",{name:"_",s:"attribute vec3 a0;uniform vec2 u164,u165;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u165)/u164;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",h:"uniform vec2 u166;uniform float u167,u168,u169;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u167,u168),a=vv0-b,c=u169*a,d=(c-a)*u166;gl_FragColor=vec4(d,0.,1.);}",
i:"u164 u165 u167 u168 u169 u166".split(" "),H:["a0"],N:[3],precision:"highp"});E.qa("s112",{name:"_",s:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u38;uniform vec3 u130;uniform vec2 u39,u164,u165;uniform float u131;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u64;uniform vec3 u66,u70,u71,u72;uniform float u65,u73,u74,u67,u68,u69,u75;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,q);vec2 f=u73*e;vec3 c=u73*p;vec2 u=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,r).rgb+vec3(u67,0.,0.),u70,c);float v=mix(texture2D(u38,s).r,0.,u73);a.z+=v;mat3 w=t(a);vec3 x=mix(u130,u71,c);float y=mix(u131,u74,u73);vec3 b=mix(u66,u72,c);b.x+=u65*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u69,1.,u73);vec2 j=u68/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u73);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u64*(vec4(u75*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u165)/u164,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
h:"uniform sampler2D u170,u171;uniform float u154;varying vec2 vv0,vv1;void main(){vec2 a=u154*texture2D(u170,vv0).rg;gl_FragColor=texture2D(u171,a+vv1);}",i:"u154 u38 u170 u171 u164 u165 u39 u66 u131 u130".split(" ").concat(E.Ye(),E.Ze()),H:["a0"],N:[3],precision:"lowp"});a=!0},m:function(D){if(a){if(void 0===D.bc||!D.Wc)return!1;p=Z.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,F:4});t=ra.instance({width:256,height:128});E.j("s112",[{type:"1i",name:"u38",value:1},{type:"1i",
name:"u170",value:2},{type:"1i",name:"u171",value:0},{type:"3f",name:"u66",value:D.Fa},{type:"1f",name:"u154",value:1}].concat(D.sj,D.vg));d=D.Fe;k=D.Ee;e=D.Ge}},Zb:function(D){c=D},Yb:function(D){x=D;x.Gb(v.Be)},Be:function(){b.viewport(0,0,256,128);t.o();p.o();var D=x.Nl(),K=x.Ol(),l=[{type:"2f",name:"u164",value:[D,K]},{type:"2f",name:"u165",value:[x.sl(),x.tl()]}];E.j("s111",l.concat([{type:"1f",name:"u167",value:d},{type:"1f",name:"u168",value:k},{type:"1f",name:"u169",value:e},{type:"2f",name:"u166",
value:[1/D,-1/K]}]));x.bh();E.j("s112",l)},W:function(){E.set("s112");c.g(1);p.g(2);x.bh()},ab:function(D){E.j("s112",[{type:"3f",name:"u130",value:D}]);E.I()},bb:function(D){E.j("s112",[{type:"1f",name:"u131",value:D}]);E.I()},bg:function(D){E.j("s112",[{type:"1f",name:"u67",value:D}]);E.I()},Pn:function(D){e=D;v.Be();E.I();Ia.animate(Date.now())},xb:function(D){D&&(x=D);v.Be()},cg:function(D,K){n.u154=1-D;E.j("s112",n);E.j("s112",K)},K:function(){}};return v}();La.ic=function(){var a=[0,-.5],c=
!1,e=!1,d=null,k=null,n=null,x=null,p=null,t=-1,v=-1;return{Ac:function(){E.qa("s113",{name:"_",s:"attribute vec2 a0;uniform sampler2D u38;uniform vec2 u39,u172;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u38,vec2(.25,.5));vec2 b=a.a*u39,c=2.*a.gb-f,d=u172+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",h:"uniform sampler2D u173;varying vec2 vv0;void main(){gl_FragColor=texture2D(u173,vv0);}",i:["u38","u173","u39","u172","u4"],precision:"lowp"});
E.qa("s114",{name:"_",h:"uniform sampler2D u2,u174,u175;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u175,vv0).rgb,c=texture2D(u174,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u175","u174"],precision:"lowp"});c=!0},m:function(D){c&&(p=Z.instance({isFloat:!1,isPot:!0,url:D.se,O:function(){e=!0}}),E.j("s113",[{type:"1i",name:"u38",value:1},{type:"1i",name:"u173",value:0},{type:"2f",name:"u39",value:D.Cj},{type:"2f",name:"u172",value:a},
{type:"1f",name:"u4",value:3.8}]),E.j("s114",[{type:"1i",name:"u174",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u175",value:2}]))},Zb:function(D){k=D},Yf:function(D,K){var l={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:D,height:K,F:4};t=2/D;v=2/K;n=Z.instance(l);x=Z.instance(l);d=ra.instance({width:D,height:K})},W:function(D,K){if(e){d.bind(!1,!0);E.set("s76");for(var l=0;2>l;++l){E.S("u7",t,0);n.o();0!==l&&x.g(0);var w=0===l&&!U.ba;aa.l(w,w);E.S("u7",0,v);x.o();n.g(0);aa.l(!1,
!1)}E.set("s113");k.g(1);p.g(0);n.o();b.clearColor(1,0,0,1);b.clear(b.COLOR_BUFFER_BIT);aa.l(!1,!1);E.set("s114");K.o();x.g(0);n.g(1);D.g(2);aa.l(!1,!1)}},K:function(){}}}();var cd=function(){var a={instance:function(c){var e=c.mi,d=c.li,k=c.De,n=c.background?c.background:Z.Bh(),x=c.Ya,p={scale:1,offsetX:0,offsetY:0},t=null;c.Ef&&(p.scale=c.Ef.scale,p.offsetY=c.Ef.offsetY);return{xh:function(){return x},rh:function(){return n},set:function(){t=Hb.El();Hb.Zi(p);Hb.Vd();Hb.Wd();Ia.Ti(k,n,!1,!1)},I:function(){Hb.Zi(t)},
Cc:function(){return{modelURL:e,materialsURLs:d,background:n.Cc(!1),De:k.Cc(!1),Ya:x.Cc(!0)}},Lo:function(v){n.g(v)}}},Jc:function(c,e,d){function k(){if(3===++t&&e){var v=a.instance({mi:c.modelURL,li:c.materialsURLs,background:n,De:x,Ya:p});e(v)}}var n=null,x=null,p=null,t=0;Z.Jc(c.background,function(v){!v&&d?d():(n=v,k())});Z.Jc(c.dataState,function(v){!v&&d?d():(x=v,k())});Z.Jc(c.light,function(v){!v&&d?d():(p=v,k())})}};return a}();return nb||JEELIZVTO}();JeefitFallback=function(){function Q(){window.CanvasListeners&&
(CanvasListeners.switch_canvas(kb),ra.add_listener=CanvasListeners.add_listener,ra.remove_listener=CanvasListeners.remove_listener,ra.animate_swipe=CanvasListeners.animate_swipe,ra.switch_modeInteractor=CanvasListeners.switch_mode,ra.get_modeInteractor=CanvasListeners.get_mode,CanvasListeners.add_listener("move",function(S,Na){Wb&&(ac+=Na[0]*ta.f,ac=Math.min(Math.max(ac,-ta.a),ta.a),jc+=Na[1]*ta.f,jc=Math.min(Math.max(jc,-ta.a),ta.a),ia())},!0).add_listener("pinch",function(S,Na){Wb&&(Mb+=Na*ta.o,
Mb=Math.min(Math.max(Mb,ta.g[0]),ta.g[1]),ia())},!0))}function ia(){if(!Wb||!Z)return!1;vb.save();vb.translate(rb.width,0);vb.scale(-1,1);vb.drawImage(rb,0,0);vb.restore();vb.save();vb.translate(kc[0],kc[1]);vb.scale(Mb,Mb);vb.drawImage(Z,0,0,Z.width,Z.height,-kc[0]+ac+sb,-kc[1]+jc+Jb,da,b);vb.restore();return!0}function Fa(S,Na){ca=S;va=Na;kb.width=ca;kb.height=va;rb.width=ca;rb.height=va}var ta={b:"https://fallback.jeeliz.com",H:"jpeg",D:800,C:800,f:.3,o:.5,g:[.5,1.5],a:40,h:500},ab=!1,Pa=!1,eb=
!1,Da=!1,Xa=!1,hb=!1,Qa=!1,Ab=null,ic=null,Tb=!1,Ub=!1,Lb=!1,Vb=!1,R=!1,X=[],ca=0,va=0,ua={},ja=!1,na=!1,Ca=0,Ua=0,rb=null,ob=null,ib=null,tb=!1,zb=!1,Ta=[],kb=null,vb=null,Wb=!1,$b=!1,pc=!1,Xb=!1,Mb=1,ac=0,jc=0,fc=null,zc=null,kc=null,sc=0,qc=0,U=0,lc=0,da=0,b=0,sb=0,Jb=0,Z=null,Zb=null,aa=null,ra={switch_toFallbackMode:function(S,Na){if(eb||hb)return!1;hb=eb=!0;if(ib)return ib.switch_deepSleep(!0),tb.style.display="none",kb.style.display="block",tb.id=zb+"_old",kb.id=zb,Q(),window.JEEFITAPI=ra,
Lb=Da=ab=hb=!1,ua={},S&&S(),!0;ib=JEEFITAPI;var lb=ib.get_size();ib.switch_deepSleep&&ib.switch_deepSleep(!0);$b=Na;ra.init({},function(){ra.set_size(lb.width,lb.height);tb=JEEFITAPI.get_cv();tb.style.display="none";tb.parentNode.insertBefore(kb,tb);kb.style.position="absolute";kb.className=tb.className;zb=tb.id;kb.id=zb;tb.id=zb+"_old";Ta=Ta.concat(ib.get_onHalfLoadCallstack());hb=!1;S&&S();Q()},function(){hb=!1;Na&&Na()});window.JEEFITAPI=ra;return!0},switch_toFullMode:function(S){if(!eb||hb||!ib||
!ib.ready)return!1;eb=!1;hb=!0;tb.style.display="block";kb.style.display="none";tb.id=zb;kb.id=zb+"_old";window.JEEFITAPI=ib;JEEFITAPI.init_listeners();ib.switch_deepSleep(!1);S&&(hb=!1,S());return!0},set_serverURL:function(S){ta.b=S},call_onDetect:function(S){ab?S():Ta.push(S)},reset_adjust:function(){Mb=1;jc=ac=0},get_cv:function(){return kb},get_displayedCv:function(){return kb},set_size:function(S,Na){Fa(S,Na);vb=kb.getContext("2d");vb.globalCompositeOperation="source-over";ob=rb.getContext("2d");
ua={}},resize:function(S,Na){function lb(){Qa&&(clearTimeout(Qa),Qa=!1);if(hb)Qa=setTimeout(lb,ta.h);else if(S!==ca||Na!==va){var Fb=CanvasListeners.get_mode();Fa(S,Na);ab&&Da&&ra.detect(Da,Xa,function(){CanvasListeners.switch_mode(Fb)})}}Qa&&(clearTimeout(Qa),Qa=!1);Qa=setTimeout(lb,ta.h)},ready:!1,isFallback:!0,init:function(S,Na){for(var lb in ta)"undefined"!==typeof S[lb]&&(ta[lb]=S[lb]);Ab=document.createElement("canvas");Ab.width=ta.D;Ab.height=ta.C;ic=Ab.getContext("2d");kb=document.createElement("canvas");
ja=document.createElement("canvas");rb=document.createElement("canvas");na=ja.getContext("2d");fc=document.createElement("canvas");zc=fc.getContext("2d");Pa=!0;Na&&Na();X.forEach(function(Fb){Fb()});X.splice(0,X.length);ra.ready=!0},onLoad:function(S){Pa?S():X.push(S)},is_viewer3D:function(){return!1},switch_viewer3D:function(S,Na){Na&&Na();return!1},switch_sleep:function(){},relieve_DOM:function(){},switch_slow:function(){},capture_image:function(S,Na){var lb=new Image;lb.src=kb.toDataURL("image/jpeg");
lb.onload=function(){Na(lb)}},load_model:function(S,Na,lb,Fb){R=lb;if(Fb in ua)Wb=!0,S=ua[Fb],Z=S.u,sc=S.F,qc=S.G,U=S.B,lc=S.A,sb=S.l,Jb=S.m,da=S.j,b=S.i,Ca=S.w,Ua=S.v,kc=S.s,ia(),lb&&lb();else ra["try"](Fb,function(fb){var wb=ca/va;fb.width/fb.height>wb?(lc=fb.height,U=fb.height*wb,sc=Math.round((fb.width-U)/2),qc=0):(U=fb.width,lc=fb.width/wb,sc=0,qc=Math.round((fb.height-lc)/2));1>ja.width/ja.height?(b=da=wb=Ca,sb=Math.round((ca-wb)/2),Jb=Math.round((va-wb)/2)):(b=da=wb=Ua,sb=Math.round((ca-wb)/
2),Jb=Math.round((va-wb)/2));Z=fb;Wb=!0;fc.width=kb.width;fc.height=kb.height;zc.clearRect(0,0,kb.width,kb.height);zc.drawImage(fb,sc,qc,U,lc,0,0,ca,va);wb=fc.width;for(var Yb=fc.height,bc=zc.getImageData(0,0,wb,Yb).data,Pb=0,cc=[0,0],Ac=0;Ac<wb;++Ac)for(var Bc=0;Bc<Yb;++Bc){var Nb=bc[4*(Ac+Bc*wb)+3]/255;cc[0]+=Nb*Ac;cc[1]+=Nb*Bc;Pb+=Nb}cc[0]/=Pb;cc[1]/=Pb;kc=cc;ia();ua[Fb]={u:fb,s:kc,F:sc,G:qc,B:U,A:lc,l:sb,m:Jb,j:da,i:b,w:Ca,v:Ua};lb&&lb()})},detect:function(S,Na,lb,Fb){if(hb)setTimeout(function(){ra.detect(S,
Na,lb,Fb)},1E3);else if("IMG"!==S.tagName||S.complete){hb=!0;ab=!1;Da=S;Xa=Na;lb&&(Xb=lb);Fb&&(pc=Fb);Na?Zb=S:(Zb&&aa||(Zb=document.createElement("canvas"),aa=Zb.getContext("2d")),Zb.width=S.width,Zb.height=S.height,aa.save(),aa.translate(S.width,0),aa.scale(-1,1),aa.drawImage(S,0,0),aa.restore());ca||ra.set_size(S.width,S.height);Z=!1;ua={};var fb=0,wb=0,Yb=0,bc=0;S.width>=S.height?(wb=0,Yb=bc=S.height,fb=Math.round((S.width-S.height)/2)):(fb=0,Yb=bc=S.width,wb=Math.round((S.height-S.width)/2));
ic.drawImage(Zb,fb,wb,Yb,bc,0,0,Ab.width,Ab.height);ra.c(ta.b,{action:"detect",imageData:Ab.toDataURL("image/"+ta.H)},ra.on_detect,function(){hb=!1});fb=ca/va;var Pb=-1;S.width/S.height>fb?(bc=S.height,Yb=Math.round(S.height*fb),fb=Math.round((S.width-Yb)/2),wb=0,Pb=va/S.height):(Yb=S.width,bc=Math.round(S.width/fb),fb=0,wb=Math.round((S.height-bc)/2),Pb=ca/S.width);Ca=Math.round(Pb*S.width);Ua=Math.round(Pb*S.height);Pb=Math.min(Pb,1);ja.width=Math.round(Pb*S.width);ja.height=Math.round(Pb*S.height);
na.drawImage(Zb,0,0,S.width,S.height,0,0,ja.width,ja.height);ob.drawImage(Zb,fb,wb,Yb,bc,0,0,ca,va)}else S.onload=function(){ra.detect(S,Na,lb,Fb)}},get_reducedImage:function(){return ja},on_detect:function(S){hb=!1;S=JSON.parse(S);S.detectionId?(Tb=S.detectionId,ab=!0,Ta.forEach(function(Na){ra.onLoad(Na)}),Ta.splice(0,Ta.length),Xb&&Xb(Tb),Vb&&Lb&&ra.load_model(!1,!1,R,Lb)):pc&&pc()},"try":function(S,Na){if(hb||!ab)return!1;hb=!0;Vb=!1;Lb=S;Ub=Na;ra.c(ta.b,{action:"try",sku:S,detectionId:Tb},ra.on_try,
function(){hb=!1});return!0},on_try:function(S){hb=!1;if((S=JSON.parse(S))&&S.imageData){var Na=new Image;Na.src=S.imageData;Vb=!0;Ub&&(Na.onload=function(){Ub(Na)})}else $b&&$b()},c:function(S,Na,lb,Fb){var fb=new XMLHttpRequest;fb.open("POST",S,!0);fb.setRequestHeader("Content-type","application/x-www-form-urlencoded");Fb&&(fb.onerror=Fb);fb.onreadystatechange=function(){4===fb.readyState&&200===fb.status&&lb(fb.responseText)};fb.send(JSON.stringify(Na))}};ra.onHalfLoad=ra.onLoad;return ra}();(function(Q,
ia){"function"===typeof define&&define.amd?define(ia):"object"===typeof exports?module.exports=ia():Q.ResizeSensor=ia()})("undefined"!==typeof window?window:this,function(){function Q(ta,ab){var Pa=Object.prototype.toString.call(ta),eb=0,Da=ta.length;if("[object Array]"===Pa||"[object NodeList]"===Pa||"[object HTMLCollection]"===Pa||"[object Object]"===Pa||"undefined"!==typeof jQuery&&ta instanceof jQuery||"undefined"!==typeof Elements&&ta instanceof Elements)for(;eb<Da;eb++)ab(ta[eb]);else ab(ta)}
if("undefined"===typeof window)return null;var ia=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(ta){return window.setTimeout(ta,20)},Fa=function(ta,ab){function Pa(){var Da=[];this.add=function(Qa){Da.push(Qa)};var Xa,hb;this.call=function(){Xa=0;for(hb=Da.length;Xa<hb;Xa++)Da[Xa].call()};this.remove=function(Qa){var Ab=[];Xa=0;for(hb=Da.length;Xa<hb;Xa++)Da[Xa]!==Qa&&Ab.push(Da[Xa]);Da=Ab};this.length=function(){return Da.length}}function eb(Da,
Xa){if(Da)if(Da.resizedAttached)Da.resizedAttached.add(Xa);else{Da.resizedAttached=new Pa;Da.resizedAttached.add(Xa);Da.resizeSensor=document.createElement("div");Da.resizeSensor.className="resize-sensor";Da.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Da.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Da.appendChild(Da.resizeSensor);Da.resizeSensor.offsetParent!==Da&&(Da.style.position="relative");var hb=Da.resizeSensor.childNodes[0],Qa=hb.childNodes[0],Ab=Da.resizeSensor.childNodes[1],ic,Tb,Ub,Lb,Vb=Da.offsetWidth,R=Da.offsetHeight,X=function(){Qa.style.width="100000px";Qa.style.height="100000px";hb.scrollLeft=1E5;hb.scrollTop=1E5;Ab.scrollLeft=1E5;Ab.scrollTop=1E5};X();var ca=function(){Tb=0;ic&&(Vb=Ub,R=Lb,Da.resizedAttached&&Da.resizedAttached.call())};Xa=function(){Ub=Da.offsetWidth;Lb=Da.offsetHeight;
(ic=Ub!=Vb||Lb!=R)&&!Tb&&(Tb=ia(ca));X()};var va=function(ua,ja,na){ua.attachEvent?ua.attachEvent("on"+ja,na):ua.addEventListener(ja,na)};va(hb,"scroll",Xa);va(Ab,"scroll",Xa)}}Q(ta,function(Da){eb(Da,ab)});this.detach=function(Da){Fa.detach(ta,Da)}};Fa.detach=function(ta,ab){Q(ta,function(Pa){if(Pa){if(Pa.resizedAttached&&"function"==typeof ab&&(Pa.resizedAttached.remove(ab),Pa.resizedAttached.length()))return;Pa.resizeSensor&&(Pa.contains(Pa.resizeSensor)&&Pa.removeChild(Pa.resizeSensor),delete Pa.resizeSensor,
delete Pa.resizedAttached)}})};return Fa});(function(){function Q(R,X){X||R.match(/^data:([^;]+);base64,/mi);R=R.replace(/^data:([^;]+);base64,/gmi,"");R=atob(R);X=R.length;for(var ca=new ArrayBuffer(X),va=new Uint8Array(ca),ua=0;ua<X;ua++)va[ua]=R.charCodeAt(ua);return ca}function ia(R,X){var ca=new XMLHttpRequest;ca.open("GET",R,!0);ca.responseType="blob";ca.onload=function(va){200!=this.status&&0!==this.status||X(this.response)};ca.send()}function Fa(R,X){function ca(na){var Ca=ta(na);R.exifdata=
Ca||{};a:if(Ca=new DataView(na),255!=Ca.getUint8(0)||216!=Ca.getUint8(1))Ca=!1;else{for(var Ua=2,rb=na.byteLength;Ua<rb;){var ob=Ca,ib=Ua;if(56===ob.getUint8(ib)&&66===ob.getUint8(ib+1)&&73===ob.getUint8(ib+2)&&77===ob.getUint8(ib+3)&&4===ob.getUint8(ib+4)&&4===ob.getUint8(ib+5)){ob=Ca.getUint8(Ua+7);0!==ob%2&&(ob+=1);0===ob&&(ob=4);rb=Ua+8+ob;Ua=Ca.getUint16(Ua+6+ob);Ca=rb;rb=new DataView(na);ob={};for(ib=Ca;ib<Ca+Ua;){if(28===rb.getUint8(ib)&&2===rb.getUint8(ib+1)){var tb=rb.getUint8(ib+2);if(tb in
Vb){var zb=rb.getInt16(ib+3);tb=Vb[tb];zb=eb(rb,ib+5,zb);ob.hasOwnProperty(tb)?ob[tb]instanceof Array?ob[tb].push(zb):ob[tb]=[ob[tb],zb]:ob[tb]=zb}}ib++}Ca=ob;break a}Ua++}Ca=void 0}R.iptcdata=Ca||{};if(Qa.isXmpEnabled){a:if("DOMParser"in self)if(Ca=new DataView(na),255!=Ca.getUint8(0)||216!=Ca.getUint8(1))var Ta=!1;else{Ua=2;rb=na.byteLength;for(na=new DOMParser;Ua<rb-4;)if("http"==eb(Ca,Ua,4)){rb=Ua-1;Ua=Ca.getUint16(Ua-2)-1;Ca=eb(Ca,rb,Ua);Ua=Ca.indexOf("xmpmeta>")+8;Ca=Ca.substring(Ca.indexOf("<x:xmpmeta"),
Ua);Ua=Ca.indexOf("x:xmpmeta")+10;Ca=Ca.slice(0,Ua)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+
Ca.slice(Ua);b:{na=na.parseFromString(Ca,"text/xml");try{Ca={};if(0<na.children.length)for(Ua=0;Ua<na.children.length;Ua++){var kb=na.children.item(Ua),vb=kb.attributes,Wb;for(Wb in vb){var $b=vb[Wb],pc=$b.nodeName,Xb=$b.nodeValue;void 0!==pc&&(Ca[pc]=Xb)}var Mb=kb.nodeName;if("undefined"==typeof Ca[Mb])Ca[Mb]=Xa(kb);else{if("undefined"==typeof Ca[Mb].push){var ac=Ca[Mb];Ca[Mb]=[];Ca[Mb].push(ac)}Ca[Mb].push(Xa(kb))}}else Ca=na.textContent;Ta=Ca;break b}catch(jc){console.log(jc.message)}Ta=void 0}break a}else Ua++;
Ta=void 0}else Ta=void 0;R.xmpdata=Ta||{}}X&&X.call(R)}if(R.src)if(/^data:/i.test(R.src)){var va=Q(R.src);ca(va)}else if(/^blob:/i.test(R.src)){var ua=new FileReader;ua.onload=function(na){ca(na.target.result)};ia(R.src,function(na){ua.readAsArrayBuffer(na)})}else{var ja=new XMLHttpRequest;ja.onload=function(){if(200==this.status||0===this.status)ca(ja.response);else throw"Could not load image";ja=null};ja.open("GET",R.src,!0);ja.responseType="arraybuffer";ja.send(null)}else self.FileReader&&(R instanceof
self.Blob||R instanceof self.File)&&(ua=new FileReader,ua.onload=function(na){ca(na.target.result)},ua.readAsArrayBuffer(R))}function ta(R){var X=new DataView(R);if(255!=X.getUint8(0)||216!=X.getUint8(1))return!1;var ca=2;R=R.byteLength;for(var va;ca<R;){if(255!=X.getUint8(ca))return!1;va=X.getUint8(ca+1);if(225==va)return Da(X,ca+4,X.getUint16(ca+2)-2);ca+=2+X.getUint16(ca+2)}}function ab(R,X,ca,va,ua){var ja=R.getUint16(ca,!ua),na={},Ca;for(Ca=0;Ca<ja;Ca++){var Ua=ca+12*Ca+2;var rb=va[R.getUint16(Ua,
!ua)];na[rb]=Pa(R,Ua,X,ca,ua)}return na}function Pa(R,X,ca,va,ua){var ja=R.getUint16(X+2,!ua);va=R.getUint32(X+4,!ua);ca=R.getUint32(X+8,!ua)+ca;switch(ja){case 1:case 7:if(1==va)return R.getUint8(X+8,!ua);ca=4<va?ca:X+8;X=[];for(ja=0;ja<va;ja++)X[ja]=R.getUint8(ca+ja);return X;case 2:return eb(R,4<va?ca:X+8,va-1);case 3:if(1==va)return R.getUint16(X+8,!ua);ca=2<va?ca:X+8;X=[];for(ja=0;ja<va;ja++)X[ja]=R.getUint16(ca+2*ja,!ua);return X;case 4:if(1==va)return R.getUint32(X+8,!ua);X=[];for(ja=0;ja<
va;ja++)X[ja]=R.getUint32(ca+4*ja,!ua);return X;case 5:if(1==va){var na=R.getUint32(ca,!ua);var Ca=R.getUint32(ca+4,!ua);R=new Number(na/Ca);R.numerator=na;R.denominator=Ca;return R}X=[];for(ja=0;ja<va;ja++)na=R.getUint32(ca+8*ja,!ua),Ca=R.getUint32(ca+4+8*ja,!ua),X[ja]=new Number(na/Ca),X[ja].numerator=na,X[ja].denominator=Ca;return X;case 9:if(1==va)return R.getInt32(X+8,!ua);X=[];for(ja=0;ja<va;ja++)X[ja]=R.getInt32(ca+4*ja,!ua);return X;case 10:if(1==va)return R.getInt32(ca,!ua)/R.getInt32(ca+
4,!ua);X=[];for(ja=0;ja<va;ja++)X[ja]=R.getInt32(ca+8*ja,!ua)/R.getInt32(ca+4+8*ja,!ua);return X}}function eb(R,X,ca){var va="";for(ca=X+ca;X<ca;++X)va+=String.fromCharCode(R.getUint8(X));return va}function Da(R,X){if("Exif"!=eb(R,X,4))return!1;var ca=X+6;if(18761==R.getUint16(ca))var va=!1;else if(19789==R.getUint16(ca))va=!0;else return!1;if(42!=R.getUint16(ca+2,!va))return!1;var ua=R.getUint32(ca+4,!va);if(8>ua)return!1;X=ab(R,ca,ca+ua,ic,va);if(X.ExifIFDPointer){var ja=ab(R,ca,ca+X.ExifIFDPointer,
Ab,va);for(na in ja){switch(na){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":ja[na]=Lb[na][ja[na]];break;case "ExifVersion":case "FlashpixVersion":ja[na]=String.fromCharCode(ja[na][0],ja[na][1],ja[na][2],ja[na][3]);break;case "ComponentsConfiguration":ja[na]=
Lb.Components[ja[na][0]]+Lb.Components[ja[na][1]]+Lb.Components[ja[na][2]]+Lb.Components[ja[na][3]]}X[na]=ja[na]}}if(X.GPSInfoIFDPointer)for(na in ja=ab(R,ca,ca+X.GPSInfoIFDPointer,Tb,va),ja){switch(na){case "GPSVersionID":ja[na]=ja[na][0]+"."+ja[na][1]+"."+ja[na][2]+"."+ja[na][3]}X[na]=ja[na]}var na=va;ua=ca+ua;va=R.getUint16(ua,!na);if(ua=R.getUint32(ua+2+12*va,!na))if(ua>R.byteLength)R={};else{na=ab(R,ca,ca+ua,Ub,na);if(na.Compression)switch(na.Compression){case 6:na.JpegIFOffset&&na.JpegIFByteCount&&
(na.blob=new Blob([new Uint8Array(R.buffer,ca+na.JpegIFOffset,na.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",na.Compression)}else 2==na.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");R=na}else R={};X.thumbnail=R;return X}function Xa(R){var X={};if(1==R.nodeType){if(0<R.attributes.length){X["@attributes"]=
{};for(var ca=0;ca<R.attributes.length;ca++){var va=R.attributes.item(ca);X["@attributes"][va.nodeName]=va.nodeValue}}}else if(3==R.nodeType)return R.nodeValue;if(R.hasChildNodes())for(ca=0;ca<R.childNodes.length;ca++){va=R.childNodes.item(ca);var ua=va.nodeName;if(null==X[ua])X[ua]=Xa(va);else{if(null==X[ua].push){var ja=X[ua];X[ua]=[];X[ua].push(ja)}X[ua].push(Xa(va))}}return X}var hb=this||window,Qa=function(R){if(R instanceof Qa)return R;if(!(this instanceof Qa))return new Qa(R);this.EXIFwrapped=
R};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=Qa),exports.EXIF=Qa):hb.EXIF=Qa;var Ab=Qa.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",
33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",
41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},ic=Qa.TiffTags={256:"ImageWidth",257:"ImageHeight",
34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",
529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},Tb=Qa.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",
19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},Ub=Qa.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",
283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},Lb=Qa.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",
6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",
1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",
69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",
95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},
GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},Vb={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",
105:"headline",116:"copyright",15:"category"};Qa.enableXmp=function(){Qa.isXmpEnabled=!0};Qa.disableXmp=function(){Qa.isXmpEnabled=!1};Qa.getData=function(R,X){if((self.Image&&R instanceof self.Image||self.HTMLImageElement&&R instanceof self.HTMLImageElement)&&!R.complete)return!1;R.exifdata?X&&X.call(R):Fa(R,X);return!0};Qa.getTag=function(R,X){if(R.exifdata)return R.exifdata[X]};Qa.getIptcTag=function(R,X){if(R.exifdata)return R.iptcdata[X]};Qa.getAllTags=function(R){if(!R.exifdata)return{};var X;
R=R.exifdata;var ca={};for(X in R)R.hasOwnProperty(X)&&(ca[X]=R[X]);return ca};Qa.getAllIptcTags=function(R){if(!R.exifdata)return{};var X;R=R.iptcdata;var ca={};for(X in R)R.hasOwnProperty(X)&&(ca[X]=R[X]);return ca};Qa.pretty=function(R){if(!R.exifdata)return"";var X;R=R.exifdata;var ca="";for(X in R)R.hasOwnProperty(X)&&(ca="object"==typeof R[X]?R[X]instanceof Number?ca+(X+" : "+R[X]+" ["+R[X].numerator+"/"+R[X].denominator+"]\r\n"):ca+(X+" : ["+R[X].length+" values]\r\n"):ca+(X+" : "+R[X]+"\r\n"));
return ca};Qa.readFromBinaryFile=function(R){return ta(R)};"function"===typeof define&&define.amd&&define("exif-js",[],function(){return Qa})}).call(this);var Wc=function(){function Q(Fa,ta,ab,Pa){var eb=new FileReader;eb.onload=function(){var Da=new Image;Da.src=eb.result;Da.onload=ia.process.bind(ia,Fa,Da,ab,Pa)};eb.onerror=function(){Pa("WRONGFILEFORMAT")};eb.readAsDataURL(ta)}var ia={read:function(Fa,ta,ab){if(Fa.files&&Fa.files.length){var Pa=Fa.files[0];Fa=Pa.name.split(".").pop().toLowerCase();
-1===["jpg","jpeg","png"].indexOf(Fa)?ab("WRONGFILEFORMAT"):EXIF.getData(Pa,function(){console.log("INFO in ImageProcess - read() - EXIF data =",EXIF.pretty(Pa));var eb=EXIF.getTag(Pa,"Orientation");Q(eb,Pa,ta,ab)})||Q(-1,Pa,ta,ab)}else ab("NOFILE")},process:function(Fa,ta,ab,Pa){if("number"===typeof Fa&&2<=Fa&&8>=Fa){console.log("INFO in ImageProcess - process(): image needs to be reoriented. orientation =",Fa);Pa=ta.width;var eb=ta.height,Da=document.createElement("canvas");-1<[5,6,7,8].indexOf(Fa)?
(console.log("INFO in ImageProcess - process(): the image needs to be 90\u00b0 rotated"),Da.width=eb,Da.height=Pa):(Da.width=Pa,Da.height=eb);var Xa=Da.getContext("2d");switch(Fa){case 2:Xa.transform(-1,0,0,1,Pa,0);break;case 3:Xa.transform(-1,0,0,-1,Pa,eb);break;case 4:Xa.transform(1,0,0,-1,0,eb);break;case 5:Xa.transform(0,1,1,0,0,0);break;case 6:Xa.transform(0,1,-1,0,eb,0);break;case 7:Xa.transform(0,-1,-1,0,eb,Pa);break;case 8:Xa.transform(0,-1,1,0,0,Pa);break;default:Xa.transform(1,0,0,1,0,0)}Xa.drawImage(ta,
0,0);Fa=Da}else Fa=ta;ab(Fa)}};return ia}(),oc={disableFallback:!0,glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/",fallbackURL:"https://fallbackglassesdb.jeeliz.com"},Eb={notLoaded:-1,init:0,fallback:1,realtime:2,loadingModel:3,paused:4},Oa={canRT:!0,isRT:!0,sku:void 0,mode:Eb.notLoaded},Oc=-1,Pc=-1,Fc=-1,Gc=-1,gd={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,inputFile:null,inputFileButton:null,inputFileButtonFallbackMessage:null,
uploadNotice:null,backToRTButton:null,loading:null,trackIframe:null},oa=Object.assign({},gd),nd={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},Zc=null,wc={enabled:!1,callback:null,interval:1E3},Nc={error:!1},Ec=null,nc=null,xb={start:function(Q){console.log("INFO in JeelizVTOWidget.js: start()");if(Oa.mode!==Eb.notLoaded)xb.resume();else{Ea();if(Q.settings)for(var ia in Q.settings)oc[ia]=Q.settings[ia];Q.NNCPath&&nb.set_NNCPath(Q.NNCPath);Q.faceDetectionCallback&&(wc.enabled=
!0,wc.callback=Q.faceDetectionCallback,wc.interval="undefined"===typeof Q.faceDetectionInterval?1E3:Q.faceDetectionInterval);Zc=Object.assign({},nd,Q.callbacks||{});oa.container=Q.placeHolder||Ga("JeelizVTOWidget");if(!oa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");oa.cv=Q.canvas||Ga("JeelizVTOWidgetCanvas");oa.cv||(oa.cv=document.createElement("canvas"),oa.container.appendChild(oa.cv));oa.loading=Ga("JeelizVTOWidgetLoading");id();Q.onError&&
(Nc.error=Q.onError);jd();if(!xa(oa.container))return Db("PLACEHOLDER_NULL_WIDTH"),!1;if(!Sa(oa.container))return Db("PLACEHOLDER_NULL_HEIGHT"),!1;rc();new ResizeSensor(oa.container,function(Fa){rc()});(Q.searchImageMask||Q.searchImageColor||Q.searchImageRotationSpeed)&&nb.set_loading(Q.searchImageMask,Q.searchImageColor,Q.searchImageRotationSpeed);Q.callbackReady&&(nc=Q.callbackReady);Oa.mode=Eb.init;ia="undefined"===typeof Q.assetsPath?oc.appstaticURL+"jeefit/":Q.assetsPath;"undefined"!==typeof Q.catalog&&
(Ec=Q.catalog);if(Q.onWebcamGet)nb.onWebcamGet(Q.onWebcamGet);nb.init(ia,ya,Cc,oa.cv);nb.onHalfLoad(xb.load.bind(xb,Q.sku?Q.sku:null));return!0}},destroy:function(){return nb.destroy().then(function(){Oa.mode=Eb.notLoaded;Oa.sku=void 0;nc=Ec=null;Object.assign(oa,gd)})},pause:function(Q){if(!Oa.isRT)return Promise.reject();Oa.mode=Eb.paused;var ia=nb.switch_sleep(!0,Q);return Q?ia:Promise.resolve(ia)},resume:function(Q){if(!Oa.isRT)return Promise.reject();Oa.mode=Eb.realtime;var ia=nb.switch_sleep(!1,
Q);return Q?ia:Promise.resolve(ia)},set_videoRotation:function(Q){Oa.isRT&&nb.set_videoRotation(Q)},set_videoSizes:function(Q,ia,Fa,ta,ab,Pa){Oa.isRT&&nb.set_videoSizes(Q,ia,Fa,ta,ab,Pa)},resize:function(){rc()},set_scale:function(Q){nb.set_scale(Q)},capture_image:function(Q,ia,Fa){nb&&nb.ready?nb.capture_image(Q,ia,Fa,!1):ia(!1)},toggle_loading:function(Q){Q?($a(oa.loading),Hc("LOADING_START")):(Ha(oa.loading),Hc("LOADING_END"))},load_modelStandalone:function(Q,ia){if(!Oa.isRT)throw Error("Loading standalone models is only available in RT mode");
Oa.mode===Eb.paused&&xb.resume();Oa.mode=Eb.loadingModel;var Fa="undef";"string"===typeof Q?(Fa=Q,Ob(Q).then(function(ta){nb.set_modelStandalone(ta,ia,Fa)}).catch(Qb)):(Fa="RANDOM_SKU_"+Date.now().toString(),nb.set_modelStandalone(Q,ia,Fa));Oa.sku=Fa},load:function(Q,ia){xb.toggle_loading(!0);Oa.isRT?xb.load_RT(Q,ia):xb.load_fallback(Q,ia)},load_fallback:function(Q,ia){Q&&(Oa.mode=Eb.loadingModel,nb.load_model(null,null,function(){Oa.mode=Eb.fallback;xb.toggle_loading(!1);ia&&ia();Xc(Q)},Q))},load_RT:function(Q,
ia){Q===Oa.sku?xb.toggle_loading(!1):(Oa.sku=Q,Oa.mode=Eb.loadingModel,Oa.mode===Eb.paused&&xb.resume(),Q?Ec&&Ec[Q]?Yc(Q,Ec[Q],ia):Ob(oc.glassesDBURL+Q).then(function(Fa){if(Fa.error)return Qb();Yc(Q,Fa.intrinsic,ia)}).catch(Qb):(Oa.mode=Eb.realtime,xb.toggle_loading(!1),nb.start_rendering(),ia&&ia()))},enter_adjustMode:vc,exit_adjustMode:Uc};return xb}();JEELIZVTO=JEELIZVTO;JeefitFallback=JeefitFallback;
JEELIZVTOWIDGET={VERSION:"2.1.0",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};

export {JEELIZVTO, JEELIZVTOWIDGET};
/* eslint-enable */
